{"config":{"indexing":"full","lang":["en","ru"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"changelog/","text":"Changelog 1.2.0 - ? Broken change Change Config.compression.user_content_type_rule to Config.compression.content_type_user_rule Add more support for HTTP header: Range Fix HTTP Digest rules checker Add a new property DAVResponse.content_type_user_rule 1.1.0 - 2022-06-05 Add new feature: CORS Reduce Docker image size 1.0.0 - 2022-03-09 Broken change Remove feature: DirBrowserIgnore Change docker base image from slim -> alpine, Add non-root support in docker container Add new feature: hide file in directory Add hashlib mode for stored password Add HTTP Digest mode for stored password Add LDAP mode for stored password 0.9.1 - 2021-08-02 Fix bug 0.9.0 - 2021-08-02 Add Config.http_digest_auth.enable_rule 0.8.1 - 2021-07-30 Fix Dockerfile 0.8.0 - 2021-07-30 Real client ip address CLI support Release Windows/macOS package 0.7.0 - 2021-07-03 Add logging page: /_/admin/logging Disable Digest auth in default Support header Accept-Ranges/Range/Content-Range (Incomplete implementation) Fix bug: can't access home dir when it can't access share dir 0.6.1 - 2021-06-23 Compatible with Window10 Explorer(Microsoft-WebDAV-MiniRedir/10.0.19043) 0.6.0 - 2021-06-22 Support HTTP Digest authentication Code optimization 0.5.0 - 2021-05-14 Text file charset detect Support gzip/brotli in response Fix bug: Content-Encoding 0.4.0 - 2021-05-10 Support ignore rules in web dir browser Configurable guess_type() 0.3.1 - 2021-05-06 Broken change: Config.username/password => Config.account_mapping Environment Variable Name Add multi-account support Add permission support Add home_dir support 0.2.1 - 2021-04-27 Add web dir browser 0.1.1 - 2021-03-26 Fix bug 0.1.0 - 2021-03-25 first release","title":"Changelog"},{"location":"changelog/#changelog","text":"","title":"Changelog"},{"location":"changelog/#120-","text":"Broken change Change Config.compression.user_content_type_rule to Config.compression.content_type_user_rule Add more support for HTTP header: Range Fix HTTP Digest rules checker Add a new property DAVResponse.content_type_user_rule","title":"1.2.0 - ?"},{"location":"changelog/#110-2022-06-05","text":"Add new feature: CORS Reduce Docker image size","title":"1.1.0 - 2022-06-05"},{"location":"changelog/#100-2022-03-09","text":"Broken change Remove feature: DirBrowserIgnore Change docker base image from slim -> alpine, Add non-root support in docker container Add new feature: hide file in directory Add hashlib mode for stored password Add HTTP Digest mode for stored password Add LDAP mode for stored password","title":"1.0.0 - 2022-03-09"},{"location":"changelog/#091-2021-08-02","text":"Fix bug","title":"0.9.1 - 2021-08-02"},{"location":"changelog/#090-2021-08-02","text":"Add Config.http_digest_auth.enable_rule","title":"0.9.0 - 2021-08-02"},{"location":"changelog/#081-2021-07-30","text":"Fix Dockerfile","title":"0.8.1 - 2021-07-30"},{"location":"changelog/#080-2021-07-30","text":"Real client ip address CLI support Release Windows/macOS package","title":"0.8.0 - 2021-07-30"},{"location":"changelog/#070-2021-07-03","text":"Add logging page: /_/admin/logging Disable Digest auth in default Support header Accept-Ranges/Range/Content-Range (Incomplete implementation) Fix bug: can't access home dir when it can't access share dir","title":"0.7.0 - 2021-07-03"},{"location":"changelog/#061-2021-06-23","text":"Compatible with Window10 Explorer(Microsoft-WebDAV-MiniRedir/10.0.19043)","title":"0.6.1 - 2021-06-23"},{"location":"changelog/#060-2021-06-22","text":"Support HTTP Digest authentication Code optimization","title":"0.6.0 - 2021-06-22"},{"location":"changelog/#050-2021-05-14","text":"Text file charset detect Support gzip/brotli in response Fix bug: Content-Encoding","title":"0.5.0 - 2021-05-14"},{"location":"changelog/#040-2021-05-10","text":"Support ignore rules in web dir browser Configurable guess_type()","title":"0.4.0 - 2021-05-10"},{"location":"changelog/#031-2021-05-06","text":"Broken change: Config.username/password => Config.account_mapping Environment Variable Name Add multi-account support Add permission support Add home_dir support","title":"0.3.1 - 2021-05-06"},{"location":"changelog/#021-2021-04-27","text":"Add web dir browser","title":"0.2.1 - 2021-04-27"},{"location":"changelog/#011-2021-03-26","text":"Fix bug","title":"0.1.1 - 2021-03-26"},{"location":"changelog/#010-2021-03-25","text":"first release","title":"0.1.0 - 2021-03-25"},{"location":"compatibility/","text":"Compatibility Compatible Clients Client First tested version Remarks Firefox/Chrome/Safari 0.1.0 - macOS finder(WebDAVFS/3.0.0) 0.1.0 - Window10 Explorer(Microsoft-WebDAV-MiniRedir/10.0.19043) 0.6.1 Basic auth only support HTTPS, HTTP please enable Digest Joplin(Joplin/1.0) 0.1.0 - OmniFocus(OmniFocus-Mac/149.14.0/v3.11.7) 0.1.0 - WinSCP(WinSCP/5.19.1 neon/0.31.2) 0.7.0 Only support Basic auth Compatibility Test Results Test in litmus(0.13) , Agent name is litmus/0.13 neon/0.31.2 Version string: neon 0.30.2: Library build, IPv6, libxml 2.9.4, zlib 1.2.11, GNU TLS 3.6.6. python3 -m asgi_webdav --litmus litmus http://192.168.200.198:8000/provider/fs username password # or litmus http://192.168.200.198:8000/provider/memory username password ASGI WebDAV Version: 0.3.1 -> running `basic': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. put_get............... pass 4. put_get_utf8_segment.. pass 5. put_no_parent......... pass 6. mkcol_over_plain...... pass 7. delete................ pass 8. delete_null........... pass 9. delete_fragment....... pass 10. mkcol................. pass 11. mkcol_again........... pass 12. delete_coll........... pass 13. mkcol_no_parent....... pass 14. mkcol_with_body....... pass 15. finish................ pass <- summary for `basic': of 16 tests run: 16 passed, 0 failed. 100.0% -> running `copymove': 0. init.................. pass 1. begin................. pass 2. copy_init............. pass 3. copy_simple........... pass 4. copy_overwrite........ pass 5. copy_nodestcoll....... pass 6. copy_cleanup.......... pass 7. copy_coll............. pass 8. copy_shallow.......... pass 9. move.................. pass 10. move_coll............. pass 11. move_cleanup.......... pass 12. finish................ pass <- summary for `copymove': of 13 tests run: 13 passed, 0 failed. 100.0% -> running `props': 0. init.................. pass 1. begin................. pass 2. propfind_invalid...... pass 3. propfind_invalid2..... pass 4. propfind_d0........... pass 5. propinit.............. pass 6. propset............... pass 7. propget............... pass 8. propextended.......... pass 9. propmove.............. pass 10. propget............... pass 11. propdeletes........... pass 12. propget............... pass 13. propreplace........... pass 14. propget............... pass 15. propnullns............ pass 16. propget............... pass 17. prophighunicode....... pass 18. propget............... pass 19. propremoveset......... pass 20. propget............... pass 21. propsetremove......... pass 22. propget............... pass 23. propvalnspace......... pass 24. propwformed........... pass 25. propinit.............. pass 26. propmanyns............ pass 27. propget............... pass 28. propcleanup........... pass 29. finish................ pass <- summary for `props': of 30 tests run: 30 passed, 0 failed. 100.0% -> running `locks': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. precond............... pass 4. init_locks............ pass 5. put................... pass 6. lock_excl............. pass 7. discover.............. pass 8. refresh............... pass 9. notowner_modify....... pass 10. notowner_lock......... pass 11. owner_modify.......... pass 12. notowner_modify....... pass 13. notowner_lock......... pass 14. copy.................. pass 15. cond_put.............. pass 16. fail_cond_put......... pass 17. cond_put_with_not..... pass 18. cond_put_corrupt_token WARNING: PUT failed with 412 not 423 ...................... pass (with 1 warning) 19. complex_cond_put...... pass 20. fail_complex_cond_put. pass 21. unlock................ pass 22. fail_cond_put_unlocked pass 23. lock_shared........... pass 24. notowner_modify....... pass 25. notowner_lock......... pass 26. owner_modify.......... pass 27. double_sharedlock..... pass 28. notowner_modify....... pass 29. notowner_lock......... pass 30. unlock................ pass 31. prep_collection....... pass 32. lock_collection....... pass 33. owner_modify.......... pass 34. notowner_modify....... pass 35. refresh............... pass 36. indirect_refresh...... pass 37. unlock................ pass 38. unmapped_lock......... WARNING: LOCK on unmapped url returned 200 not 201 (RFC4918:S7.3) ...................... pass (with 1 warning) 39. unlock................ pass 40. finish................ pass <- summary for `locks': of 41 tests run: 41 passed, 0 failed. 100.0% -> 2 warnings were issued. -> running `http': 0. init.................. pass 1. begin................. pass 2. expect100............. pass 3. finish................ pass <- summary for `http': of 4 tests run: 4 passed, 0 failed. 100.0% Apache mod_webdav in Docker From: bytemark/webdav Version: 2.4 Digest: c124350447bb Build Time: 2018-12-14 docker pull bytemark/webdav docker run --restart always \\ -e AUTH_TYPE = Digest -e USERNAME = username -e PASSWORD = password \\ --publish 8000 :80 -d bytemark/webdav -> running `basic': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. put_get............... pass 4. put_get_utf8_segment.. pass 5. put_no_parent......... pass 6. mkcol_over_plain...... pass 7. delete................ pass 8. delete_null........... pass 9. delete_fragment....... pass 10. mkcol................. pass 11. mkcol_again........... pass 12. delete_coll........... pass 13. mkcol_no_parent....... pass 14. mkcol_with_body....... pass 15. finish................ pass <- summary for `basic': of 16 tests run: 16 passed, 0 failed. 100.0% -> running `copymove': 0. init.................. pass 1. begin................. pass 2. copy_init............. pass 3. copy_simple........... pass 4. copy_overwrite........ pass 5. copy_nodestcoll....... pass 6. copy_cleanup.......... pass 7. copy_coll............. pass 8. copy_shallow.......... pass 9. move.................. pass 10. move_coll............. pass 11. move_cleanup.......... pass 12. finish................ pass <- summary for `copymove': of 13 tests run: 13 passed, 0 failed. 100.0% -> running `props': 0. init.................. pass 1. begin................. pass 2. propfind_invalid...... pass 3. propfind_invalid2..... pass 4. propfind_d0........... pass 5. propinit.............. pass 6. propset............... pass 7. propget............... pass 8. propextended.......... pass 9. propmove.............. pass 10. propget............... pass 11. propdeletes........... pass 12. propget............... pass 13. propreplace........... pass 14. propget............... pass 15. propnullns............ pass 16. propget............... pass 17. prophighunicode....... pass 18. propget............... pass 19. propremoveset......... pass 20. propget............... pass 21. propsetremove......... pass 22. propget............... pass 23. propvalnspace......... pass 24. propwformed........... pass 25. propinit.............. pass 26. propmanyns............ pass 27. propget............... pass 28. propcleanup........... pass 29. finish................ pass <- summary for `props': of 30 tests run: 30 passed, 0 failed. 100.0% -> running `locks': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. precond............... pass 4. init_locks............ pass 5. put................... pass 6. lock_excl............. pass 7. discover.............. pass 8. refresh............... pass 9. notowner_modify....... pass 10. notowner_lock......... pass 11. owner_modify.......... pass 12. notowner_modify....... pass 13. notowner_lock......... pass 14. copy.................. pass 15. cond_put.............. pass 16. fail_cond_put......... pass 17. cond_put_with_not..... pass 18. cond_put_corrupt_token WARNING: PUT failed with 400 not 423 ...................... pass (with 1 warning) 19. complex_cond_put...... pass 20. fail_complex_cond_put. pass 21. unlock................ pass 22. fail_cond_put_unlocked pass 23. lock_shared........... pass 24. notowner_modify....... pass 25. notowner_lock......... pass 26. owner_modify.......... pass 27. double_sharedlock..... pass 28. notowner_modify....... pass 29. notowner_lock......... pass 30. unlock................ pass 31. prep_collection....... pass 32. lock_collection....... pass 33. owner_modify.......... pass 34. notowner_modify....... pass 35. refresh............... pass 36. indirect_refresh...... pass 37. unlock................ pass 38. unmapped_lock......... WARNING: LOCK on unmapped url returned 200 not 201 (RFC4918:S7.3) ...................... pass (with 1 warning) 39. unlock................ pass 40. finish................ pass <- summary for `locks': of 41 tests run: 41 passed, 0 failed. 100.0% -> 2 warnings were issued. -> running `http': 0. init.................. pass 1. begin................. pass 2. expect100............. pass 3. finish................ pass <- summary for `http': of 4 tests run: 4 passed, 0 failed. 100.0% Nginx in Docker From: ugeek/webdav Digest: b5e54f00265e Build Time: 2021-02-09 docker pull ugeek/webdav:latest docker run --name webdav \\ --restart = unless-stopped \\ -p 8000 :80 \\ -e USERNAME = username \\ -e PASSWORD = password \\ -e TZ = Europe/Madrid \\ -e UDI = 1000 \\ -e GID = 1000 \\ -d ugeek/webdav:amd64 -> running `basic': 0. init.................. pass 1. begin................. pass 2. options............... WARNING: server does not claim Class 2 compliance ...................... pass (with 1 warning) 3. put_get............... pass 4. put_get_utf8_segment.. pass 5. put_no_parent......... pass 6. mkcol_over_plain...... pass 7. delete................ pass 8. delete_null........... pass 9. delete_fragment....... WARNING: DELETE removed collection resource with Request-URI including fragment; unsafe ...................... pass (with 1 warning) 10. mkcol................. pass 11. mkcol_again........... pass 12. delete_coll........... pass 13. mkcol_no_parent....... pass 14. mkcol_with_body....... pass 15. finish................ pass <- summary for `basic': of 16 tests run: 16 passed, 0 failed. 100.0% -> 2 warnings were issued. -> running `copymove': 0. init.................. pass 1. begin................. pass 2. copy_init............. pass 3. copy_simple........... WARNING: COPY to new resource should give 201 (RFC2518:S8.8.5) ...................... pass (with 1 warning) 4. copy_overwrite........ FAIL (COPY overwrites collection: 409 Conflict) 5. copy_nodestcoll....... WARNING: COPY to non-existant collection '/litmus/nonesuch' gave '500 Internal Server Error' not 409 (RFC2518:S8.8.5) ...................... pass (with 1 warning) 6. copy_cleanup.......... pass 7. copy_coll............. pass 8. copy_shallow.......... pass 9. move.................. WARNING: MOVE to new resource didn't give 201 ...................... FAIL (MOVE overwrites collection `/litmus/movecoll/' to `/litmus/movedest': 409 Conflict) 10. move_coll............. FAIL (MOVE collection `/litmus/mvdest2/' over non-collection `/litmus/mvnoncoll' with overwrite: 409 Conflict) 11. move_cleanup.......... pass 12. finish................ pass <- summary for `copymove': of 13 tests run: 10 passed, 3 failed. 76.9% -> 3 warnings were issued. See debug.log for network/debug traces. Summary basic copymove props locks http ASGI WebDAV pass pass pass 2 warnings pass Apache mod_webdav in docker pass pass pass 2 warnings pass Nginx in Docker 2 warnings 3 warnings skip skip skip","title":"Compatibility"},{"location":"compatibility/#compatibility","text":"","title":"Compatibility"},{"location":"compatibility/#compatible-clients","text":"Client First tested version Remarks Firefox/Chrome/Safari 0.1.0 - macOS finder(WebDAVFS/3.0.0) 0.1.0 - Window10 Explorer(Microsoft-WebDAV-MiniRedir/10.0.19043) 0.6.1 Basic auth only support HTTPS, HTTP please enable Digest Joplin(Joplin/1.0) 0.1.0 - OmniFocus(OmniFocus-Mac/149.14.0/v3.11.7) 0.1.0 - WinSCP(WinSCP/5.19.1 neon/0.31.2) 0.7.0 Only support Basic auth","title":"Compatible Clients"},{"location":"compatibility/#compatibility-test-results","text":"Test in litmus(0.13) , Agent name is litmus/0.13 neon/0.31.2 Version string: neon 0.30.2: Library build, IPv6, libxml 2.9.4, zlib 1.2.11, GNU TLS 3.6.6. python3 -m asgi_webdav --litmus litmus http://192.168.200.198:8000/provider/fs username password # or litmus http://192.168.200.198:8000/provider/memory username password","title":"Compatibility Test Results"},{"location":"compatibility/#asgi-webdav","text":"Version: 0.3.1 -> running `basic': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. put_get............... pass 4. put_get_utf8_segment.. pass 5. put_no_parent......... pass 6. mkcol_over_plain...... pass 7. delete................ pass 8. delete_null........... pass 9. delete_fragment....... pass 10. mkcol................. pass 11. mkcol_again........... pass 12. delete_coll........... pass 13. mkcol_no_parent....... pass 14. mkcol_with_body....... pass 15. finish................ pass <- summary for `basic': of 16 tests run: 16 passed, 0 failed. 100.0% -> running `copymove': 0. init.................. pass 1. begin................. pass 2. copy_init............. pass 3. copy_simple........... pass 4. copy_overwrite........ pass 5. copy_nodestcoll....... pass 6. copy_cleanup.......... pass 7. copy_coll............. pass 8. copy_shallow.......... pass 9. move.................. pass 10. move_coll............. pass 11. move_cleanup.......... pass 12. finish................ pass <- summary for `copymove': of 13 tests run: 13 passed, 0 failed. 100.0% -> running `props': 0. init.................. pass 1. begin................. pass 2. propfind_invalid...... pass 3. propfind_invalid2..... pass 4. propfind_d0........... pass 5. propinit.............. pass 6. propset............... pass 7. propget............... pass 8. propextended.......... pass 9. propmove.............. pass 10. propget............... pass 11. propdeletes........... pass 12. propget............... pass 13. propreplace........... pass 14. propget............... pass 15. propnullns............ pass 16. propget............... pass 17. prophighunicode....... pass 18. propget............... pass 19. propremoveset......... pass 20. propget............... pass 21. propsetremove......... pass 22. propget............... pass 23. propvalnspace......... pass 24. propwformed........... pass 25. propinit.............. pass 26. propmanyns............ pass 27. propget............... pass 28. propcleanup........... pass 29. finish................ pass <- summary for `props': of 30 tests run: 30 passed, 0 failed. 100.0% -> running `locks': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. precond............... pass 4. init_locks............ pass 5. put................... pass 6. lock_excl............. pass 7. discover.............. pass 8. refresh............... pass 9. notowner_modify....... pass 10. notowner_lock......... pass 11. owner_modify.......... pass 12. notowner_modify....... pass 13. notowner_lock......... pass 14. copy.................. pass 15. cond_put.............. pass 16. fail_cond_put......... pass 17. cond_put_with_not..... pass 18. cond_put_corrupt_token WARNING: PUT failed with 412 not 423 ...................... pass (with 1 warning) 19. complex_cond_put...... pass 20. fail_complex_cond_put. pass 21. unlock................ pass 22. fail_cond_put_unlocked pass 23. lock_shared........... pass 24. notowner_modify....... pass 25. notowner_lock......... pass 26. owner_modify.......... pass 27. double_sharedlock..... pass 28. notowner_modify....... pass 29. notowner_lock......... pass 30. unlock................ pass 31. prep_collection....... pass 32. lock_collection....... pass 33. owner_modify.......... pass 34. notowner_modify....... pass 35. refresh............... pass 36. indirect_refresh...... pass 37. unlock................ pass 38. unmapped_lock......... WARNING: LOCK on unmapped url returned 200 not 201 (RFC4918:S7.3) ...................... pass (with 1 warning) 39. unlock................ pass 40. finish................ pass <- summary for `locks': of 41 tests run: 41 passed, 0 failed. 100.0% -> 2 warnings were issued. -> running `http': 0. init.................. pass 1. begin................. pass 2. expect100............. pass 3. finish................ pass <- summary for `http': of 4 tests run: 4 passed, 0 failed. 100.0%","title":"ASGI WebDAV"},{"location":"compatibility/#apache-mod_webdav-in-docker","text":"From: bytemark/webdav Version: 2.4 Digest: c124350447bb Build Time: 2018-12-14 docker pull bytemark/webdav docker run --restart always \\ -e AUTH_TYPE = Digest -e USERNAME = username -e PASSWORD = password \\ --publish 8000 :80 -d bytemark/webdav -> running `basic': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. put_get............... pass 4. put_get_utf8_segment.. pass 5. put_no_parent......... pass 6. mkcol_over_plain...... pass 7. delete................ pass 8. delete_null........... pass 9. delete_fragment....... pass 10. mkcol................. pass 11. mkcol_again........... pass 12. delete_coll........... pass 13. mkcol_no_parent....... pass 14. mkcol_with_body....... pass 15. finish................ pass <- summary for `basic': of 16 tests run: 16 passed, 0 failed. 100.0% -> running `copymove': 0. init.................. pass 1. begin................. pass 2. copy_init............. pass 3. copy_simple........... pass 4. copy_overwrite........ pass 5. copy_nodestcoll....... pass 6. copy_cleanup.......... pass 7. copy_coll............. pass 8. copy_shallow.......... pass 9. move.................. pass 10. move_coll............. pass 11. move_cleanup.......... pass 12. finish................ pass <- summary for `copymove': of 13 tests run: 13 passed, 0 failed. 100.0% -> running `props': 0. init.................. pass 1. begin................. pass 2. propfind_invalid...... pass 3. propfind_invalid2..... pass 4. propfind_d0........... pass 5. propinit.............. pass 6. propset............... pass 7. propget............... pass 8. propextended.......... pass 9. propmove.............. pass 10. propget............... pass 11. propdeletes........... pass 12. propget............... pass 13. propreplace........... pass 14. propget............... pass 15. propnullns............ pass 16. propget............... pass 17. prophighunicode....... pass 18. propget............... pass 19. propremoveset......... pass 20. propget............... pass 21. propsetremove......... pass 22. propget............... pass 23. propvalnspace......... pass 24. propwformed........... pass 25. propinit.............. pass 26. propmanyns............ pass 27. propget............... pass 28. propcleanup........... pass 29. finish................ pass <- summary for `props': of 30 tests run: 30 passed, 0 failed. 100.0% -> running `locks': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. precond............... pass 4. init_locks............ pass 5. put................... pass 6. lock_excl............. pass 7. discover.............. pass 8. refresh............... pass 9. notowner_modify....... pass 10. notowner_lock......... pass 11. owner_modify.......... pass 12. notowner_modify....... pass 13. notowner_lock......... pass 14. copy.................. pass 15. cond_put.............. pass 16. fail_cond_put......... pass 17. cond_put_with_not..... pass 18. cond_put_corrupt_token WARNING: PUT failed with 400 not 423 ...................... pass (with 1 warning) 19. complex_cond_put...... pass 20. fail_complex_cond_put. pass 21. unlock................ pass 22. fail_cond_put_unlocked pass 23. lock_shared........... pass 24. notowner_modify....... pass 25. notowner_lock......... pass 26. owner_modify.......... pass 27. double_sharedlock..... pass 28. notowner_modify....... pass 29. notowner_lock......... pass 30. unlock................ pass 31. prep_collection....... pass 32. lock_collection....... pass 33. owner_modify.......... pass 34. notowner_modify....... pass 35. refresh............... pass 36. indirect_refresh...... pass 37. unlock................ pass 38. unmapped_lock......... WARNING: LOCK on unmapped url returned 200 not 201 (RFC4918:S7.3) ...................... pass (with 1 warning) 39. unlock................ pass 40. finish................ pass <- summary for `locks': of 41 tests run: 41 passed, 0 failed. 100.0% -> 2 warnings were issued. -> running `http': 0. init.................. pass 1. begin................. pass 2. expect100............. pass 3. finish................ pass <- summary for `http': of 4 tests run: 4 passed, 0 failed. 100.0%","title":"Apache mod_webdav in Docker"},{"location":"compatibility/#nginx-in-docker","text":"From: ugeek/webdav Digest: b5e54f00265e Build Time: 2021-02-09 docker pull ugeek/webdav:latest docker run --name webdav \\ --restart = unless-stopped \\ -p 8000 :80 \\ -e USERNAME = username \\ -e PASSWORD = password \\ -e TZ = Europe/Madrid \\ -e UDI = 1000 \\ -e GID = 1000 \\ -d ugeek/webdav:amd64 -> running `basic': 0. init.................. pass 1. begin................. pass 2. options............... WARNING: server does not claim Class 2 compliance ...................... pass (with 1 warning) 3. put_get............... pass 4. put_get_utf8_segment.. pass 5. put_no_parent......... pass 6. mkcol_over_plain...... pass 7. delete................ pass 8. delete_null........... pass 9. delete_fragment....... WARNING: DELETE removed collection resource with Request-URI including fragment; unsafe ...................... pass (with 1 warning) 10. mkcol................. pass 11. mkcol_again........... pass 12. delete_coll........... pass 13. mkcol_no_parent....... pass 14. mkcol_with_body....... pass 15. finish................ pass <- summary for `basic': of 16 tests run: 16 passed, 0 failed. 100.0% -> 2 warnings were issued. -> running `copymove': 0. init.................. pass 1. begin................. pass 2. copy_init............. pass 3. copy_simple........... WARNING: COPY to new resource should give 201 (RFC2518:S8.8.5) ...................... pass (with 1 warning) 4. copy_overwrite........ FAIL (COPY overwrites collection: 409 Conflict) 5. copy_nodestcoll....... WARNING: COPY to non-existant collection '/litmus/nonesuch' gave '500 Internal Server Error' not 409 (RFC2518:S8.8.5) ...................... pass (with 1 warning) 6. copy_cleanup.......... pass 7. copy_coll............. pass 8. copy_shallow.......... pass 9. move.................. WARNING: MOVE to new resource didn't give 201 ...................... FAIL (MOVE overwrites collection `/litmus/movecoll/' to `/litmus/movedest': 409 Conflict) 10. move_coll............. FAIL (MOVE collection `/litmus/mvdest2/' over non-collection `/litmus/mvnoncoll' with overwrite: 409 Conflict) 11. move_cleanup.......... pass 12. finish................ pass <- summary for `copymove': of 13 tests run: 10 passed, 3 failed. 76.9% -> 3 warnings were issued. See debug.log for network/debug traces.","title":"Nginx in Docker"},{"location":"compatibility/#summary","text":"basic copymove props locks http ASGI WebDAV pass pass pass 2 warnings pass Apache mod_webdav in docker pass pass pass 2 warnings pass Nginx in Docker 2 warnings 3 warnings skip skip skip","title":"Summary"},{"location":"contributing/","text":"Contributing New feature, bug fix, new language, new howto, typo fix; everything is fine. Note issue -> discuss -> fork -> PR Code Prepare git clone https://github.com/rexzhang/asgi-webdav.git cd asgi-webdav pip install -U -r requirements/dev.txt Run Dev Server python -m asgi_webdev --dev Documentation Create a new language translation Example cp docs/index.en.md docs/index.ru.md Update MkDocs's config file mkdocs.txt example languages : en : English ru : \u0440\u0443\u0441\u0441\u043a\u0438\u0439 zh : \u4e2d\u6587 nav_translations : zh : Home : \u9996\u9875 Setup : \u914d\u7f6e Reference : \u8d44\u6599 Trouble Shooting : \u6545\u969c\u5904\u7406 Ref ISO 639-1 language code MkDocs's i18n plugin Create a new howto nano docs/howto/howto-this-is-a-new-howto.en.md Preview pip install -U -r requirements/mkdocs.txt mkdocs serve","title":"Contributing"},{"location":"contributing/#contributing","text":"New feature, bug fix, new language, new howto, typo fix; everything is fine. Note issue -> discuss -> fork -> PR","title":"Contributing"},{"location":"contributing/#code","text":"","title":"Code"},{"location":"contributing/#prepare","text":"git clone https://github.com/rexzhang/asgi-webdav.git cd asgi-webdav pip install -U -r requirements/dev.txt","title":"Prepare"},{"location":"contributing/#run-dev-server","text":"python -m asgi_webdev --dev","title":"Run Dev Server"},{"location":"contributing/#documentation","text":"","title":"Documentation"},{"location":"contributing/#create-a-new-language-translation","text":"","title":"Create a new language translation"},{"location":"contributing/#example","text":"cp docs/index.en.md docs/index.ru.md","title":"Example"},{"location":"contributing/#update-mkdocss-config-file","text":"mkdocs.txt example languages : en : English ru : \u0440\u0443\u0441\u0441\u043a\u0438\u0439 zh : \u4e2d\u6587 nav_translations : zh : Home : \u9996\u9875 Setup : \u914d\u7f6e Reference : \u8d44\u6599 Trouble Shooting : \u6545\u969c\u5904\u7406","title":"Update MkDocs's config file"},{"location":"contributing/#ref","text":"ISO 639-1 language code MkDocs's i18n plugin","title":"Ref"},{"location":"contributing/#create-a-new-howto","text":"nano docs/howto/howto-this-is-a-new-howto.en.md","title":"Create a new howto"},{"location":"contributing/#preview","text":"pip install -U -r requirements/mkdocs.txt mkdocs serve","title":"Preview"},{"location":"","text":"Overview An asynchronous WebDAV server implementation, Support multi-provider, multi-account and permission control. Features ASGI standard WebDAV standard: RFC4918 Support multi-provider: FileProvider, MemoryProvider Support multi-account and permission control Support optional home directory Support store password in raw/hashlib/LDAP(experimental) mode Full asyncio file IO Passed all litmus(0.13) test, except 2 warning Browse the file directory in the browser Support HTTP Basic/Digest authentication Support response in Gzip/Brotli Compatible with macOS finder and Window10 Explorer Quick Start docker pull ray1ex/asgi-webdav docker run --restart always -p 0 .0.0.0:8000:8000 \\ -v /your/data:/data \\ -e UID = 1000 -e GID = 1000 \\ --name asgi-webdav ray1ex/asgi-webdav Default Account value description username username - password password - permission [\"+\"] Allow access to all directories View in Browser","title":"Overview"},{"location":"#overview","text":"An asynchronous WebDAV server implementation, Support multi-provider, multi-account and permission control.","title":"Overview"},{"location":"#features","text":"ASGI standard WebDAV standard: RFC4918 Support multi-provider: FileProvider, MemoryProvider Support multi-account and permission control Support optional home directory Support store password in raw/hashlib/LDAP(experimental) mode Full asyncio file IO Passed all litmus(0.13) test, except 2 warning Browse the file directory in the browser Support HTTP Basic/Digest authentication Support response in Gzip/Brotli Compatible with macOS finder and Window10 Explorer","title":"Features"},{"location":"#quick-start","text":"docker pull ray1ex/asgi-webdav docker run --restart always -p 0 .0.0.0:8000:8000 \\ -v /your/data:/data \\ -e UID = 1000 -e GID = 1000 \\ --name asgi-webdav ray1ex/asgi-webdav","title":"Quick Start"},{"location":"#default-account","text":"value description username username - password password - permission [\"+\"] Allow access to all directories","title":"Default Account"},{"location":"#view-in-browser","text":"","title":"View in Browser"},{"location":"install/","text":"Installation Docker Install docker pull ray1ex/asgi-webdav:latest Startup server docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data \\ -e UID=1000 -e GID=1000 \\ --name asgi-webdav ray1ex/asgi-webdav WARNING: load config value from file[/data/webdav.json] failed, [Errno 2] No such file or directory: '/data/webdav.json' INFO: [asgi_webdav.webdav] ASGI WebDAV(v0.3.1) starting... INFO: [asgi_webdav.distributor] Mapping Prefix: / => file:///data INFO: [asgi_webdav.auth] Register Account: username, allow:[''], deny:[] INFO: [uvicorn] Started server process [7] INFO: [uvicorn] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit) Default value username is username , password is password , map /your/data to http://localhost:8000 Python Module Install git pull https://github.com/rexzhang/asgi-webdav.git pip install -U -r requirements/base.txt Startup server Quick start Run it with config file python -m asgi_webdav --root-path . python -m asgi_webdav --config /your/webdav.json Output example 2022-03-22 16:06:49,363 INFO: [asgi_webdav.server] ASGI WebDAV Server(v1.0.0) starting... 2022-03-22 16:06:49,364 INFO: [asgi_webdav.auth] Register User: username, allow:[''], deny:[] 2022-03-22 16:06:49,364 INFO: [asgi_webdav.web_dav] Mapping Prefix: / => file://. 2022-03-22 16:06:49,844 INFO: [asgi_webdav.server] ASGI WebDAV Server running on http://127.0.0.1:8000 (Press CTRL+C to quit) Default value(quick start) username is username , password is password , mapping current path . to http://localhost:8000 Standalone Application Install macOS Windows wget https://github.com/rexzhang/asgi-webdav/releases/download/v0.9.1/asgi-webdav-macos.zip unzip asgi-webdav-macos.zip dl https://github.com/rexzhang/asgi-webdav/releases/download/v0.9.1/asgi-webdav.exe For other platforms or versions, please visit GitHub Release Startup server macOS macOS with config file Windows ./asgi_webdav -r . 2022-03-22 16:19:45,259 INFO: [asgi_webdav.server] ASGI WebDAV Server(v0.9.1) starting... 2022-03-22 16:19:45,259 INFO: [asgi_webdav.auth] Register User: username, allow:[''], deny:[] 2022-03-22 16:19:45,260 INFO: [asgi_webdav.web_dav] Mapping Prefix: / => file://. 2022-03-22 16:19:45,374 INFO: [asgi_webdav.server] ASGI WebDAV Server running on http://127.0.0.1:8000 (Press CTRL+C to quit) ./asgi-webdav --config /tmp/webdav.json INFO: [asgi_webdav.config] Load config value from config file:/tmp/webdav.json 2022-03-22 16:16:58,853 INFO: [asgi_webdav.server] ASGI WebDAV Server(v0.9.1) starting... 2022-03-22 16:16:58,853 INFO: [asgi_webdav.auth] Register User: rex-hashlib, allow:['^/$'], deny:[] 2022-03-22 16:16:58,853 INFO: [asgi_webdav.auth] Register User: rex, allow:[''], deny:[] 2022-03-22 16:16:58,853 INFO: [asgi_webdav.auth] Register User: user-ldap, allow:['^/$'], deny:[] 2022-03-22 16:16:58,854 INFO: [asgi_webdav.web_dav] Mapping Prefix: / => file:///tmp/root 2022-03-22 16:16:58,854 INFO: [asgi_webdav.web_dav] Mapping Prefix: /home => file:///tmp/homes/{user name} 2022-03-22 16:16:58,925 INFO: [asgi_webdav.server] ASGI WebDAV Server running on http://127.0.0.1:8000 (Press CTRL+C to quit) asgi_webdav --config c:/your/webdav.json","title":"Installation"},{"location":"install/#installation","text":"","title":"Installation"},{"location":"install/#docker","text":"","title":"Docker"},{"location":"install/#install","text":"docker pull ray1ex/asgi-webdav:latest","title":"Install"},{"location":"install/#startup-server","text":"docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data \\ -e UID=1000 -e GID=1000 \\ --name asgi-webdav ray1ex/asgi-webdav WARNING: load config value from file[/data/webdav.json] failed, [Errno 2] No such file or directory: '/data/webdav.json' INFO: [asgi_webdav.webdav] ASGI WebDAV(v0.3.1) starting... INFO: [asgi_webdav.distributor] Mapping Prefix: / => file:///data INFO: [asgi_webdav.auth] Register Account: username, allow:[''], deny:[] INFO: [uvicorn] Started server process [7] INFO: [uvicorn] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)","title":"Startup server"},{"location":"install/#default-value","text":"username is username , password is password , map /your/data to http://localhost:8000","title":"Default value"},{"location":"install/#python-module","text":"","title":"Python Module"},{"location":"install/#install_1","text":"git pull https://github.com/rexzhang/asgi-webdav.git pip install -U -r requirements/base.txt","title":"Install"},{"location":"install/#startup-server_1","text":"Quick start Run it with config file python -m asgi_webdav --root-path . python -m asgi_webdav --config /your/webdav.json","title":"Startup server"},{"location":"install/#output-example","text":"2022-03-22 16:06:49,363 INFO: [asgi_webdav.server] ASGI WebDAV Server(v1.0.0) starting... 2022-03-22 16:06:49,364 INFO: [asgi_webdav.auth] Register User: username, allow:[''], deny:[] 2022-03-22 16:06:49,364 INFO: [asgi_webdav.web_dav] Mapping Prefix: / => file://. 2022-03-22 16:06:49,844 INFO: [asgi_webdav.server] ASGI WebDAV Server running on http://127.0.0.1:8000 (Press CTRL+C to quit)","title":"Output example"},{"location":"install/#default-valuequick-start","text":"username is username , password is password , mapping current path . to http://localhost:8000","title":"Default value(quick start)"},{"location":"install/#standalone-application","text":"","title":"Standalone Application"},{"location":"install/#install_2","text":"macOS Windows wget https://github.com/rexzhang/asgi-webdav/releases/download/v0.9.1/asgi-webdav-macos.zip unzip asgi-webdav-macos.zip dl https://github.com/rexzhang/asgi-webdav/releases/download/v0.9.1/asgi-webdav.exe For other platforms or versions, please visit GitHub Release","title":"Install"},{"location":"install/#startup-server_2","text":"macOS macOS with config file Windows ./asgi_webdav -r . 2022-03-22 16:19:45,259 INFO: [asgi_webdav.server] ASGI WebDAV Server(v0.9.1) starting... 2022-03-22 16:19:45,259 INFO: [asgi_webdav.auth] Register User: username, allow:[''], deny:[] 2022-03-22 16:19:45,260 INFO: [asgi_webdav.web_dav] Mapping Prefix: / => file://. 2022-03-22 16:19:45,374 INFO: [asgi_webdav.server] ASGI WebDAV Server running on http://127.0.0.1:8000 (Press CTRL+C to quit) ./asgi-webdav --config /tmp/webdav.json INFO: [asgi_webdav.config] Load config value from config file:/tmp/webdav.json 2022-03-22 16:16:58,853 INFO: [asgi_webdav.server] ASGI WebDAV Server(v0.9.1) starting... 2022-03-22 16:16:58,853 INFO: [asgi_webdav.auth] Register User: rex-hashlib, allow:['^/$'], deny:[] 2022-03-22 16:16:58,853 INFO: [asgi_webdav.auth] Register User: rex, allow:[''], deny:[] 2022-03-22 16:16:58,853 INFO: [asgi_webdav.auth] Register User: user-ldap, allow:['^/$'], deny:[] 2022-03-22 16:16:58,854 INFO: [asgi_webdav.web_dav] Mapping Prefix: / => file:///tmp/root 2022-03-22 16:16:58,854 INFO: [asgi_webdav.web_dav] Mapping Prefix: /home => file:///tmp/homes/{user name} 2022-03-22 16:16:58,925 INFO: [asgi_webdav.server] ASGI WebDAV Server running on http://127.0.0.1:8000 (Press CTRL+C to quit) asgi_webdav --config c:/your/webdav.json","title":"Startup server"},{"location":"known-issues/","text":"Known Issues Can not open .DMG file in macOS finder The type of the MemoryProvider's directory is displayed incorrectly","title":"Known Issues"},{"location":"known-issues/#known-issues","text":"Can not open .DMG file in macOS finder The type of the MemoryProvider's directory is displayed incorrectly","title":"Known Issues"},{"location":"quick-start-in-docker/","text":"Quick Start in Docker Install docker pull ray1ex/asgi-webdav:latest Take a Glance docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data \\ --name asgi-webdav ray1ex/asgi-webdav Because there is no webdav.json file under /your/data , it will be started with the full default configuration. The root directory mapping to /your/data ; there is only one account, username username , password password , and all permissions. Multi-Account Create file /your/data/webdav.json as below { \"account_mapping\" : [ { \"username\" : \"user_all\" , \"password\" : \"pw1\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"user_litmus\" , \"password\" : \"pw2\" , \"permissions\" : [ \"+^/$\" , \"+^/litmus\" , \"-^/litmus/other\" ] }, { \"username\" : \"guest\" , \"password\" : \"pw3\" , \"permissions\" : [] } ] } Restart the docker container and it will take effect. There are three accounts in total. username password access permissions user_all pw1 all path user_litmus pw2 / and /litmus and /litmus/* guest pw3 can not access any path Path Mapping Configuration File Change file /your/data/webdav.json as below. { \"account_mapping\" : [ { \"username\" : \"username\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/litmus\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/litmus/fs\" , \"uri\" : \"file:///data/other\" }, { \"prefix\" : \"/litmus/memory\" , \"uri\" : \"memory:///\" } ] } Create Docker Container docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data -v /your/data/other:/data/other \\ --name asgi-webdav ray1ex/asgi-webdav Path Mapping Table HTTP path path in Docker container path in host machine / /data/root /your/data/root /litmus memory area A /litmus/fs /data/other /your/data/other /litmus/memory memory area B The system works without creating the path /your/data/root on the host machine; however, accessing the URL / only results in a 404 error Home Directory Configuration File { \"account_mapping\" : [ { \"username\" : \"user_a\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"user_b\" , \"password\" : \"password\" , \"permissions\" : [] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/~\" , \"uri\" : \"file:///data/homes\" , \"home_dir\" : true } ] } Create Docker Container docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data -v /your/data/homes:/data/homes \\ --name asgi-webdav ray1ex/asgi-webdav Path Mapping Table user URL path in Docker container path in host machine user_a /~ /data/homes/user_a /your/data/homes/user_a user_a /~/sub /data/homes/user_a/sub /your/data/homes/user_a/sub user_b /~ /data/homes/user_b /your/data/homes/user_b user_b /~/sub /data/homes/user_b/sub /your/data/homes/user_b/sub If the subdirectory of the same name corresponding to the user does not exist, it will cause the request to the home directory to fail. Please create paths such as /your/data/homes/user_a on the host by yourself. Even if a user does not have access to any shared directory, t hey has access to all they home directories. The system allows multiple home directories to exist at the same time, for example: /~ /home","title":"Quick Start in Docker"},{"location":"quick-start-in-docker/#quick-start-in-docker","text":"","title":"Quick Start in Docker"},{"location":"quick-start-in-docker/#install","text":"docker pull ray1ex/asgi-webdav:latest","title":"Install"},{"location":"quick-start-in-docker/#take-a-glance","text":"docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data \\ --name asgi-webdav ray1ex/asgi-webdav Because there is no webdav.json file under /your/data , it will be started with the full default configuration. The root directory mapping to /your/data ; there is only one account, username username , password password , and all permissions.","title":"Take a Glance"},{"location":"quick-start-in-docker/#multi-account","text":"Create file /your/data/webdav.json as below { \"account_mapping\" : [ { \"username\" : \"user_all\" , \"password\" : \"pw1\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"user_litmus\" , \"password\" : \"pw2\" , \"permissions\" : [ \"+^/$\" , \"+^/litmus\" , \"-^/litmus/other\" ] }, { \"username\" : \"guest\" , \"password\" : \"pw3\" , \"permissions\" : [] } ] } Restart the docker container and it will take effect. There are three accounts in total. username password access permissions user_all pw1 all path user_litmus pw2 / and /litmus and /litmus/* guest pw3 can not access any path","title":"Multi-Account"},{"location":"quick-start-in-docker/#path-mapping","text":"","title":"Path Mapping"},{"location":"quick-start-in-docker/#configuration-file","text":"Change file /your/data/webdav.json as below. { \"account_mapping\" : [ { \"username\" : \"username\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/litmus\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/litmus/fs\" , \"uri\" : \"file:///data/other\" }, { \"prefix\" : \"/litmus/memory\" , \"uri\" : \"memory:///\" } ] }","title":"Configuration File"},{"location":"quick-start-in-docker/#create-docker-container","text":"docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data -v /your/data/other:/data/other \\ --name asgi-webdav ray1ex/asgi-webdav","title":"Create Docker Container"},{"location":"quick-start-in-docker/#path-mapping-table","text":"HTTP path path in Docker container path in host machine / /data/root /your/data/root /litmus memory area A /litmus/fs /data/other /your/data/other /litmus/memory memory area B The system works without creating the path /your/data/root on the host machine; however, accessing the URL / only results in a 404 error","title":"Path Mapping Table"},{"location":"quick-start-in-docker/#home-directory","text":"","title":"Home Directory"},{"location":"quick-start-in-docker/#configuration-file_1","text":"{ \"account_mapping\" : [ { \"username\" : \"user_a\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"user_b\" , \"password\" : \"password\" , \"permissions\" : [] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/~\" , \"uri\" : \"file:///data/homes\" , \"home_dir\" : true } ] }","title":"Configuration File"},{"location":"quick-start-in-docker/#create-docker-container_1","text":"docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data -v /your/data/homes:/data/homes \\ --name asgi-webdav ray1ex/asgi-webdav","title":"Create Docker Container"},{"location":"quick-start-in-docker/#path-mapping-table_1","text":"user URL path in Docker container path in host machine user_a /~ /data/homes/user_a /your/data/homes/user_a user_a /~/sub /data/homes/user_a/sub /your/data/homes/user_a/sub user_b /~ /data/homes/user_b /your/data/homes/user_b user_b /~/sub /data/homes/user_b/sub /your/data/homes/user_b/sub If the subdirectory of the same name corresponding to the user does not exist, it will cause the request to the home directory to fail. Please create paths such as /your/data/homes/user_a on the host by yourself. Even if a user does not have access to any shared directory, t hey has access to all they home directories. The system allows multiple home directories to exist at the same time, for example: /~ /home","title":"Path Mapping Table"},{"location":"trouble-shooting/","text":"Trouble Shooting Upgrade to 1.x.x with watchtower or portainer Please delete and re-install container.","title":"Trouble Shooting"},{"location":"trouble-shooting/#trouble-shooting","text":"","title":"Trouble Shooting"},{"location":"trouble-shooting/#upgrade-to-1xx-with-watchtower-or-portainer","text":"Please delete and re-install container.","title":"Upgrade to 1.x.x with watchtower or portainer"},{"location":"guide/cors/","text":"Cross-Origin Resource Sharing (CORS) Enable CORS, allow any Origin { \"cors\" : { \"enable\" : true , \"allow_origins\" : [ \"*\" ] } } Allow multiple Origin { \"cors\" : { \"enable\" : true , \"allow_origins\" : [ \"https://i.am.origin.com\" , \"https://me.too.com\" ] } } Based on the regular expressions allowed Origin { \"cors\" : { \"enable\" : true , \"allow_origin_regex\" : \"^https://cors.*\" } } Based on the regular expressions allowed URL { \"cors\" : { \"enable\" : true , \"allow_url_regex\" : \"^/cors/path.*\" , \"allow_origins\" : [ \"*\" ] } } Allowed HTTP methods { \"cors\" : { \"enable\" : true , \"allow_origins\" : [ \"*\" ], \"allow_methods\" : [ \"GET\" , \"HEAD\" , \"POST\" ] } }","title":"Cross-Origin Resource Sharing (CORS)"},{"location":"guide/cors/#cross-origin-resource-sharing-cors","text":"","title":"Cross-Origin Resource Sharing (CORS)"},{"location":"guide/cors/#enable-cors-allow-any-origin","text":"{ \"cors\" : { \"enable\" : true , \"allow_origins\" : [ \"*\" ] } }","title":"Enable CORS, allow any Origin"},{"location":"guide/cors/#allow-multiple-origin","text":"{ \"cors\" : { \"enable\" : true , \"allow_origins\" : [ \"https://i.am.origin.com\" , \"https://me.too.com\" ] } }","title":"Allow multiple Origin"},{"location":"guide/cors/#based-on-the-regular-expressions-allowed-origin","text":"{ \"cors\" : { \"enable\" : true , \"allow_origin_regex\" : \"^https://cors.*\" } }","title":"Based on the regular expressions allowed Origin"},{"location":"guide/cors/#based-on-the-regular-expressions-allowed-url","text":"{ \"cors\" : { \"enable\" : true , \"allow_url_regex\" : \"^/cors/path.*\" , \"allow_origins\" : [ \"*\" ] } }","title":"Based on the regular expressions allowed URL"},{"location":"guide/cors/#allowed-http-methods","text":"{ \"cors\" : { \"enable\" : true , \"allow_origins\" : [ \"*\" ], \"allow_methods\" : [ \"GET\" , \"HEAD\" , \"POST\" ] } }","title":"Allowed HTTP methods"},{"location":"guide/multi-account/","text":"Multi-Account and Home Directory config file /your/data/webdav.json { \"account_mapping\" : [ { \"username\" : \"user_all\" , \"password\" : \"pw1\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"user_a\" , \"password\" : \"pw2\" , \"permissions\" : [ \"+^/$\" , \"+^/share\" , \"-^/share/no_a\" ] }, { \"username\" : \"user_b\" , \"password\" : \"pw3\" , \"permissions\" : [ \"+^/$\" , \"+^/share\" , \"-^/share/no_b\" ] }, { \"username\" : \"guest\" , \"password\" : \"pw4\" , \"permissions\" : [] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/temp1\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/temp2\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/~\" , \"uri\" : \"file:///data/homes\" , \"home_dir\" : true } ] } docker command docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data -v /your/data/homes:/data/homes \\ --name asgi-webdav ray1ex/asgi-webdav URL/path mapping table user URL path in docker container path in host All / /data/root /your/data/root All /share /data/root/share /your/data/root/share All /temp1 memory area #1 All /temp2 memory area #2 user_a /~ /data/homes/user_a /your/data/homes/user_a user_a /~/sub /data/homes/user_a/sub /your/data/homes/user_a/sub user_b /~ /data/homes/user_b /your/data/homes/user_b user_b /~/sub /data/homes/user_b/sub /your/data/homes/user_b/sub account permission username user_all user_a user_b guest password pw1 pw2 pw3 pw4 URL /~ Allow Allow Allow Allow URL / Allow Allow Allow Deny URL /share Allow Allow Allow Deny URL /share/no_a Allow Deny Allow Deny URL /share/no_b Allow Allow Deny Deny other URL Allow Deny Deny Deny","title":"Multi-Account and Home Directory"},{"location":"guide/multi-account/#multi-account-and-home-directory","text":"","title":"Multi-Account and Home Directory"},{"location":"guide/multi-account/#config-file","text":"/your/data/webdav.json { \"account_mapping\" : [ { \"username\" : \"user_all\" , \"password\" : \"pw1\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"user_a\" , \"password\" : \"pw2\" , \"permissions\" : [ \"+^/$\" , \"+^/share\" , \"-^/share/no_a\" ] }, { \"username\" : \"user_b\" , \"password\" : \"pw3\" , \"permissions\" : [ \"+^/$\" , \"+^/share\" , \"-^/share/no_b\" ] }, { \"username\" : \"guest\" , \"password\" : \"pw4\" , \"permissions\" : [] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/temp1\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/temp2\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/~\" , \"uri\" : \"file:///data/homes\" , \"home_dir\" : true } ] }","title":"config file"},{"location":"guide/multi-account/#docker-command","text":"docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data -v /your/data/homes:/data/homes \\ --name asgi-webdav ray1ex/asgi-webdav","title":"docker command"},{"location":"guide/multi-account/#urlpath-mapping-table","text":"user URL path in docker container path in host All / /data/root /your/data/root All /share /data/root/share /your/data/root/share All /temp1 memory area #1 All /temp2 memory area #2 user_a /~ /data/homes/user_a /your/data/homes/user_a user_a /~/sub /data/homes/user_a/sub /your/data/homes/user_a/sub user_b /~ /data/homes/user_b /your/data/homes/user_b user_b /~/sub /data/homes/user_b/sub /your/data/homes/user_b/sub","title":"URL/path mapping table"},{"location":"guide/multi-account/#account-permission","text":"username user_all user_a user_b guest password pw1 pw2 pw3 pw4 URL /~ Allow Allow Allow Allow URL / Allow Allow Allow Deny URL /share Allow Allow Allow Deny URL /share/no_a Allow Deny Allow Deny URL /share/no_b Allow Allow Deny Deny other URL Allow Deny Deny Deny","title":"account permission"},{"location":"guide/protect-your-password-in-the-config/","text":"Protect your password in the configuration file { \"account_mapping\" : [ { \"username\" : \"user-raw\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ]}, { \"username\" : \"user-hashlib\" , \"password\" : \"<hashlib>:sha256:salt:291e247d155354e48fec2b579637782446821935fc96a5a08a0b7885179c408b\" , \"permissions\" : [ \"+^/$\" ] }, { \"username\" : \"user-digest\" , \"password\" : \"<digest>:ASGI-WebDAV:c1d34f1e0f457c4de05b7468d5165567\" , \"permissions\" : [ \"+^/$\" ] }, { \"username\" : \"user-ldap\" , \"password\" : \"<ldap>#1#ldaps://your.ldap.server.com#SIMPLE#uid=user-ldap,cn=users,dc=your.ldap.server.com\" , \"permissions\" : [ \"+^/$\" ] } ] } Raw Mode user user-raw 's password is real password hashlib Mode password 's format is \"<hashlib>:{algorithm}:{salt}:{hashed-password}\" {algorithm} A list of supported {algorithms} can be found at Python's docs The commonly used algorithms: sha256 sha384 sha512 blake2b (optimized for 64-bit platforms) blake2s (optimized for 8- to 32-bit platforms) {salt} {salt} can be any string {hashed-password} {hashed-password} 's format is ALGORITHM(bytes(\"{salt}:{password}\")).hexdigest() example: {algorithm}: sha256 {salt}: salt {password}: password >>> import hashlib >>> hashlib.new(\"sha256\", \"{}:{}\".format(\"salt\", \"password\").encode(\"utf-8\")).hexdigest() '291e247d155354e48fec2b579637782446821935fc96a5a08a0b7885179c408b' Ref https://en.wikipedia.org/wiki/Comparison_of_cryptographic_hash_functions HTTP Digest Mode password 's format is <digest>:{realm}:{HA1} {realm} ASGI-WebDAV {HA1} {HA1} 's format is md5(bytes(\"{username}:{realm}:{password}\")).hexdigest() example: {username}: user-digest {realm}: ASGI-WebDAV {password}: password >>> import hashlib >>> hashlib.new(\"md5\", \"{}:{}:{}\".format(\"user-digest\", \"ASGI-WebDAV\", \"password\").encode(\"utf-8\")).hexdigest() 'c1d34f1e0f457c4de05b7468d5165567' Ref RFC2617 LDAP Mode (experimental) password 's format is \"<ldap>#1#{ldap-uri}#{mechanism}#{ldap-user}\" {ldap-uri} Example: ldap://your.ldap.server.com ldaps://your.tls.ldap.server.com Ref Official Website RFC4516 {mechanism} Example: SIMPLE ... {ldap-user} Example: uid=you-name,cn=users,dc=ldap,dc=server,dc=com Compatibility HTTP Basic auth HTTP Digest auth Raw Mode Y Y hashlib Mode Y N HTTP Digest Mode Y Y LDAP Mode Y N","title":"Protect your password in the configuration file"},{"location":"guide/protect-your-password-in-the-config/#protect-your-password-in-the-configuration-file","text":"{ \"account_mapping\" : [ { \"username\" : \"user-raw\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ]}, { \"username\" : \"user-hashlib\" , \"password\" : \"<hashlib>:sha256:salt:291e247d155354e48fec2b579637782446821935fc96a5a08a0b7885179c408b\" , \"permissions\" : [ \"+^/$\" ] }, { \"username\" : \"user-digest\" , \"password\" : \"<digest>:ASGI-WebDAV:c1d34f1e0f457c4de05b7468d5165567\" , \"permissions\" : [ \"+^/$\" ] }, { \"username\" : \"user-ldap\" , \"password\" : \"<ldap>#1#ldaps://your.ldap.server.com#SIMPLE#uid=user-ldap,cn=users,dc=your.ldap.server.com\" , \"permissions\" : [ \"+^/$\" ] } ] }","title":"Protect your password in the configuration file"},{"location":"guide/protect-your-password-in-the-config/#raw-mode","text":"user user-raw 's password is real password","title":"Raw Mode"},{"location":"guide/protect-your-password-in-the-config/#hashlib-mode","text":"password 's format is \"<hashlib>:{algorithm}:{salt}:{hashed-password}\"","title":"hashlib Mode"},{"location":"guide/protect-your-password-in-the-config/#algorithm","text":"A list of supported {algorithms} can be found at Python's docs The commonly used algorithms: sha256 sha384 sha512 blake2b (optimized for 64-bit platforms) blake2s (optimized for 8- to 32-bit platforms)","title":"{algorithm}"},{"location":"guide/protect-your-password-in-the-config/#salt","text":"{salt} can be any string","title":"{salt}"},{"location":"guide/protect-your-password-in-the-config/#hashed-password","text":"{hashed-password} 's format is ALGORITHM(bytes(\"{salt}:{password}\")).hexdigest() example: {algorithm}: sha256 {salt}: salt {password}: password >>> import hashlib >>> hashlib.new(\"sha256\", \"{}:{}\".format(\"salt\", \"password\").encode(\"utf-8\")).hexdigest() '291e247d155354e48fec2b579637782446821935fc96a5a08a0b7885179c408b'","title":"{hashed-password}"},{"location":"guide/protect-your-password-in-the-config/#ref","text":"https://en.wikipedia.org/wiki/Comparison_of_cryptographic_hash_functions","title":"Ref"},{"location":"guide/protect-your-password-in-the-config/#http-digest-mode","text":"password 's format is <digest>:{realm}:{HA1}","title":"HTTP Digest Mode"},{"location":"guide/protect-your-password-in-the-config/#realm","text":"ASGI-WebDAV","title":"{realm}"},{"location":"guide/protect-your-password-in-the-config/#ha1","text":"{HA1} 's format is md5(bytes(\"{username}:{realm}:{password}\")).hexdigest() example: {username}: user-digest {realm}: ASGI-WebDAV {password}: password >>> import hashlib >>> hashlib.new(\"md5\", \"{}:{}:{}\".format(\"user-digest\", \"ASGI-WebDAV\", \"password\").encode(\"utf-8\")).hexdigest() 'c1d34f1e0f457c4de05b7468d5165567'","title":"{HA1}"},{"location":"guide/protect-your-password-in-the-config/#ref_1","text":"RFC2617","title":"Ref"},{"location":"guide/protect-your-password-in-the-config/#ldap-mode-experimental","text":"password 's format is \"<ldap>#1#{ldap-uri}#{mechanism}#{ldap-user}\"","title":"LDAP Mode (experimental)"},{"location":"guide/protect-your-password-in-the-config/#ldap-uri","text":"Example: ldap://your.ldap.server.com ldaps://your.tls.ldap.server.com","title":"{ldap-uri}"},{"location":"guide/protect-your-password-in-the-config/#ref_2","text":"Official Website RFC4516","title":"Ref"},{"location":"guide/protect-your-password-in-the-config/#mechanism","text":"Example: SIMPLE ...","title":"{mechanism}"},{"location":"guide/protect-your-password-in-the-config/#ldap-user","text":"Example: uid=you-name,cn=users,dc=ldap,dc=server,dc=com","title":"{ldap-user}"},{"location":"guide/protect-your-password-in-the-config/#compatibility","text":"HTTP Basic auth HTTP Digest auth Raw Mode Y Y hashlib Mode Y N HTTP Digest Mode Y Y LDAP Mode Y N","title":"Compatibility"},{"location":"howto/howto-hide-files-in-dir-with-the-specified-client/","text":"How to hide files in directory with the specified client Hide *.do-not-display-at-every in all client { \"hide_file_in_dir\" : { \"user_rules\" : { \"\" : \".+\\\\.do-not-display-at-every$\" } } } Hide hide.* and *.hide in macOS finder { \"hide_file_in_dir\" : { \"user_rules\" : { \"WebDAVFS\" : \"^hide\\\\.|.+\\\\.hide$\" } } }","title":"How to hide files in directory with the specified client"},{"location":"howto/howto-hide-files-in-dir-with-the-specified-client/#how-to-hide-files-in-directory-with-the-specified-client","text":"","title":"How to hide files in directory with the specified client"},{"location":"howto/howto-hide-files-in-dir-with-the-specified-client/#hide-do-not-display-at-every-in-all-client","text":"{ \"hide_file_in_dir\" : { \"user_rules\" : { \"\" : \".+\\\\.do-not-display-at-every$\" } } }","title":"Hide *.do-not-display-at-every in all client"},{"location":"howto/howto-hide-files-in-dir-with-the-specified-client/#hide-hide-and-hide-in-macos-finder","text":"{ \"hide_file_in_dir\" : { \"user_rules\" : { \"WebDAVFS\" : \"^hide\\\\.|.+\\\\.hide$\" } } }","title":"Hide hide.* and *.hide in macOS finder"},{"location":"howto/howto-specify-type-for-specific-file-extentions/","text":"How to Specify Type for specific file extentions change your webdav.json like blow: { \"guess_type_extension\" : { \"filename_mapping\" : { \".bashrc\" : \"text/plain\" }, \"suffix_mapping\" : { \".py\" : \"text/plain\" } } } default value DEFAULT_FILENAME_CONTENT_TYPE_MAPPING and DEFAULT_SUFFIX_CONTENT_TYPE_MAPPING defined in file constants.py .","title":"How to Specify Type for specific file extentions"},{"location":"howto/howto-specify-type-for-specific-file-extentions/#how-to-specify-type-for-specific-file-extentions","text":"change your webdav.json like blow: { \"guess_type_extension\" : { \"filename_mapping\" : { \".bashrc\" : \"text/plain\" }, \"suffix_mapping\" : { \".py\" : \"text/plain\" } } } default value DEFAULT_FILENAME_CONTENT_TYPE_MAPPING and DEFAULT_SUFFIX_CONTENT_TYPE_MAPPING defined in file constants.py .","title":"How to Specify Type for specific file extentions"},{"location":"reference/cli/","text":"Command Line Interface Command Line Interface Args Introduced in 0.8 Last updated in 1.0 python -m asgi_webdav --help Usage: python -m asgi_webdav [ OPTIONS ] Run ASGI WebDAV server Options: -V, --version Print version info and exit. -H, --host TEXT Bind socket to this host. [ default: 127 .0.0.1 ] -P, --port INTEGER Bind socket to this port. [ default: 8000 ] -c, --config TEXT Load configuration from file. [ default: None ] -u, --user <TEXT TEXT>... Administrator username/password. [ default: username password ] -r, --root-path TEXT Mapping provider URI to path '/' . [ default: None ] --dev Enter Development mode, DON ' T use it in production! --help Show this message and exit. Example python -m asgi_webdav --root-path . 2022 -02-26 16 :48:41,857 INFO: [ asgi_webdav.server ] ASGI WebDAV Server ( v0.9.1 ) starting... 2022 -02-26 16 :48:41,857 INFO: [ asgi_webdav.auth ] Register User: username, allow: [ '' ] , deny: [] 2022 -02-26 16 :48:41,857 INFO: [ asgi_webdav.web_dav ] Mapping Prefix: / = > file://. 2022 -02-26 16 :48:42,272 INFO: [ asgi_webdav.server ] ASGI WebDAV Server running on http://127.0.0.1:8000 ( Press CTRL+C to quit ) username is username , password is password , map . to http://localhost:8000","title":"Command Line Interface"},{"location":"reference/cli/#command-line-interface","text":"","title":"Command Line Interface"},{"location":"reference/cli/#command-line-interface-args","text":"Introduced in 0.8 Last updated in 1.0 python -m asgi_webdav --help Usage: python -m asgi_webdav [ OPTIONS ] Run ASGI WebDAV server Options: -V, --version Print version info and exit. -H, --host TEXT Bind socket to this host. [ default: 127 .0.0.1 ] -P, --port INTEGER Bind socket to this port. [ default: 8000 ] -c, --config TEXT Load configuration from file. [ default: None ] -u, --user <TEXT TEXT>... Administrator username/password. [ default: username password ] -r, --root-path TEXT Mapping provider URI to path '/' . [ default: None ] --dev Enter Development mode, DON ' T use it in production! --help Show this message and exit.","title":"Command Line Interface Args"},{"location":"reference/cli/#example","text":"python -m asgi_webdav --root-path . 2022 -02-26 16 :48:41,857 INFO: [ asgi_webdav.server ] ASGI WebDAV Server ( v0.9.1 ) starting... 2022 -02-26 16 :48:41,857 INFO: [ asgi_webdav.auth ] Register User: username, allow: [ '' ] , deny: [] 2022 -02-26 16 :48:41,857 INFO: [ asgi_webdav.web_dav ] Mapping Prefix: / = > file://. 2022 -02-26 16 :48:42,272 INFO: [ asgi_webdav.server ] ASGI WebDAV Server running on http://127.0.0.1:8000 ( Press CTRL+C to quit ) username is username , password is password , map . to http://localhost:8000","title":"Example"},{"location":"reference/config-file/","text":"Config File webdav.json file When the file does not exist When the file /data/webdav.json does not exist, http://127.0.0.1/ will map to the /data directory. logging output WARNING: load config value from file[/data/webdav.json] failed, [Errno 2] No such file or directory: '/data/webdav.json' INFO: [asgi_webdav.webdav] ASGI WebDAV(v0.3.1) starting... INFO: [asgi_webdav.distributor] Mapping Prefix: / => file:///data INFO: [asgi_webdav.auth] Register Account: username, allow:[''], deny:[] INFO: [uvicorn] Started server process [7] INFO: [uvicorn] Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit) When the file exists When the file exists, the mapping relationship is defined by the file content. Sample { \"account_mapping\" : [ { \"username\" : \"username\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"litmus\" , \"password\" : \"password\" , \"permissions\" : [ \"+^/$\" , \"+^/litmus\" , \"-^/litmus/other\" ] }, { \"username\" : \"guest\" , \"password\" : \"password\" , \"permissions\" : [] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/litmus\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/litmus/fs\" , \"uri\" : \"file:///data/litmus\" }, { \"prefix\" : \"/litmus/memory\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/litmus/other\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/~\" , \"uri\" : \"file:///data/home\" , \"home_dir\" : true } ], \"logging_level\" : \"INFO\" } logging output INFO: [asgi_webdav.webdav] ASGI WebDAV(v0.3.1) starting... INFO: [asgi_webdav.distributor] Mapping Prefix: / => file:///data/root INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus => memory:/// INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus/fs => file:///data/litmus INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus/memory => memory:/// INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus/other => memory:/// INFO: [asgi_webdav.distributor] Mapping Prefix: /~ => file:///data/home/{user name} INFO: [asgi_webdav.auth] Register Account: username, allow:[''], deny:[] INFO: [asgi_webdav.auth] Register Account: litmus, allow:['^/$', '^/litmus'], deny:['^/litmus/other'] INFO: [asgi_webdav.auth] Register Account: guest, allow:[], deny:[] INFO: [uvicorn] Started server process [9] INFO: [uvicorn] Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit) Config Object root object Introduced in 0.1 Last updated in 1.1 Key Use For Value Type Default Value account_mapping auth list[User] [] http_digest_auth auth HTTPDigestAuth HTTPDigestAuth() provider_mapping mapping list[Provider] [] hide_file_in_dir rules HideFileInDir HideFileInDir() guess_type_extension rules GuessTypeExtension GuessTypeExtension() text_file_charset_detect rules TextFileCharsetDetect TextFileCharsetDetect() compression response Compression Compression() cors response CORS CORS() logging_level other str \"INFO\" Example { \"account_mapping\": [...], \"http_digest_auth\": {...}, \"provider_mapping\": [...], \"hide_file_in_dir\": {...}, \"guess_type_extension\": {...}, \"text_file_charset_detect\": {...}, \"compression\": {...}, \"cors\": {...}, \"logging_level\": \"INFO\" } for Authentication User Object Introduced in 0.3.1 Last updated in 0.7.0 Key Value Type Default Value username str - password str - permissions list[str] [] admin bool false When the value of admin is true , the user can access the web page /_/admin/xxx Permissions Format/Example Introduced in 0.3.1 Last updated in 0.3.1 Value Allow Deny [\"+\"] Any - [\"-\"] - Any [\"+^/$\"] / /path [\"+^/path\"] /path , /path/sub /other [\"+^/path\", \"-^/path/sub2\"] /path , /path/sub1 /path/sub2 HTTPDigestAuth Object Introduced in 0.7.0 Last updated in 0.9.0 Key Value Type Default Value enable bool false enable_rule str `` disable_rule str neon/ When enable is true , the disable_rule is valid When enable is false , the enable_rule is valid for URL Mapping Provider Object Introduced in 0.1 Last updated in 0.3.1 Key Value Type Default Value prefix str - uri str - home_dir bool false Home Directory When home_dir is true , it is the home directory. The prefix recommends using /~ or /home . When home_dir is true and prefix is /~ and uri is file:///data/homes and username is user_x ; http://webdav.host/~/path will map to file:///data/homes/user_x/path . for Rules Process HideFileInDir Object Introduced in 1.0 Last updated in 1.0 Key Value Type Default Value Example enable bool true - enable_default_rules bool true - user_rules dict {} like default GuessTypeExtension Object Introduced in 0.4 Last updated in 0.4 Key Value Type Default Value Example enable bool true - enable_default_mapping bool true - filename_mapping dict[str, str] {} {\"README\": \"text/plain\"} suffix_mapping dict[str, str] {} {\".md\": \"text/plain\"} TextFileCharsetDetect Object Introduced in 0.5 Last updated in 0.5 Key Value Type Default Value enable bool false default str \"utf-8\" for Response Compression Object Introduced in 0.5 Last updated in 1.2 Key Value Type Default Value Example enable_gzip bool true - enable_brotli bool true - level DAVCompressLevel \"recommend\" \"best\" content_type_user_rule str \"\" \"^application/xml$|^text/\" CompressLevel Object Introduced in 0.5 Last updated in 0.5 DAVCompressLevel Gzip Level Brotli Level fast 1 1 recommend 4 4 best 9 11 CORS Object Introduced in 1.1 Last updated in 1.1 Key Value Type Default Value Example enable bool false - allow_url_regex str None ^/cors/path allow_origins list[str] [] [\"*\"] or [\"https://example.com\",\"http://localhost\"] allow_origin_regex str None ^https://.*\\.example\\.com$ allow_methods list[str] [\"GET\"] - allow_headers list[str] [] [\"*\"] or [\"I-Am-Example-Header,\"Me-Too\"] allow_credentials bool false - expose_headers list[str] [] - preflight_max_age int 600 -","title":"Config File"},{"location":"reference/config-file/#config-file","text":"","title":"Config File"},{"location":"reference/config-file/#webdavjson-file","text":"","title":"webdav.json file"},{"location":"reference/config-file/#when-the-file-does-not-exist","text":"When the file /data/webdav.json does not exist, http://127.0.0.1/ will map to the /data directory.","title":"When the file does not exist"},{"location":"reference/config-file/#logging-output","text":"WARNING: load config value from file[/data/webdav.json] failed, [Errno 2] No such file or directory: '/data/webdav.json' INFO: [asgi_webdav.webdav] ASGI WebDAV(v0.3.1) starting... INFO: [asgi_webdav.distributor] Mapping Prefix: / => file:///data INFO: [asgi_webdav.auth] Register Account: username, allow:[''], deny:[] INFO: [uvicorn] Started server process [7] INFO: [uvicorn] Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit)","title":"logging output"},{"location":"reference/config-file/#when-the-file-exists","text":"When the file exists, the mapping relationship is defined by the file content.","title":"When the file exists"},{"location":"reference/config-file/#sample","text":"{ \"account_mapping\" : [ { \"username\" : \"username\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"litmus\" , \"password\" : \"password\" , \"permissions\" : [ \"+^/$\" , \"+^/litmus\" , \"-^/litmus/other\" ] }, { \"username\" : \"guest\" , \"password\" : \"password\" , \"permissions\" : [] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/litmus\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/litmus/fs\" , \"uri\" : \"file:///data/litmus\" }, { \"prefix\" : \"/litmus/memory\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/litmus/other\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/~\" , \"uri\" : \"file:///data/home\" , \"home_dir\" : true } ], \"logging_level\" : \"INFO\" }","title":"Sample"},{"location":"reference/config-file/#logging-output_1","text":"INFO: [asgi_webdav.webdav] ASGI WebDAV(v0.3.1) starting... INFO: [asgi_webdav.distributor] Mapping Prefix: / => file:///data/root INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus => memory:/// INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus/fs => file:///data/litmus INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus/memory => memory:/// INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus/other => memory:/// INFO: [asgi_webdav.distributor] Mapping Prefix: /~ => file:///data/home/{user name} INFO: [asgi_webdav.auth] Register Account: username, allow:[''], deny:[] INFO: [asgi_webdav.auth] Register Account: litmus, allow:['^/$', '^/litmus'], deny:['^/litmus/other'] INFO: [asgi_webdav.auth] Register Account: guest, allow:[], deny:[] INFO: [uvicorn] Started server process [9] INFO: [uvicorn] Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit)","title":"logging output"},{"location":"reference/config-file/#config-object","text":"root object Introduced in 0.1 Last updated in 1.1 Key Use For Value Type Default Value account_mapping auth list[User] [] http_digest_auth auth HTTPDigestAuth HTTPDigestAuth() provider_mapping mapping list[Provider] [] hide_file_in_dir rules HideFileInDir HideFileInDir() guess_type_extension rules GuessTypeExtension GuessTypeExtension() text_file_charset_detect rules TextFileCharsetDetect TextFileCharsetDetect() compression response Compression Compression() cors response CORS CORS() logging_level other str \"INFO\" Example { \"account_mapping\": [...], \"http_digest_auth\": {...}, \"provider_mapping\": [...], \"hide_file_in_dir\": {...}, \"guess_type_extension\": {...}, \"text_file_charset_detect\": {...}, \"compression\": {...}, \"cors\": {...}, \"logging_level\": \"INFO\" }","title":"Config Object"},{"location":"reference/config-file/#for-authentication","text":"","title":"for Authentication"},{"location":"reference/config-file/#user-object","text":"Introduced in 0.3.1 Last updated in 0.7.0 Key Value Type Default Value username str - password str - permissions list[str] [] admin bool false When the value of admin is true , the user can access the web page /_/admin/xxx","title":"User Object"},{"location":"reference/config-file/#permissions-formatexample","text":"Introduced in 0.3.1 Last updated in 0.3.1 Value Allow Deny [\"+\"] Any - [\"-\"] - Any [\"+^/$\"] / /path [\"+^/path\"] /path , /path/sub /other [\"+^/path\", \"-^/path/sub2\"] /path , /path/sub1 /path/sub2","title":"Permissions Format/Example"},{"location":"reference/config-file/#httpdigestauth-object","text":"Introduced in 0.7.0 Last updated in 0.9.0 Key Value Type Default Value enable bool false enable_rule str `` disable_rule str neon/ When enable is true , the disable_rule is valid When enable is false , the enable_rule is valid","title":"HTTPDigestAuth Object"},{"location":"reference/config-file/#for-url-mapping","text":"","title":"for URL Mapping"},{"location":"reference/config-file/#provider-object","text":"Introduced in 0.1 Last updated in 0.3.1 Key Value Type Default Value prefix str - uri str - home_dir bool false","title":"Provider Object"},{"location":"reference/config-file/#home-directory","text":"When home_dir is true , it is the home directory. The prefix recommends using /~ or /home . When home_dir is true and prefix is /~ and uri is file:///data/homes and username is user_x ; http://webdav.host/~/path will map to file:///data/homes/user_x/path .","title":"Home Directory"},{"location":"reference/config-file/#for-rules-process","text":"","title":"for Rules Process"},{"location":"reference/config-file/#hidefileindir-object","text":"Introduced in 1.0 Last updated in 1.0 Key Value Type Default Value Example enable bool true - enable_default_rules bool true - user_rules dict {} like default","title":"HideFileInDir Object"},{"location":"reference/config-file/#guesstypeextension-object","text":"Introduced in 0.4 Last updated in 0.4 Key Value Type Default Value Example enable bool true - enable_default_mapping bool true - filename_mapping dict[str, str] {} {\"README\": \"text/plain\"} suffix_mapping dict[str, str] {} {\".md\": \"text/plain\"}","title":"GuessTypeExtension Object"},{"location":"reference/config-file/#textfilecharsetdetect-object","text":"Introduced in 0.5 Last updated in 0.5 Key Value Type Default Value enable bool false default str \"utf-8\"","title":"TextFileCharsetDetect Object"},{"location":"reference/config-file/#for-response","text":"","title":"for Response"},{"location":"reference/config-file/#compression-object","text":"Introduced in 0.5 Last updated in 1.2 Key Value Type Default Value Example enable_gzip bool true - enable_brotli bool true - level DAVCompressLevel \"recommend\" \"best\" content_type_user_rule str \"\" \"^application/xml$|^text/\"","title":"Compression Object"},{"location":"reference/config-file/#compresslevel-object","text":"Introduced in 0.5 Last updated in 0.5 DAVCompressLevel Gzip Level Brotli Level fast 1 1 recommend 4 4 best 9 11","title":"CompressLevel Object"},{"location":"reference/config-file/#cors-object","text":"Introduced in 1.1 Last updated in 1.1 Key Value Type Default Value Example enable bool false - allow_url_regex str None ^/cors/path allow_origins list[str] [] [\"*\"] or [\"https://example.com\",\"http://localhost\"] allow_origin_regex str None ^https://.*\\.example\\.com$ allow_methods list[str] [\"GET\"] - allow_headers list[str] [] [\"*\"] or [\"I-Am-Example-Header,\"Me-Too\"] allow_credentials bool false - expose_headers list[str] [] - preflight_max_age int 600 -","title":"CORS Object"},{"location":"reference/config/","text":"Configuration Config Value Priority Command Line Interface Args > Environment Variable > Configuration File > Default Value","title":"Configuration"},{"location":"reference/config/#configuration","text":"","title":"Configuration"},{"location":"reference/config/#config-value-priority","text":"Command Line Interface Args > Environment Variable > Configuration File > Default Value","title":"Config Value Priority"},{"location":"reference/env-value/","text":"Environment Variables Name Default Value Config Object WEBDAV_LOGGING_LEVEL INFO Config.logging_level WEBDAV_USERNAME username Config.account_mapping WEBDAV_PASSWORD password Config.account_mapping","title":"Environment Variables"},{"location":"reference/env-value/#environment-variables","text":"Name Default Value Config Object WEBDAV_LOGGING_LEVEL INFO Config.logging_level WEBDAV_USERNAME username Config.account_mapping WEBDAV_PASSWORD password Config.account_mapping","title":"Environment Variables"},{"location":"reference/misc/","text":"Miscellaneous DAVProvider DAVProvider URI FileProvider file:///your/path data is stored in the file system MemoryProvider memory:/// data is stored in the memory Web dir browser Default enabled","title":"Miscellaneous"},{"location":"reference/misc/#miscellaneous","text":"","title":"Miscellaneous"},{"location":"reference/misc/#davprovider","text":"DAVProvider URI FileProvider file:///your/path data is stored in the file system MemoryProvider memory:/// data is stored in the memory","title":"DAVProvider"},{"location":"reference/misc/#web-dir-browser","text":"Default enabled","title":"Web dir browser"},{"location":"ru/changelog/","text":"Changelog 1.2.0 - ? Broken change Change Config.compression.user_content_type_rule to Config.compression.content_type_user_rule Add more support for HTTP header: Range Fix HTTP Digest rules checker Add a new property DAVResponse.content_type_user_rule 1.1.0 - 2022-06-05 Add new feature: CORS Reduce Docker image size 1.0.0 - 2022-03-09 Broken change Remove feature: DirBrowserIgnore Change docker base image from slim -> alpine, Add non-root support in docker container Add new feature: hide file in directory Add hashlib mode for stored password Add HTTP Digest mode for stored password Add LDAP mode for stored password 0.9.1 - 2021-08-02 Fix bug 0.9.0 - 2021-08-02 Add Config.http_digest_auth.enable_rule 0.8.1 - 2021-07-30 Fix Dockerfile 0.8.0 - 2021-07-30 Real client ip address CLI support Release Windows/macOS package 0.7.0 - 2021-07-03 Add logging page: /_/admin/logging Disable Digest auth in default Support header Accept-Ranges/Range/Content-Range (Incomplete implementation) Fix bug: can't access home dir when it can't access share dir 0.6.1 - 2021-06-23 Compatible with Window10 Explorer(Microsoft-WebDAV-MiniRedir/10.0.19043) 0.6.0 - 2021-06-22 Support HTTP Digest authentication Code optimization 0.5.0 - 2021-05-14 Text file charset detect Support gzip/brotli in response Fix bug: Content-Encoding 0.4.0 - 2021-05-10 Support ignore rules in web dir browser Configurable guess_type() 0.3.1 - 2021-05-06 Broken change: Config.username/password => Config.account_mapping Environment Variable Name Add multi-account support Add permission support Add home_dir support 0.2.1 - 2021-04-27 Add web dir browser 0.1.1 - 2021-03-26 Fix bug 0.1.0 - 2021-03-25 first release","title":"Changelog"},{"location":"ru/changelog/#changelog","text":"","title":"Changelog"},{"location":"ru/changelog/#120-","text":"Broken change Change Config.compression.user_content_type_rule to Config.compression.content_type_user_rule Add more support for HTTP header: Range Fix HTTP Digest rules checker Add a new property DAVResponse.content_type_user_rule","title":"1.2.0 - ?"},{"location":"ru/changelog/#110-2022-06-05","text":"Add new feature: CORS Reduce Docker image size","title":"1.1.0 - 2022-06-05"},{"location":"ru/changelog/#100-2022-03-09","text":"Broken change Remove feature: DirBrowserIgnore Change docker base image from slim -> alpine, Add non-root support in docker container Add new feature: hide file in directory Add hashlib mode for stored password Add HTTP Digest mode for stored password Add LDAP mode for stored password","title":"1.0.0 - 2022-03-09"},{"location":"ru/changelog/#091-2021-08-02","text":"Fix bug","title":"0.9.1 - 2021-08-02"},{"location":"ru/changelog/#090-2021-08-02","text":"Add Config.http_digest_auth.enable_rule","title":"0.9.0 - 2021-08-02"},{"location":"ru/changelog/#081-2021-07-30","text":"Fix Dockerfile","title":"0.8.1 - 2021-07-30"},{"location":"ru/changelog/#080-2021-07-30","text":"Real client ip address CLI support Release Windows/macOS package","title":"0.8.0 - 2021-07-30"},{"location":"ru/changelog/#070-2021-07-03","text":"Add logging page: /_/admin/logging Disable Digest auth in default Support header Accept-Ranges/Range/Content-Range (Incomplete implementation) Fix bug: can't access home dir when it can't access share dir","title":"0.7.0 - 2021-07-03"},{"location":"ru/changelog/#061-2021-06-23","text":"Compatible with Window10 Explorer(Microsoft-WebDAV-MiniRedir/10.0.19043)","title":"0.6.1 - 2021-06-23"},{"location":"ru/changelog/#060-2021-06-22","text":"Support HTTP Digest authentication Code optimization","title":"0.6.0 - 2021-06-22"},{"location":"ru/changelog/#050-2021-05-14","text":"Text file charset detect Support gzip/brotli in response Fix bug: Content-Encoding","title":"0.5.0 - 2021-05-14"},{"location":"ru/changelog/#040-2021-05-10","text":"Support ignore rules in web dir browser Configurable guess_type()","title":"0.4.0 - 2021-05-10"},{"location":"ru/changelog/#031-2021-05-06","text":"Broken change: Config.username/password => Config.account_mapping Environment Variable Name Add multi-account support Add permission support Add home_dir support","title":"0.3.1 - 2021-05-06"},{"location":"ru/changelog/#021-2021-04-27","text":"Add web dir browser","title":"0.2.1 - 2021-04-27"},{"location":"ru/changelog/#011-2021-03-26","text":"Fix bug","title":"0.1.1 - 2021-03-26"},{"location":"ru/changelog/#010-2021-03-25","text":"first release","title":"0.1.0 - 2021-03-25"},{"location":"ru/compatibility/","text":"Compatibility Compatible Clients Client First tested version Remarks Firefox/Chrome/Safari 0.1.0 - macOS finder(WebDAVFS/3.0.0) 0.1.0 - Window10 Explorer(Microsoft-WebDAV-MiniRedir/10.0.19043) 0.6.1 Basic auth only support HTTPS, HTTP please enable Digest Joplin(Joplin/1.0) 0.1.0 - OmniFocus(OmniFocus-Mac/149.14.0/v3.11.7) 0.1.0 - WinSCP(WinSCP/5.19.1 neon/0.31.2) 0.7.0 Only support Basic auth Compatibility Test Results Test in litmus(0.13) , Agent name is litmus/0.13 neon/0.31.2 Version string: neon 0.30.2: Library build, IPv6, libxml 2.9.4, zlib 1.2.11, GNU TLS 3.6.6. python3 -m asgi_webdav --litmus litmus http://192.168.200.198:8000/provider/fs username password # or litmus http://192.168.200.198:8000/provider/memory username password ASGI WebDAV Version: 0.3.1 -> running `basic': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. put_get............... pass 4. put_get_utf8_segment.. pass 5. put_no_parent......... pass 6. mkcol_over_plain...... pass 7. delete................ pass 8. delete_null........... pass 9. delete_fragment....... pass 10. mkcol................. pass 11. mkcol_again........... pass 12. delete_coll........... pass 13. mkcol_no_parent....... pass 14. mkcol_with_body....... pass 15. finish................ pass <- summary for `basic': of 16 tests run: 16 passed, 0 failed. 100.0% -> running `copymove': 0. init.................. pass 1. begin................. pass 2. copy_init............. pass 3. copy_simple........... pass 4. copy_overwrite........ pass 5. copy_nodestcoll....... pass 6. copy_cleanup.......... pass 7. copy_coll............. pass 8. copy_shallow.......... pass 9. move.................. pass 10. move_coll............. pass 11. move_cleanup.......... pass 12. finish................ pass <- summary for `copymove': of 13 tests run: 13 passed, 0 failed. 100.0% -> running `props': 0. init.................. pass 1. begin................. pass 2. propfind_invalid...... pass 3. propfind_invalid2..... pass 4. propfind_d0........... pass 5. propinit.............. pass 6. propset............... pass 7. propget............... pass 8. propextended.......... pass 9. propmove.............. pass 10. propget............... pass 11. propdeletes........... pass 12. propget............... pass 13. propreplace........... pass 14. propget............... pass 15. propnullns............ pass 16. propget............... pass 17. prophighunicode....... pass 18. propget............... pass 19. propremoveset......... pass 20. propget............... pass 21. propsetremove......... pass 22. propget............... pass 23. propvalnspace......... pass 24. propwformed........... pass 25. propinit.............. pass 26. propmanyns............ pass 27. propget............... pass 28. propcleanup........... pass 29. finish................ pass <- summary for `props': of 30 tests run: 30 passed, 0 failed. 100.0% -> running `locks': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. precond............... pass 4. init_locks............ pass 5. put................... pass 6. lock_excl............. pass 7. discover.............. pass 8. refresh............... pass 9. notowner_modify....... pass 10. notowner_lock......... pass 11. owner_modify.......... pass 12. notowner_modify....... pass 13. notowner_lock......... pass 14. copy.................. pass 15. cond_put.............. pass 16. fail_cond_put......... pass 17. cond_put_with_not..... pass 18. cond_put_corrupt_token WARNING: PUT failed with 412 not 423 ...................... pass (with 1 warning) 19. complex_cond_put...... pass 20. fail_complex_cond_put. pass 21. unlock................ pass 22. fail_cond_put_unlocked pass 23. lock_shared........... pass 24. notowner_modify....... pass 25. notowner_lock......... pass 26. owner_modify.......... pass 27. double_sharedlock..... pass 28. notowner_modify....... pass 29. notowner_lock......... pass 30. unlock................ pass 31. prep_collection....... pass 32. lock_collection....... pass 33. owner_modify.......... pass 34. notowner_modify....... pass 35. refresh............... pass 36. indirect_refresh...... pass 37. unlock................ pass 38. unmapped_lock......... WARNING: LOCK on unmapped url returned 200 not 201 (RFC4918:S7.3) ...................... pass (with 1 warning) 39. unlock................ pass 40. finish................ pass <- summary for `locks': of 41 tests run: 41 passed, 0 failed. 100.0% -> 2 warnings were issued. -> running `http': 0. init.................. pass 1. begin................. pass 2. expect100............. pass 3. finish................ pass <- summary for `http': of 4 tests run: 4 passed, 0 failed. 100.0% Apache mod_webdav in Docker From: bytemark/webdav Version: 2.4 Digest: c124350447bb Build Time: 2018-12-14 docker pull bytemark/webdav docker run --restart always \\ -e AUTH_TYPE = Digest -e USERNAME = username -e PASSWORD = password \\ --publish 8000 :80 -d bytemark/webdav -> running `basic': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. put_get............... pass 4. put_get_utf8_segment.. pass 5. put_no_parent......... pass 6. mkcol_over_plain...... pass 7. delete................ pass 8. delete_null........... pass 9. delete_fragment....... pass 10. mkcol................. pass 11. mkcol_again........... pass 12. delete_coll........... pass 13. mkcol_no_parent....... pass 14. mkcol_with_body....... pass 15. finish................ pass <- summary for `basic': of 16 tests run: 16 passed, 0 failed. 100.0% -> running `copymove': 0. init.................. pass 1. begin................. pass 2. copy_init............. pass 3. copy_simple........... pass 4. copy_overwrite........ pass 5. copy_nodestcoll....... pass 6. copy_cleanup.......... pass 7. copy_coll............. pass 8. copy_shallow.......... pass 9. move.................. pass 10. move_coll............. pass 11. move_cleanup.......... pass 12. finish................ pass <- summary for `copymove': of 13 tests run: 13 passed, 0 failed. 100.0% -> running `props': 0. init.................. pass 1. begin................. pass 2. propfind_invalid...... pass 3. propfind_invalid2..... pass 4. propfind_d0........... pass 5. propinit.............. pass 6. propset............... pass 7. propget............... pass 8. propextended.......... pass 9. propmove.............. pass 10. propget............... pass 11. propdeletes........... pass 12. propget............... pass 13. propreplace........... pass 14. propget............... pass 15. propnullns............ pass 16. propget............... pass 17. prophighunicode....... pass 18. propget............... pass 19. propremoveset......... pass 20. propget............... pass 21. propsetremove......... pass 22. propget............... pass 23. propvalnspace......... pass 24. propwformed........... pass 25. propinit.............. pass 26. propmanyns............ pass 27. propget............... pass 28. propcleanup........... pass 29. finish................ pass <- summary for `props': of 30 tests run: 30 passed, 0 failed. 100.0% -> running `locks': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. precond............... pass 4. init_locks............ pass 5. put................... pass 6. lock_excl............. pass 7. discover.............. pass 8. refresh............... pass 9. notowner_modify....... pass 10. notowner_lock......... pass 11. owner_modify.......... pass 12. notowner_modify....... pass 13. notowner_lock......... pass 14. copy.................. pass 15. cond_put.............. pass 16. fail_cond_put......... pass 17. cond_put_with_not..... pass 18. cond_put_corrupt_token WARNING: PUT failed with 400 not 423 ...................... pass (with 1 warning) 19. complex_cond_put...... pass 20. fail_complex_cond_put. pass 21. unlock................ pass 22. fail_cond_put_unlocked pass 23. lock_shared........... pass 24. notowner_modify....... pass 25. notowner_lock......... pass 26. owner_modify.......... pass 27. double_sharedlock..... pass 28. notowner_modify....... pass 29. notowner_lock......... pass 30. unlock................ pass 31. prep_collection....... pass 32. lock_collection....... pass 33. owner_modify.......... pass 34. notowner_modify....... pass 35. refresh............... pass 36. indirect_refresh...... pass 37. unlock................ pass 38. unmapped_lock......... WARNING: LOCK on unmapped url returned 200 not 201 (RFC4918:S7.3) ...................... pass (with 1 warning) 39. unlock................ pass 40. finish................ pass <- summary for `locks': of 41 tests run: 41 passed, 0 failed. 100.0% -> 2 warnings were issued. -> running `http': 0. init.................. pass 1. begin................. pass 2. expect100............. pass 3. finish................ pass <- summary for `http': of 4 tests run: 4 passed, 0 failed. 100.0% Nginx in Docker From: ugeek/webdav Digest: b5e54f00265e Build Time: 2021-02-09 docker pull ugeek/webdav:latest docker run --name webdav \\ --restart = unless-stopped \\ -p 8000 :80 \\ -e USERNAME = username \\ -e PASSWORD = password \\ -e TZ = Europe/Madrid \\ -e UDI = 1000 \\ -e GID = 1000 \\ -d ugeek/webdav:amd64 -> running `basic': 0. init.................. pass 1. begin................. pass 2. options............... WARNING: server does not claim Class 2 compliance ...................... pass (with 1 warning) 3. put_get............... pass 4. put_get_utf8_segment.. pass 5. put_no_parent......... pass 6. mkcol_over_plain...... pass 7. delete................ pass 8. delete_null........... pass 9. delete_fragment....... WARNING: DELETE removed collection resource with Request-URI including fragment; unsafe ...................... pass (with 1 warning) 10. mkcol................. pass 11. mkcol_again........... pass 12. delete_coll........... pass 13. mkcol_no_parent....... pass 14. mkcol_with_body....... pass 15. finish................ pass <- summary for `basic': of 16 tests run: 16 passed, 0 failed. 100.0% -> 2 warnings were issued. -> running `copymove': 0. init.................. pass 1. begin................. pass 2. copy_init............. pass 3. copy_simple........... WARNING: COPY to new resource should give 201 (RFC2518:S8.8.5) ...................... pass (with 1 warning) 4. copy_overwrite........ FAIL (COPY overwrites collection: 409 Conflict) 5. copy_nodestcoll....... WARNING: COPY to non-existant collection '/litmus/nonesuch' gave '500 Internal Server Error' not 409 (RFC2518:S8.8.5) ...................... pass (with 1 warning) 6. copy_cleanup.......... pass 7. copy_coll............. pass 8. copy_shallow.......... pass 9. move.................. WARNING: MOVE to new resource didn't give 201 ...................... FAIL (MOVE overwrites collection `/litmus/movecoll/' to `/litmus/movedest': 409 Conflict) 10. move_coll............. FAIL (MOVE collection `/litmus/mvdest2/' over non-collection `/litmus/mvnoncoll' with overwrite: 409 Conflict) 11. move_cleanup.......... pass 12. finish................ pass <- summary for `copymove': of 13 tests run: 10 passed, 3 failed. 76.9% -> 3 warnings were issued. See debug.log for network/debug traces. Summary basic copymove props locks http ASGI WebDAV pass pass pass 2 warnings pass Apache mod_webdav in docker pass pass pass 2 warnings pass Nginx in Docker 2 warnings 3 warnings skip skip skip","title":"Compatibility"},{"location":"ru/compatibility/#compatibility","text":"","title":"Compatibility"},{"location":"ru/compatibility/#compatible-clients","text":"Client First tested version Remarks Firefox/Chrome/Safari 0.1.0 - macOS finder(WebDAVFS/3.0.0) 0.1.0 - Window10 Explorer(Microsoft-WebDAV-MiniRedir/10.0.19043) 0.6.1 Basic auth only support HTTPS, HTTP please enable Digest Joplin(Joplin/1.0) 0.1.0 - OmniFocus(OmniFocus-Mac/149.14.0/v3.11.7) 0.1.0 - WinSCP(WinSCP/5.19.1 neon/0.31.2) 0.7.0 Only support Basic auth","title":"Compatible Clients"},{"location":"ru/compatibility/#compatibility-test-results","text":"Test in litmus(0.13) , Agent name is litmus/0.13 neon/0.31.2 Version string: neon 0.30.2: Library build, IPv6, libxml 2.9.4, zlib 1.2.11, GNU TLS 3.6.6. python3 -m asgi_webdav --litmus litmus http://192.168.200.198:8000/provider/fs username password # or litmus http://192.168.200.198:8000/provider/memory username password","title":"Compatibility Test Results"},{"location":"ru/compatibility/#asgi-webdav","text":"Version: 0.3.1 -> running `basic': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. put_get............... pass 4. put_get_utf8_segment.. pass 5. put_no_parent......... pass 6. mkcol_over_plain...... pass 7. delete................ pass 8. delete_null........... pass 9. delete_fragment....... pass 10. mkcol................. pass 11. mkcol_again........... pass 12. delete_coll........... pass 13. mkcol_no_parent....... pass 14. mkcol_with_body....... pass 15. finish................ pass <- summary for `basic': of 16 tests run: 16 passed, 0 failed. 100.0% -> running `copymove': 0. init.................. pass 1. begin................. pass 2. copy_init............. pass 3. copy_simple........... pass 4. copy_overwrite........ pass 5. copy_nodestcoll....... pass 6. copy_cleanup.......... pass 7. copy_coll............. pass 8. copy_shallow.......... pass 9. move.................. pass 10. move_coll............. pass 11. move_cleanup.......... pass 12. finish................ pass <- summary for `copymove': of 13 tests run: 13 passed, 0 failed. 100.0% -> running `props': 0. init.................. pass 1. begin................. pass 2. propfind_invalid...... pass 3. propfind_invalid2..... pass 4. propfind_d0........... pass 5. propinit.............. pass 6. propset............... pass 7. propget............... pass 8. propextended.......... pass 9. propmove.............. pass 10. propget............... pass 11. propdeletes........... pass 12. propget............... pass 13. propreplace........... pass 14. propget............... pass 15. propnullns............ pass 16. propget............... pass 17. prophighunicode....... pass 18. propget............... pass 19. propremoveset......... pass 20. propget............... pass 21. propsetremove......... pass 22. propget............... pass 23. propvalnspace......... pass 24. propwformed........... pass 25. propinit.............. pass 26. propmanyns............ pass 27. propget............... pass 28. propcleanup........... pass 29. finish................ pass <- summary for `props': of 30 tests run: 30 passed, 0 failed. 100.0% -> running `locks': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. precond............... pass 4. init_locks............ pass 5. put................... pass 6. lock_excl............. pass 7. discover.............. pass 8. refresh............... pass 9. notowner_modify....... pass 10. notowner_lock......... pass 11. owner_modify.......... pass 12. notowner_modify....... pass 13. notowner_lock......... pass 14. copy.................. pass 15. cond_put.............. pass 16. fail_cond_put......... pass 17. cond_put_with_not..... pass 18. cond_put_corrupt_token WARNING: PUT failed with 412 not 423 ...................... pass (with 1 warning) 19. complex_cond_put...... pass 20. fail_complex_cond_put. pass 21. unlock................ pass 22. fail_cond_put_unlocked pass 23. lock_shared........... pass 24. notowner_modify....... pass 25. notowner_lock......... pass 26. owner_modify.......... pass 27. double_sharedlock..... pass 28. notowner_modify....... pass 29. notowner_lock......... pass 30. unlock................ pass 31. prep_collection....... pass 32. lock_collection....... pass 33. owner_modify.......... pass 34. notowner_modify....... pass 35. refresh............... pass 36. indirect_refresh...... pass 37. unlock................ pass 38. unmapped_lock......... WARNING: LOCK on unmapped url returned 200 not 201 (RFC4918:S7.3) ...................... pass (with 1 warning) 39. unlock................ pass 40. finish................ pass <- summary for `locks': of 41 tests run: 41 passed, 0 failed. 100.0% -> 2 warnings were issued. -> running `http': 0. init.................. pass 1. begin................. pass 2. expect100............. pass 3. finish................ pass <- summary for `http': of 4 tests run: 4 passed, 0 failed. 100.0%","title":"ASGI WebDAV"},{"location":"ru/compatibility/#apache-mod_webdav-in-docker","text":"From: bytemark/webdav Version: 2.4 Digest: c124350447bb Build Time: 2018-12-14 docker pull bytemark/webdav docker run --restart always \\ -e AUTH_TYPE = Digest -e USERNAME = username -e PASSWORD = password \\ --publish 8000 :80 -d bytemark/webdav -> running `basic': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. put_get............... pass 4. put_get_utf8_segment.. pass 5. put_no_parent......... pass 6. mkcol_over_plain...... pass 7. delete................ pass 8. delete_null........... pass 9. delete_fragment....... pass 10. mkcol................. pass 11. mkcol_again........... pass 12. delete_coll........... pass 13. mkcol_no_parent....... pass 14. mkcol_with_body....... pass 15. finish................ pass <- summary for `basic': of 16 tests run: 16 passed, 0 failed. 100.0% -> running `copymove': 0. init.................. pass 1. begin................. pass 2. copy_init............. pass 3. copy_simple........... pass 4. copy_overwrite........ pass 5. copy_nodestcoll....... pass 6. copy_cleanup.......... pass 7. copy_coll............. pass 8. copy_shallow.......... pass 9. move.................. pass 10. move_coll............. pass 11. move_cleanup.......... pass 12. finish................ pass <- summary for `copymove': of 13 tests run: 13 passed, 0 failed. 100.0% -> running `props': 0. init.................. pass 1. begin................. pass 2. propfind_invalid...... pass 3. propfind_invalid2..... pass 4. propfind_d0........... pass 5. propinit.............. pass 6. propset............... pass 7. propget............... pass 8. propextended.......... pass 9. propmove.............. pass 10. propget............... pass 11. propdeletes........... pass 12. propget............... pass 13. propreplace........... pass 14. propget............... pass 15. propnullns............ pass 16. propget............... pass 17. prophighunicode....... pass 18. propget............... pass 19. propremoveset......... pass 20. propget............... pass 21. propsetremove......... pass 22. propget............... pass 23. propvalnspace......... pass 24. propwformed........... pass 25. propinit.............. pass 26. propmanyns............ pass 27. propget............... pass 28. propcleanup........... pass 29. finish................ pass <- summary for `props': of 30 tests run: 30 passed, 0 failed. 100.0% -> running `locks': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. precond............... pass 4. init_locks............ pass 5. put................... pass 6. lock_excl............. pass 7. discover.............. pass 8. refresh............... pass 9. notowner_modify....... pass 10. notowner_lock......... pass 11. owner_modify.......... pass 12. notowner_modify....... pass 13. notowner_lock......... pass 14. copy.................. pass 15. cond_put.............. pass 16. fail_cond_put......... pass 17. cond_put_with_not..... pass 18. cond_put_corrupt_token WARNING: PUT failed with 400 not 423 ...................... pass (with 1 warning) 19. complex_cond_put...... pass 20. fail_complex_cond_put. pass 21. unlock................ pass 22. fail_cond_put_unlocked pass 23. lock_shared........... pass 24. notowner_modify....... pass 25. notowner_lock......... pass 26. owner_modify.......... pass 27. double_sharedlock..... pass 28. notowner_modify....... pass 29. notowner_lock......... pass 30. unlock................ pass 31. prep_collection....... pass 32. lock_collection....... pass 33. owner_modify.......... pass 34. notowner_modify....... pass 35. refresh............... pass 36. indirect_refresh...... pass 37. unlock................ pass 38. unmapped_lock......... WARNING: LOCK on unmapped url returned 200 not 201 (RFC4918:S7.3) ...................... pass (with 1 warning) 39. unlock................ pass 40. finish................ pass <- summary for `locks': of 41 tests run: 41 passed, 0 failed. 100.0% -> 2 warnings were issued. -> running `http': 0. init.................. pass 1. begin................. pass 2. expect100............. pass 3. finish................ pass <- summary for `http': of 4 tests run: 4 passed, 0 failed. 100.0%","title":"Apache mod_webdav in Docker"},{"location":"ru/compatibility/#nginx-in-docker","text":"From: ugeek/webdav Digest: b5e54f00265e Build Time: 2021-02-09 docker pull ugeek/webdav:latest docker run --name webdav \\ --restart = unless-stopped \\ -p 8000 :80 \\ -e USERNAME = username \\ -e PASSWORD = password \\ -e TZ = Europe/Madrid \\ -e UDI = 1000 \\ -e GID = 1000 \\ -d ugeek/webdav:amd64 -> running `basic': 0. init.................. pass 1. begin................. pass 2. options............... WARNING: server does not claim Class 2 compliance ...................... pass (with 1 warning) 3. put_get............... pass 4. put_get_utf8_segment.. pass 5. put_no_parent......... pass 6. mkcol_over_plain...... pass 7. delete................ pass 8. delete_null........... pass 9. delete_fragment....... WARNING: DELETE removed collection resource with Request-URI including fragment; unsafe ...................... pass (with 1 warning) 10. mkcol................. pass 11. mkcol_again........... pass 12. delete_coll........... pass 13. mkcol_no_parent....... pass 14. mkcol_with_body....... pass 15. finish................ pass <- summary for `basic': of 16 tests run: 16 passed, 0 failed. 100.0% -> 2 warnings were issued. -> running `copymove': 0. init.................. pass 1. begin................. pass 2. copy_init............. pass 3. copy_simple........... WARNING: COPY to new resource should give 201 (RFC2518:S8.8.5) ...................... pass (with 1 warning) 4. copy_overwrite........ FAIL (COPY overwrites collection: 409 Conflict) 5. copy_nodestcoll....... WARNING: COPY to non-existant collection '/litmus/nonesuch' gave '500 Internal Server Error' not 409 (RFC2518:S8.8.5) ...................... pass (with 1 warning) 6. copy_cleanup.......... pass 7. copy_coll............. pass 8. copy_shallow.......... pass 9. move.................. WARNING: MOVE to new resource didn't give 201 ...................... FAIL (MOVE overwrites collection `/litmus/movecoll/' to `/litmus/movedest': 409 Conflict) 10. move_coll............. FAIL (MOVE collection `/litmus/mvdest2/' over non-collection `/litmus/mvnoncoll' with overwrite: 409 Conflict) 11. move_cleanup.......... pass 12. finish................ pass <- summary for `copymove': of 13 tests run: 10 passed, 3 failed. 76.9% -> 3 warnings were issued. See debug.log for network/debug traces.","title":"Nginx in Docker"},{"location":"ru/compatibility/#summary","text":"basic copymove props locks http ASGI WebDAV pass pass pass 2 warnings pass Apache mod_webdav in docker pass pass pass 2 warnings pass Nginx in Docker 2 warnings 3 warnings skip skip skip","title":"Summary"},{"location":"ru/contributing/","text":"Contributing New feature, bug fix, new language, new howto, typo fix; everything is fine. Note issue -> discuss -> fork -> PR Code Prepare git clone https://github.com/rexzhang/asgi-webdav.git cd asgi-webdav pip install -U -r requirements/dev.txt Run Dev Server python -m asgi_webdev --dev Documentation Create a new language translation Example cp docs/index.en.md docs/index.ru.md Update MkDocs's config file mkdocs.txt example languages : en : English ru : \u0440\u0443\u0441\u0441\u043a\u0438\u0439 zh : \u4e2d\u6587 nav_translations : zh : Home : \u9996\u9875 Setup : \u914d\u7f6e Reference : \u8d44\u6599 Trouble Shooting : \u6545\u969c\u5904\u7406 Ref ISO 639-1 language code MkDocs's i18n plugin Create a new howto nano docs/howto/howto-this-is-a-new-howto.en.md Preview pip install -U -r requirements/mkdocs.txt mkdocs serve","title":"Contributing"},{"location":"ru/contributing/#contributing","text":"New feature, bug fix, new language, new howto, typo fix; everything is fine. Note issue -> discuss -> fork -> PR","title":"Contributing"},{"location":"ru/contributing/#code","text":"","title":"Code"},{"location":"ru/contributing/#prepare","text":"git clone https://github.com/rexzhang/asgi-webdav.git cd asgi-webdav pip install -U -r requirements/dev.txt","title":"Prepare"},{"location":"ru/contributing/#run-dev-server","text":"python -m asgi_webdev --dev","title":"Run Dev Server"},{"location":"ru/contributing/#documentation","text":"","title":"Documentation"},{"location":"ru/contributing/#create-a-new-language-translation","text":"","title":"Create a new language translation"},{"location":"ru/contributing/#example","text":"cp docs/index.en.md docs/index.ru.md","title":"Example"},{"location":"ru/contributing/#update-mkdocss-config-file","text":"mkdocs.txt example languages : en : English ru : \u0440\u0443\u0441\u0441\u043a\u0438\u0439 zh : \u4e2d\u6587 nav_translations : zh : Home : \u9996\u9875 Setup : \u914d\u7f6e Reference : \u8d44\u6599 Trouble Shooting : \u6545\u969c\u5904\u7406","title":"Update MkDocs's config file"},{"location":"ru/contributing/#ref","text":"ISO 639-1 language code MkDocs's i18n plugin","title":"Ref"},{"location":"ru/contributing/#create-a-new-howto","text":"nano docs/howto/howto-this-is-a-new-howto.en.md","title":"Create a new howto"},{"location":"ru/contributing/#preview","text":"pip install -U -r requirements/mkdocs.txt mkdocs serve","title":"Preview"},{"location":"ru/","text":"Overview An asynchronous WebDAV server implementation, Support multi-provider, multi-account and permission control. Features ASGI standard WebDAV standard: RFC4918 Support multi-provider: FileProvider, MemoryProvider Support multi-account and permission control Support optional home directory Support store password in raw/hashlib/LDAP(experimental) mode Full asyncio file IO Passed all litmus(0.13) test, except 2 warning Browse the file directory in the browser Support HTTP Basic/Digest authentication Support response in Gzip/Brotli Compatible with macOS finder and Window10 Explorer Quick Start docker pull ray1ex/asgi-webdav docker run --restart always -p 0 .0.0.0:8000:8000 \\ -v /your/data:/data \\ -e UID = 1000 -e GID = 1000 \\ --name asgi-webdav ray1ex/asgi-webdav Default Account value description username username - password password - permission [\"+\"] Allow access to all directories View in Browser","title":"Overview"},{"location":"ru/#overview","text":"An asynchronous WebDAV server implementation, Support multi-provider, multi-account and permission control.","title":"Overview"},{"location":"ru/#features","text":"ASGI standard WebDAV standard: RFC4918 Support multi-provider: FileProvider, MemoryProvider Support multi-account and permission control Support optional home directory Support store password in raw/hashlib/LDAP(experimental) mode Full asyncio file IO Passed all litmus(0.13) test, except 2 warning Browse the file directory in the browser Support HTTP Basic/Digest authentication Support response in Gzip/Brotli Compatible with macOS finder and Window10 Explorer","title":"Features"},{"location":"ru/#quick-start","text":"docker pull ray1ex/asgi-webdav docker run --restart always -p 0 .0.0.0:8000:8000 \\ -v /your/data:/data \\ -e UID = 1000 -e GID = 1000 \\ --name asgi-webdav ray1ex/asgi-webdav","title":"Quick Start"},{"location":"ru/#default-account","text":"value description username username - password password - permission [\"+\"] Allow access to all directories","title":"Default Account"},{"location":"ru/#view-in-browser","text":"","title":"View in Browser"},{"location":"ru/install/","text":"Installation Docker Install docker pull ray1ex/asgi-webdav:latest Startup server docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data \\ -e UID=1000 -e GID=1000 \\ --name asgi-webdav ray1ex/asgi-webdav WARNING: load config value from file[/data/webdav.json] failed, [Errno 2] No such file or directory: '/data/webdav.json' INFO: [asgi_webdav.webdav] ASGI WebDAV(v0.3.1) starting... INFO: [asgi_webdav.distributor] Mapping Prefix: / => file:///data INFO: [asgi_webdav.auth] Register Account: username, allow:[''], deny:[] INFO: [uvicorn] Started server process [7] INFO: [uvicorn] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit) Default value username is username , password is password , map /your/data to http://localhost:8000 Python Module Install git pull https://github.com/rexzhang/asgi-webdav.git pip install -U -r requirements/base.txt Startup server Quick start Run it with config file python -m asgi_webdav --root-path . python -m asgi_webdav --config /your/webdav.json Output example 2022-03-22 16:06:49,363 INFO: [asgi_webdav.server] ASGI WebDAV Server(v1.0.0) starting... 2022-03-22 16:06:49,364 INFO: [asgi_webdav.auth] Register User: username, allow:[''], deny:[] 2022-03-22 16:06:49,364 INFO: [asgi_webdav.web_dav] Mapping Prefix: / => file://. 2022-03-22 16:06:49,844 INFO: [asgi_webdav.server] ASGI WebDAV Server running on http://127.0.0.1:8000 (Press CTRL+C to quit) Default value(quick start) username is username , password is password , mapping current path . to http://localhost:8000 Standalone Application Install macOS Windows wget https://github.com/rexzhang/asgi-webdav/releases/download/v0.9.1/asgi-webdav-macos.zip unzip asgi-webdav-macos.zip dl https://github.com/rexzhang/asgi-webdav/releases/download/v0.9.1/asgi-webdav.exe For other platforms or versions, please visit GitHub Release Startup server macOS macOS with config file Windows ./asgi_webdav -r . 2022-03-22 16:19:45,259 INFO: [asgi_webdav.server] ASGI WebDAV Server(v0.9.1) starting... 2022-03-22 16:19:45,259 INFO: [asgi_webdav.auth] Register User: username, allow:[''], deny:[] 2022-03-22 16:19:45,260 INFO: [asgi_webdav.web_dav] Mapping Prefix: / => file://. 2022-03-22 16:19:45,374 INFO: [asgi_webdav.server] ASGI WebDAV Server running on http://127.0.0.1:8000 (Press CTRL+C to quit) ./asgi-webdav --config /tmp/webdav.json INFO: [asgi_webdav.config] Load config value from config file:/tmp/webdav.json 2022-03-22 16:16:58,853 INFO: [asgi_webdav.server] ASGI WebDAV Server(v0.9.1) starting... 2022-03-22 16:16:58,853 INFO: [asgi_webdav.auth] Register User: rex-hashlib, allow:['^/$'], deny:[] 2022-03-22 16:16:58,853 INFO: [asgi_webdav.auth] Register User: rex, allow:[''], deny:[] 2022-03-22 16:16:58,853 INFO: [asgi_webdav.auth] Register User: user-ldap, allow:['^/$'], deny:[] 2022-03-22 16:16:58,854 INFO: [asgi_webdav.web_dav] Mapping Prefix: / => file:///tmp/root 2022-03-22 16:16:58,854 INFO: [asgi_webdav.web_dav] Mapping Prefix: /home => file:///tmp/homes/{user name} 2022-03-22 16:16:58,925 INFO: [asgi_webdav.server] ASGI WebDAV Server running on http://127.0.0.1:8000 (Press CTRL+C to quit) asgi_webdav --config c:/your/webdav.json","title":"Installation"},{"location":"ru/install/#installation","text":"","title":"Installation"},{"location":"ru/install/#docker","text":"","title":"Docker"},{"location":"ru/install/#install","text":"docker pull ray1ex/asgi-webdav:latest","title":"Install"},{"location":"ru/install/#startup-server","text":"docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data \\ -e UID=1000 -e GID=1000 \\ --name asgi-webdav ray1ex/asgi-webdav WARNING: load config value from file[/data/webdav.json] failed, [Errno 2] No such file or directory: '/data/webdav.json' INFO: [asgi_webdav.webdav] ASGI WebDAV(v0.3.1) starting... INFO: [asgi_webdav.distributor] Mapping Prefix: / => file:///data INFO: [asgi_webdav.auth] Register Account: username, allow:[''], deny:[] INFO: [uvicorn] Started server process [7] INFO: [uvicorn] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)","title":"Startup server"},{"location":"ru/install/#default-value","text":"username is username , password is password , map /your/data to http://localhost:8000","title":"Default value"},{"location":"ru/install/#python-module","text":"","title":"Python Module"},{"location":"ru/install/#install_1","text":"git pull https://github.com/rexzhang/asgi-webdav.git pip install -U -r requirements/base.txt","title":"Install"},{"location":"ru/install/#startup-server_1","text":"Quick start Run it with config file python -m asgi_webdav --root-path . python -m asgi_webdav --config /your/webdav.json","title":"Startup server"},{"location":"ru/install/#output-example","text":"2022-03-22 16:06:49,363 INFO: [asgi_webdav.server] ASGI WebDAV Server(v1.0.0) starting... 2022-03-22 16:06:49,364 INFO: [asgi_webdav.auth] Register User: username, allow:[''], deny:[] 2022-03-22 16:06:49,364 INFO: [asgi_webdav.web_dav] Mapping Prefix: / => file://. 2022-03-22 16:06:49,844 INFO: [asgi_webdav.server] ASGI WebDAV Server running on http://127.0.0.1:8000 (Press CTRL+C to quit)","title":"Output example"},{"location":"ru/install/#default-valuequick-start","text":"username is username , password is password , mapping current path . to http://localhost:8000","title":"Default value(quick start)"},{"location":"ru/install/#standalone-application","text":"","title":"Standalone Application"},{"location":"ru/install/#install_2","text":"macOS Windows wget https://github.com/rexzhang/asgi-webdav/releases/download/v0.9.1/asgi-webdav-macos.zip unzip asgi-webdav-macos.zip dl https://github.com/rexzhang/asgi-webdav/releases/download/v0.9.1/asgi-webdav.exe For other platforms or versions, please visit GitHub Release","title":"Install"},{"location":"ru/install/#startup-server_2","text":"macOS macOS with config file Windows ./asgi_webdav -r . 2022-03-22 16:19:45,259 INFO: [asgi_webdav.server] ASGI WebDAV Server(v0.9.1) starting... 2022-03-22 16:19:45,259 INFO: [asgi_webdav.auth] Register User: username, allow:[''], deny:[] 2022-03-22 16:19:45,260 INFO: [asgi_webdav.web_dav] Mapping Prefix: / => file://. 2022-03-22 16:19:45,374 INFO: [asgi_webdav.server] ASGI WebDAV Server running on http://127.0.0.1:8000 (Press CTRL+C to quit) ./asgi-webdav --config /tmp/webdav.json INFO: [asgi_webdav.config] Load config value from config file:/tmp/webdav.json 2022-03-22 16:16:58,853 INFO: [asgi_webdav.server] ASGI WebDAV Server(v0.9.1) starting... 2022-03-22 16:16:58,853 INFO: [asgi_webdav.auth] Register User: rex-hashlib, allow:['^/$'], deny:[] 2022-03-22 16:16:58,853 INFO: [asgi_webdav.auth] Register User: rex, allow:[''], deny:[] 2022-03-22 16:16:58,853 INFO: [asgi_webdav.auth] Register User: user-ldap, allow:['^/$'], deny:[] 2022-03-22 16:16:58,854 INFO: [asgi_webdav.web_dav] Mapping Prefix: / => file:///tmp/root 2022-03-22 16:16:58,854 INFO: [asgi_webdav.web_dav] Mapping Prefix: /home => file:///tmp/homes/{user name} 2022-03-22 16:16:58,925 INFO: [asgi_webdav.server] ASGI WebDAV Server running on http://127.0.0.1:8000 (Press CTRL+C to quit) asgi_webdav --config c:/your/webdav.json","title":"Startup server"},{"location":"ru/known-issues/","text":"Known Issues Can not open .DMG file in macOS finder The type of the MemoryProvider's directory is displayed incorrectly","title":"Known Issues"},{"location":"ru/known-issues/#known-issues","text":"Can not open .DMG file in macOS finder The type of the MemoryProvider's directory is displayed incorrectly","title":"Known Issues"},{"location":"ru/quick-start-in-docker/","text":"Quick Start in Docker Install docker pull ray1ex/asgi-webdav:latest Take a Glance docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data \\ --name asgi-webdav ray1ex/asgi-webdav Because there is no webdav.json file under /your/data , it will be started with the full default configuration. The root directory mapping to /your/data ; there is only one account, username username , password password , and all permissions. Multi-Account Create file /your/data/webdav.json as below { \"account_mapping\" : [ { \"username\" : \"user_all\" , \"password\" : \"pw1\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"user_litmus\" , \"password\" : \"pw2\" , \"permissions\" : [ \"+^/$\" , \"+^/litmus\" , \"-^/litmus/other\" ] }, { \"username\" : \"guest\" , \"password\" : \"pw3\" , \"permissions\" : [] } ] } Restart the docker container and it will take effect. There are three accounts in total. username password access permissions user_all pw1 all path user_litmus pw2 / and /litmus and /litmus/* guest pw3 can not access any path Path Mapping Configuration File Change file /your/data/webdav.json as below. { \"account_mapping\" : [ { \"username\" : \"username\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/litmus\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/litmus/fs\" , \"uri\" : \"file:///data/other\" }, { \"prefix\" : \"/litmus/memory\" , \"uri\" : \"memory:///\" } ] } Create Docker Container docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data -v /your/data/other:/data/other \\ --name asgi-webdav ray1ex/asgi-webdav Path Mapping Table HTTP path path in Docker container path in host machine / /data/root /your/data/root /litmus memory area A /litmus/fs /data/other /your/data/other /litmus/memory memory area B The system works without creating the path /your/data/root on the host machine; however, accessing the URL / only results in a 404 error Home Directory Configuration File { \"account_mapping\" : [ { \"username\" : \"user_a\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"user_b\" , \"password\" : \"password\" , \"permissions\" : [] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/~\" , \"uri\" : \"file:///data/homes\" , \"home_dir\" : true } ] } Create Docker Container docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data -v /your/data/homes:/data/homes \\ --name asgi-webdav ray1ex/asgi-webdav Path Mapping Table user URL path in Docker container path in host machine user_a /~ /data/homes/user_a /your/data/homes/user_a user_a /~/sub /data/homes/user_a/sub /your/data/homes/user_a/sub user_b /~ /data/homes/user_b /your/data/homes/user_b user_b /~/sub /data/homes/user_b/sub /your/data/homes/user_b/sub If the subdirectory of the same name corresponding to the user does not exist, it will cause the request to the home directory to fail. Please create paths such as /your/data/homes/user_a on the host by yourself. Even if a user does not have access to any shared directory, t hey has access to all they home directories. The system allows multiple home directories to exist at the same time, for example: /~ /home","title":"Quick Start in Docker"},{"location":"ru/quick-start-in-docker/#quick-start-in-docker","text":"","title":"Quick Start in Docker"},{"location":"ru/quick-start-in-docker/#install","text":"docker pull ray1ex/asgi-webdav:latest","title":"Install"},{"location":"ru/quick-start-in-docker/#take-a-glance","text":"docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data \\ --name asgi-webdav ray1ex/asgi-webdav Because there is no webdav.json file under /your/data , it will be started with the full default configuration. The root directory mapping to /your/data ; there is only one account, username username , password password , and all permissions.","title":"Take a Glance"},{"location":"ru/quick-start-in-docker/#multi-account","text":"Create file /your/data/webdav.json as below { \"account_mapping\" : [ { \"username\" : \"user_all\" , \"password\" : \"pw1\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"user_litmus\" , \"password\" : \"pw2\" , \"permissions\" : [ \"+^/$\" , \"+^/litmus\" , \"-^/litmus/other\" ] }, { \"username\" : \"guest\" , \"password\" : \"pw3\" , \"permissions\" : [] } ] } Restart the docker container and it will take effect. There are three accounts in total. username password access permissions user_all pw1 all path user_litmus pw2 / and /litmus and /litmus/* guest pw3 can not access any path","title":"Multi-Account"},{"location":"ru/quick-start-in-docker/#path-mapping","text":"","title":"Path Mapping"},{"location":"ru/quick-start-in-docker/#configuration-file","text":"Change file /your/data/webdav.json as below. { \"account_mapping\" : [ { \"username\" : \"username\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/litmus\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/litmus/fs\" , \"uri\" : \"file:///data/other\" }, { \"prefix\" : \"/litmus/memory\" , \"uri\" : \"memory:///\" } ] }","title":"Configuration File"},{"location":"ru/quick-start-in-docker/#create-docker-container","text":"docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data -v /your/data/other:/data/other \\ --name asgi-webdav ray1ex/asgi-webdav","title":"Create Docker Container"},{"location":"ru/quick-start-in-docker/#path-mapping-table","text":"HTTP path path in Docker container path in host machine / /data/root /your/data/root /litmus memory area A /litmus/fs /data/other /your/data/other /litmus/memory memory area B The system works without creating the path /your/data/root on the host machine; however, accessing the URL / only results in a 404 error","title":"Path Mapping Table"},{"location":"ru/quick-start-in-docker/#home-directory","text":"","title":"Home Directory"},{"location":"ru/quick-start-in-docker/#configuration-file_1","text":"{ \"account_mapping\" : [ { \"username\" : \"user_a\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"user_b\" , \"password\" : \"password\" , \"permissions\" : [] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/~\" , \"uri\" : \"file:///data/homes\" , \"home_dir\" : true } ] }","title":"Configuration File"},{"location":"ru/quick-start-in-docker/#create-docker-container_1","text":"docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data -v /your/data/homes:/data/homes \\ --name asgi-webdav ray1ex/asgi-webdav","title":"Create Docker Container"},{"location":"ru/quick-start-in-docker/#path-mapping-table_1","text":"user URL path in Docker container path in host machine user_a /~ /data/homes/user_a /your/data/homes/user_a user_a /~/sub /data/homes/user_a/sub /your/data/homes/user_a/sub user_b /~ /data/homes/user_b /your/data/homes/user_b user_b /~/sub /data/homes/user_b/sub /your/data/homes/user_b/sub If the subdirectory of the same name corresponding to the user does not exist, it will cause the request to the home directory to fail. Please create paths such as /your/data/homes/user_a on the host by yourself. Even if a user does not have access to any shared directory, t hey has access to all they home directories. The system allows multiple home directories to exist at the same time, for example: /~ /home","title":"Path Mapping Table"},{"location":"ru/trouble-shooting/","text":"Trouble Shooting Upgrade to 1.x.x with watchtower or portainer Please delete and re-install container.","title":"Trouble Shooting"},{"location":"ru/trouble-shooting/#trouble-shooting","text":"","title":"Trouble Shooting"},{"location":"ru/trouble-shooting/#upgrade-to-1xx-with-watchtower-or-portainer","text":"Please delete and re-install container.","title":"Upgrade to 1.x.x with watchtower or portainer"},{"location":"ru/guide/cors/","text":"Cross-Origin Resource Sharing (CORS) Enable CORS, allow any Origin { \"cors\" : { \"enable\" : true , \"allow_origins\" : [ \"*\" ] } } Allow multiple Origin { \"cors\" : { \"enable\" : true , \"allow_origins\" : [ \"https://i.am.origin.com\" , \"https://me.too.com\" ] } } Based on the regular expressions allowed Origin { \"cors\" : { \"enable\" : true , \"allow_origin_regex\" : \"^https://cors.*\" } } Based on the regular expressions allowed URL { \"cors\" : { \"enable\" : true , \"allow_url_regex\" : \"^/cors/path.*\" , \"allow_origins\" : [ \"*\" ] } } Allowed HTTP methods { \"cors\" : { \"enable\" : true , \"allow_origins\" : [ \"*\" ], \"allow_methods\" : [ \"GET\" , \"HEAD\" , \"POST\" ] } }","title":"Cross-Origin Resource Sharing (CORS)"},{"location":"ru/guide/cors/#cross-origin-resource-sharing-cors","text":"","title":"Cross-Origin Resource Sharing (CORS)"},{"location":"ru/guide/cors/#enable-cors-allow-any-origin","text":"{ \"cors\" : { \"enable\" : true , \"allow_origins\" : [ \"*\" ] } }","title":"Enable CORS, allow any Origin"},{"location":"ru/guide/cors/#allow-multiple-origin","text":"{ \"cors\" : { \"enable\" : true , \"allow_origins\" : [ \"https://i.am.origin.com\" , \"https://me.too.com\" ] } }","title":"Allow multiple Origin"},{"location":"ru/guide/cors/#based-on-the-regular-expressions-allowed-origin","text":"{ \"cors\" : { \"enable\" : true , \"allow_origin_regex\" : \"^https://cors.*\" } }","title":"Based on the regular expressions allowed Origin"},{"location":"ru/guide/cors/#based-on-the-regular-expressions-allowed-url","text":"{ \"cors\" : { \"enable\" : true , \"allow_url_regex\" : \"^/cors/path.*\" , \"allow_origins\" : [ \"*\" ] } }","title":"Based on the regular expressions allowed URL"},{"location":"ru/guide/cors/#allowed-http-methods","text":"{ \"cors\" : { \"enable\" : true , \"allow_origins\" : [ \"*\" ], \"allow_methods\" : [ \"GET\" , \"HEAD\" , \"POST\" ] } }","title":"Allowed HTTP methods"},{"location":"ru/guide/multi-account/","text":"Multi-Account and Home Directory config file /your/data/webdav.json { \"account_mapping\" : [ { \"username\" : \"user_all\" , \"password\" : \"pw1\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"user_a\" , \"password\" : \"pw2\" , \"permissions\" : [ \"+^/$\" , \"+^/share\" , \"-^/share/no_a\" ] }, { \"username\" : \"user_b\" , \"password\" : \"pw3\" , \"permissions\" : [ \"+^/$\" , \"+^/share\" , \"-^/share/no_b\" ] }, { \"username\" : \"guest\" , \"password\" : \"pw4\" , \"permissions\" : [] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/temp1\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/temp2\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/~\" , \"uri\" : \"file:///data/homes\" , \"home_dir\" : true } ] } docker command docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data -v /your/data/homes:/data/homes \\ --name asgi-webdav ray1ex/asgi-webdav URL/path mapping table user URL path in docker container path in host All / /data/root /your/data/root All /share /data/root/share /your/data/root/share All /temp1 memory area #1 All /temp2 memory area #2 user_a /~ /data/homes/user_a /your/data/homes/user_a user_a /~/sub /data/homes/user_a/sub /your/data/homes/user_a/sub user_b /~ /data/homes/user_b /your/data/homes/user_b user_b /~/sub /data/homes/user_b/sub /your/data/homes/user_b/sub account permission username user_all user_a user_b guest password pw1 pw2 pw3 pw4 URL /~ Allow Allow Allow Allow URL / Allow Allow Allow Deny URL /share Allow Allow Allow Deny URL /share/no_a Allow Deny Allow Deny URL /share/no_b Allow Allow Deny Deny other URL Allow Deny Deny Deny","title":"Multi-Account and Home Directory"},{"location":"ru/guide/multi-account/#multi-account-and-home-directory","text":"","title":"Multi-Account and Home Directory"},{"location":"ru/guide/multi-account/#config-file","text":"/your/data/webdav.json { \"account_mapping\" : [ { \"username\" : \"user_all\" , \"password\" : \"pw1\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"user_a\" , \"password\" : \"pw2\" , \"permissions\" : [ \"+^/$\" , \"+^/share\" , \"-^/share/no_a\" ] }, { \"username\" : \"user_b\" , \"password\" : \"pw3\" , \"permissions\" : [ \"+^/$\" , \"+^/share\" , \"-^/share/no_b\" ] }, { \"username\" : \"guest\" , \"password\" : \"pw4\" , \"permissions\" : [] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/temp1\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/temp2\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/~\" , \"uri\" : \"file:///data/homes\" , \"home_dir\" : true } ] }","title":"config file"},{"location":"ru/guide/multi-account/#docker-command","text":"docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data -v /your/data/homes:/data/homes \\ --name asgi-webdav ray1ex/asgi-webdav","title":"docker command"},{"location":"ru/guide/multi-account/#urlpath-mapping-table","text":"user URL path in docker container path in host All / /data/root /your/data/root All /share /data/root/share /your/data/root/share All /temp1 memory area #1 All /temp2 memory area #2 user_a /~ /data/homes/user_a /your/data/homes/user_a user_a /~/sub /data/homes/user_a/sub /your/data/homes/user_a/sub user_b /~ /data/homes/user_b /your/data/homes/user_b user_b /~/sub /data/homes/user_b/sub /your/data/homes/user_b/sub","title":"URL/path mapping table"},{"location":"ru/guide/multi-account/#account-permission","text":"username user_all user_a user_b guest password pw1 pw2 pw3 pw4 URL /~ Allow Allow Allow Allow URL / Allow Allow Allow Deny URL /share Allow Allow Allow Deny URL /share/no_a Allow Deny Allow Deny URL /share/no_b Allow Allow Deny Deny other URL Allow Deny Deny Deny","title":"account permission"},{"location":"ru/guide/protect-your-password-in-the-config/","text":"Protect your password in the configuration file { \"account_mapping\" : [ { \"username\" : \"user-raw\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ]}, { \"username\" : \"user-hashlib\" , \"password\" : \"<hashlib>:sha256:salt:291e247d155354e48fec2b579637782446821935fc96a5a08a0b7885179c408b\" , \"permissions\" : [ \"+^/$\" ] }, { \"username\" : \"user-digest\" , \"password\" : \"<digest>:ASGI-WebDAV:c1d34f1e0f457c4de05b7468d5165567\" , \"permissions\" : [ \"+^/$\" ] }, { \"username\" : \"user-ldap\" , \"password\" : \"<ldap>#1#ldaps://your.ldap.server.com#SIMPLE#uid=user-ldap,cn=users,dc=your.ldap.server.com\" , \"permissions\" : [ \"+^/$\" ] } ] } Raw Mode user user-raw 's password is real password hashlib Mode password 's format is \"<hashlib>:{algorithm}:{salt}:{hashed-password}\" {algorithm} A list of supported {algorithms} can be found at Python's docs The commonly used algorithms: sha256 sha384 sha512 blake2b (optimized for 64-bit platforms) blake2s (optimized for 8- to 32-bit platforms) {salt} {salt} can be any string {hashed-password} {hashed-password} 's format is ALGORITHM(bytes(\"{salt}:{password}\")).hexdigest() example: {algorithm}: sha256 {salt}: salt {password}: password >>> import hashlib >>> hashlib.new(\"sha256\", \"{}:{}\".format(\"salt\", \"password\").encode(\"utf-8\")).hexdigest() '291e247d155354e48fec2b579637782446821935fc96a5a08a0b7885179c408b' Ref https://en.wikipedia.org/wiki/Comparison_of_cryptographic_hash_functions HTTP Digest Mode password 's format is <digest>:{realm}:{HA1} {realm} ASGI-WebDAV {HA1} {HA1} 's format is md5(bytes(\"{username}:{realm}:{password}\")).hexdigest() example: {username}: user-digest {realm}: ASGI-WebDAV {password}: password >>> import hashlib >>> hashlib.new(\"md5\", \"{}:{}:{}\".format(\"user-digest\", \"ASGI-WebDAV\", \"password\").encode(\"utf-8\")).hexdigest() 'c1d34f1e0f457c4de05b7468d5165567' Ref RFC2617 LDAP Mode (experimental) password 's format is \"<ldap>#1#{ldap-uri}#{mechanism}#{ldap-user}\" {ldap-uri} Example: ldap://your.ldap.server.com ldaps://your.tls.ldap.server.com Ref Official Website RFC4516 {mechanism} Example: SIMPLE ... {ldap-user} Example: uid=you-name,cn=users,dc=ldap,dc=server,dc=com Compatibility HTTP Basic auth HTTP Digest auth Raw Mode Y Y hashlib Mode Y N HTTP Digest Mode Y Y LDAP Mode Y N","title":"Protect your password in the configuration file"},{"location":"ru/guide/protect-your-password-in-the-config/#protect-your-password-in-the-configuration-file","text":"{ \"account_mapping\" : [ { \"username\" : \"user-raw\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ]}, { \"username\" : \"user-hashlib\" , \"password\" : \"<hashlib>:sha256:salt:291e247d155354e48fec2b579637782446821935fc96a5a08a0b7885179c408b\" , \"permissions\" : [ \"+^/$\" ] }, { \"username\" : \"user-digest\" , \"password\" : \"<digest>:ASGI-WebDAV:c1d34f1e0f457c4de05b7468d5165567\" , \"permissions\" : [ \"+^/$\" ] }, { \"username\" : \"user-ldap\" , \"password\" : \"<ldap>#1#ldaps://your.ldap.server.com#SIMPLE#uid=user-ldap,cn=users,dc=your.ldap.server.com\" , \"permissions\" : [ \"+^/$\" ] } ] }","title":"Protect your password in the configuration file"},{"location":"ru/guide/protect-your-password-in-the-config/#raw-mode","text":"user user-raw 's password is real password","title":"Raw Mode"},{"location":"ru/guide/protect-your-password-in-the-config/#hashlib-mode","text":"password 's format is \"<hashlib>:{algorithm}:{salt}:{hashed-password}\"","title":"hashlib Mode"},{"location":"ru/guide/protect-your-password-in-the-config/#algorithm","text":"A list of supported {algorithms} can be found at Python's docs The commonly used algorithms: sha256 sha384 sha512 blake2b (optimized for 64-bit platforms) blake2s (optimized for 8- to 32-bit platforms)","title":"{algorithm}"},{"location":"ru/guide/protect-your-password-in-the-config/#salt","text":"{salt} can be any string","title":"{salt}"},{"location":"ru/guide/protect-your-password-in-the-config/#hashed-password","text":"{hashed-password} 's format is ALGORITHM(bytes(\"{salt}:{password}\")).hexdigest() example: {algorithm}: sha256 {salt}: salt {password}: password >>> import hashlib >>> hashlib.new(\"sha256\", \"{}:{}\".format(\"salt\", \"password\").encode(\"utf-8\")).hexdigest() '291e247d155354e48fec2b579637782446821935fc96a5a08a0b7885179c408b'","title":"{hashed-password}"},{"location":"ru/guide/protect-your-password-in-the-config/#ref","text":"https://en.wikipedia.org/wiki/Comparison_of_cryptographic_hash_functions","title":"Ref"},{"location":"ru/guide/protect-your-password-in-the-config/#http-digest-mode","text":"password 's format is <digest>:{realm}:{HA1}","title":"HTTP Digest Mode"},{"location":"ru/guide/protect-your-password-in-the-config/#realm","text":"ASGI-WebDAV","title":"{realm}"},{"location":"ru/guide/protect-your-password-in-the-config/#ha1","text":"{HA1} 's format is md5(bytes(\"{username}:{realm}:{password}\")).hexdigest() example: {username}: user-digest {realm}: ASGI-WebDAV {password}: password >>> import hashlib >>> hashlib.new(\"md5\", \"{}:{}:{}\".format(\"user-digest\", \"ASGI-WebDAV\", \"password\").encode(\"utf-8\")).hexdigest() 'c1d34f1e0f457c4de05b7468d5165567'","title":"{HA1}"},{"location":"ru/guide/protect-your-password-in-the-config/#ref_1","text":"RFC2617","title":"Ref"},{"location":"ru/guide/protect-your-password-in-the-config/#ldap-mode-experimental","text":"password 's format is \"<ldap>#1#{ldap-uri}#{mechanism}#{ldap-user}\"","title":"LDAP Mode (experimental)"},{"location":"ru/guide/protect-your-password-in-the-config/#ldap-uri","text":"Example: ldap://your.ldap.server.com ldaps://your.tls.ldap.server.com","title":"{ldap-uri}"},{"location":"ru/guide/protect-your-password-in-the-config/#ref_2","text":"Official Website RFC4516","title":"Ref"},{"location":"ru/guide/protect-your-password-in-the-config/#mechanism","text":"Example: SIMPLE ...","title":"{mechanism}"},{"location":"ru/guide/protect-your-password-in-the-config/#ldap-user","text":"Example: uid=you-name,cn=users,dc=ldap,dc=server,dc=com","title":"{ldap-user}"},{"location":"ru/guide/protect-your-password-in-the-config/#compatibility","text":"HTTP Basic auth HTTP Digest auth Raw Mode Y Y hashlib Mode Y N HTTP Digest Mode Y Y LDAP Mode Y N","title":"Compatibility"},{"location":"ru/howto/howto-hide-files-in-dir-with-the-specified-client/","text":"How to hide files in directory with the specified client Hide *.do-not-display-at-every in all client { \"hide_file_in_dir\" : { \"user_rules\" : { \"\" : \".+\\\\.do-not-display-at-every$\" } } } Hide hide.* and *.hide in macOS finder { \"hide_file_in_dir\" : { \"user_rules\" : { \"WebDAVFS\" : \"^hide\\\\.|.+\\\\.hide$\" } } }","title":"How to hide files in directory with the specified client"},{"location":"ru/howto/howto-hide-files-in-dir-with-the-specified-client/#how-to-hide-files-in-directory-with-the-specified-client","text":"","title":"How to hide files in directory with the specified client"},{"location":"ru/howto/howto-hide-files-in-dir-with-the-specified-client/#hide-do-not-display-at-every-in-all-client","text":"{ \"hide_file_in_dir\" : { \"user_rules\" : { \"\" : \".+\\\\.do-not-display-at-every$\" } } }","title":"Hide *.do-not-display-at-every in all client"},{"location":"ru/howto/howto-hide-files-in-dir-with-the-specified-client/#hide-hide-and-hide-in-macos-finder","text":"{ \"hide_file_in_dir\" : { \"user_rules\" : { \"WebDAVFS\" : \"^hide\\\\.|.+\\\\.hide$\" } } }","title":"Hide hide.* and *.hide in macOS finder"},{"location":"ru/howto/howto-specify-type-for-specific-file-extentions/","text":"How to Specify Type for specific file extentions change your webdav.json like blow: { \"guess_type_extension\" : { \"filename_mapping\" : { \".bashrc\" : \"text/plain\" }, \"suffix_mapping\" : { \".py\" : \"text/plain\" } } } default value DEFAULT_FILENAME_CONTENT_TYPE_MAPPING and DEFAULT_SUFFIX_CONTENT_TYPE_MAPPING defined in file constants.py .","title":"How to Specify Type for specific file extentions"},{"location":"ru/howto/howto-specify-type-for-specific-file-extentions/#how-to-specify-type-for-specific-file-extentions","text":"change your webdav.json like blow: { \"guess_type_extension\" : { \"filename_mapping\" : { \".bashrc\" : \"text/plain\" }, \"suffix_mapping\" : { \".py\" : \"text/plain\" } } } default value DEFAULT_FILENAME_CONTENT_TYPE_MAPPING and DEFAULT_SUFFIX_CONTENT_TYPE_MAPPING defined in file constants.py .","title":"How to Specify Type for specific file extentions"},{"location":"ru/reference/cli/","text":"Command Line Interface Command Line Interface Args Introduced in 0.8 Last updated in 1.0 python -m asgi_webdav --help Usage: python -m asgi_webdav [ OPTIONS ] Run ASGI WebDAV server Options: -V, --version Print version info and exit. -H, --host TEXT Bind socket to this host. [ default: 127 .0.0.1 ] -P, --port INTEGER Bind socket to this port. [ default: 8000 ] -c, --config TEXT Load configuration from file. [ default: None ] -u, --user <TEXT TEXT>... Administrator username/password. [ default: username password ] -r, --root-path TEXT Mapping provider URI to path '/' . [ default: None ] --dev Enter Development mode, DON ' T use it in production! --help Show this message and exit. Example python -m asgi_webdav --root-path . 2022 -02-26 16 :48:41,857 INFO: [ asgi_webdav.server ] ASGI WebDAV Server ( v0.9.1 ) starting... 2022 -02-26 16 :48:41,857 INFO: [ asgi_webdav.auth ] Register User: username, allow: [ '' ] , deny: [] 2022 -02-26 16 :48:41,857 INFO: [ asgi_webdav.web_dav ] Mapping Prefix: / = > file://. 2022 -02-26 16 :48:42,272 INFO: [ asgi_webdav.server ] ASGI WebDAV Server running on http://127.0.0.1:8000 ( Press CTRL+C to quit ) username is username , password is password , map . to http://localhost:8000","title":"Command Line Interface"},{"location":"ru/reference/cli/#command-line-interface","text":"","title":"Command Line Interface"},{"location":"ru/reference/cli/#command-line-interface-args","text":"Introduced in 0.8 Last updated in 1.0 python -m asgi_webdav --help Usage: python -m asgi_webdav [ OPTIONS ] Run ASGI WebDAV server Options: -V, --version Print version info and exit. -H, --host TEXT Bind socket to this host. [ default: 127 .0.0.1 ] -P, --port INTEGER Bind socket to this port. [ default: 8000 ] -c, --config TEXT Load configuration from file. [ default: None ] -u, --user <TEXT TEXT>... Administrator username/password. [ default: username password ] -r, --root-path TEXT Mapping provider URI to path '/' . [ default: None ] --dev Enter Development mode, DON ' T use it in production! --help Show this message and exit.","title":"Command Line Interface Args"},{"location":"ru/reference/cli/#example","text":"python -m asgi_webdav --root-path . 2022 -02-26 16 :48:41,857 INFO: [ asgi_webdav.server ] ASGI WebDAV Server ( v0.9.1 ) starting... 2022 -02-26 16 :48:41,857 INFO: [ asgi_webdav.auth ] Register User: username, allow: [ '' ] , deny: [] 2022 -02-26 16 :48:41,857 INFO: [ asgi_webdav.web_dav ] Mapping Prefix: / = > file://. 2022 -02-26 16 :48:42,272 INFO: [ asgi_webdav.server ] ASGI WebDAV Server running on http://127.0.0.1:8000 ( Press CTRL+C to quit ) username is username , password is password , map . to http://localhost:8000","title":"Example"},{"location":"ru/reference/config-file/","text":"Config File webdav.json file When the file does not exist When the file /data/webdav.json does not exist, http://127.0.0.1/ will map to the /data directory. logging output WARNING: load config value from file[/data/webdav.json] failed, [Errno 2] No such file or directory: '/data/webdav.json' INFO: [asgi_webdav.webdav] ASGI WebDAV(v0.3.1) starting... INFO: [asgi_webdav.distributor] Mapping Prefix: / => file:///data INFO: [asgi_webdav.auth] Register Account: username, allow:[''], deny:[] INFO: [uvicorn] Started server process [7] INFO: [uvicorn] Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit) When the file exists When the file exists, the mapping relationship is defined by the file content. Sample { \"account_mapping\" : [ { \"username\" : \"username\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"litmus\" , \"password\" : \"password\" , \"permissions\" : [ \"+^/$\" , \"+^/litmus\" , \"-^/litmus/other\" ] }, { \"username\" : \"guest\" , \"password\" : \"password\" , \"permissions\" : [] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/litmus\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/litmus/fs\" , \"uri\" : \"file:///data/litmus\" }, { \"prefix\" : \"/litmus/memory\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/litmus/other\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/~\" , \"uri\" : \"file:///data/home\" , \"home_dir\" : true } ], \"logging_level\" : \"INFO\" } logging output INFO: [asgi_webdav.webdav] ASGI WebDAV(v0.3.1) starting... INFO: [asgi_webdav.distributor] Mapping Prefix: / => file:///data/root INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus => memory:/// INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus/fs => file:///data/litmus INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus/memory => memory:/// INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus/other => memory:/// INFO: [asgi_webdav.distributor] Mapping Prefix: /~ => file:///data/home/{user name} INFO: [asgi_webdav.auth] Register Account: username, allow:[''], deny:[] INFO: [asgi_webdav.auth] Register Account: litmus, allow:['^/$', '^/litmus'], deny:['^/litmus/other'] INFO: [asgi_webdav.auth] Register Account: guest, allow:[], deny:[] INFO: [uvicorn] Started server process [9] INFO: [uvicorn] Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit) Config Object root object Introduced in 0.1 Last updated in 1.1 Key Use For Value Type Default Value account_mapping auth list[User] [] http_digest_auth auth HTTPDigestAuth HTTPDigestAuth() provider_mapping mapping list[Provider] [] hide_file_in_dir rules HideFileInDir HideFileInDir() guess_type_extension rules GuessTypeExtension GuessTypeExtension() text_file_charset_detect rules TextFileCharsetDetect TextFileCharsetDetect() compression response Compression Compression() cors response CORS CORS() logging_level other str \"INFO\" Example { \"account_mapping\": [...], \"http_digest_auth\": {...}, \"provider_mapping\": [...], \"hide_file_in_dir\": {...}, \"guess_type_extension\": {...}, \"text_file_charset_detect\": {...}, \"compression\": {...}, \"cors\": {...}, \"logging_level\": \"INFO\" } for Authentication User Object Introduced in 0.3.1 Last updated in 0.7.0 Key Value Type Default Value username str - password str - permissions list[str] [] admin bool false When the value of admin is true , the user can access the web page /_/admin/xxx Permissions Format/Example Introduced in 0.3.1 Last updated in 0.3.1 Value Allow Deny [\"+\"] Any - [\"-\"] - Any [\"+^/$\"] / /path [\"+^/path\"] /path , /path/sub /other [\"+^/path\", \"-^/path/sub2\"] /path , /path/sub1 /path/sub2 HTTPDigestAuth Object Introduced in 0.7.0 Last updated in 0.9.0 Key Value Type Default Value enable bool false enable_rule str `` disable_rule str neon/ When enable is true , the disable_rule is valid When enable is false , the enable_rule is valid for URL Mapping Provider Object Introduced in 0.1 Last updated in 0.3.1 Key Value Type Default Value prefix str - uri str - home_dir bool false Home Directory When home_dir is true , it is the home directory. The prefix recommends using /~ or /home . When home_dir is true and prefix is /~ and uri is file:///data/homes and username is user_x ; http://webdav.host/~/path will map to file:///data/homes/user_x/path . for Rules Process HideFileInDir Object Introduced in 1.0 Last updated in 1.0 Key Value Type Default Value Example enable bool true - enable_default_rules bool true - user_rules dict {} like default GuessTypeExtension Object Introduced in 0.4 Last updated in 0.4 Key Value Type Default Value Example enable bool true - enable_default_mapping bool true - filename_mapping dict[str, str] {} {\"README\": \"text/plain\"} suffix_mapping dict[str, str] {} {\".md\": \"text/plain\"} TextFileCharsetDetect Object Introduced in 0.5 Last updated in 0.5 Key Value Type Default Value enable bool false default str \"utf-8\" for Response Compression Object Introduced in 0.5 Last updated in 1.2 Key Value Type Default Value Example enable_gzip bool true - enable_brotli bool true - level DAVCompressLevel \"recommend\" \"best\" content_type_user_rule str \"\" \"^application/xml$|^text/\" CompressLevel Object Introduced in 0.5 Last updated in 0.5 DAVCompressLevel Gzip Level Brotli Level fast 1 1 recommend 4 4 best 9 11 CORS Object Introduced in 1.1 Last updated in 1.1 Key Value Type Default Value Example enable bool false - allow_url_regex str None ^/cors/path allow_origins list[str] [] [\"*\"] or [\"https://example.com\",\"http://localhost\"] allow_origin_regex str None ^https://.*\\.example\\.com$ allow_methods list[str] [\"GET\"] - allow_headers list[str] [] [\"*\"] or [\"I-Am-Example-Header,\"Me-Too\"] allow_credentials bool false - expose_headers list[str] [] - preflight_max_age int 600 -","title":"Config File"},{"location":"ru/reference/config-file/#config-file","text":"","title":"Config File"},{"location":"ru/reference/config-file/#webdavjson-file","text":"","title":"webdav.json file"},{"location":"ru/reference/config-file/#when-the-file-does-not-exist","text":"When the file /data/webdav.json does not exist, http://127.0.0.1/ will map to the /data directory.","title":"When the file does not exist"},{"location":"ru/reference/config-file/#logging-output","text":"WARNING: load config value from file[/data/webdav.json] failed, [Errno 2] No such file or directory: '/data/webdav.json' INFO: [asgi_webdav.webdav] ASGI WebDAV(v0.3.1) starting... INFO: [asgi_webdav.distributor] Mapping Prefix: / => file:///data INFO: [asgi_webdav.auth] Register Account: username, allow:[''], deny:[] INFO: [uvicorn] Started server process [7] INFO: [uvicorn] Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit)","title":"logging output"},{"location":"ru/reference/config-file/#when-the-file-exists","text":"When the file exists, the mapping relationship is defined by the file content.","title":"When the file exists"},{"location":"ru/reference/config-file/#sample","text":"{ \"account_mapping\" : [ { \"username\" : \"username\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"litmus\" , \"password\" : \"password\" , \"permissions\" : [ \"+^/$\" , \"+^/litmus\" , \"-^/litmus/other\" ] }, { \"username\" : \"guest\" , \"password\" : \"password\" , \"permissions\" : [] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/litmus\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/litmus/fs\" , \"uri\" : \"file:///data/litmus\" }, { \"prefix\" : \"/litmus/memory\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/litmus/other\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/~\" , \"uri\" : \"file:///data/home\" , \"home_dir\" : true } ], \"logging_level\" : \"INFO\" }","title":"Sample"},{"location":"ru/reference/config-file/#logging-output_1","text":"INFO: [asgi_webdav.webdav] ASGI WebDAV(v0.3.1) starting... INFO: [asgi_webdav.distributor] Mapping Prefix: / => file:///data/root INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus => memory:/// INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus/fs => file:///data/litmus INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus/memory => memory:/// INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus/other => memory:/// INFO: [asgi_webdav.distributor] Mapping Prefix: /~ => file:///data/home/{user name} INFO: [asgi_webdav.auth] Register Account: username, allow:[''], deny:[] INFO: [asgi_webdav.auth] Register Account: litmus, allow:['^/$', '^/litmus'], deny:['^/litmus/other'] INFO: [asgi_webdav.auth] Register Account: guest, allow:[], deny:[] INFO: [uvicorn] Started server process [9] INFO: [uvicorn] Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit)","title":"logging output"},{"location":"ru/reference/config-file/#config-object","text":"root object Introduced in 0.1 Last updated in 1.1 Key Use For Value Type Default Value account_mapping auth list[User] [] http_digest_auth auth HTTPDigestAuth HTTPDigestAuth() provider_mapping mapping list[Provider] [] hide_file_in_dir rules HideFileInDir HideFileInDir() guess_type_extension rules GuessTypeExtension GuessTypeExtension() text_file_charset_detect rules TextFileCharsetDetect TextFileCharsetDetect() compression response Compression Compression() cors response CORS CORS() logging_level other str \"INFO\" Example { \"account_mapping\": [...], \"http_digest_auth\": {...}, \"provider_mapping\": [...], \"hide_file_in_dir\": {...}, \"guess_type_extension\": {...}, \"text_file_charset_detect\": {...}, \"compression\": {...}, \"cors\": {...}, \"logging_level\": \"INFO\" }","title":"Config Object"},{"location":"ru/reference/config-file/#for-authentication","text":"","title":"for Authentication"},{"location":"ru/reference/config-file/#user-object","text":"Introduced in 0.3.1 Last updated in 0.7.0 Key Value Type Default Value username str - password str - permissions list[str] [] admin bool false When the value of admin is true , the user can access the web page /_/admin/xxx","title":"User Object"},{"location":"ru/reference/config-file/#permissions-formatexample","text":"Introduced in 0.3.1 Last updated in 0.3.1 Value Allow Deny [\"+\"] Any - [\"-\"] - Any [\"+^/$\"] / /path [\"+^/path\"] /path , /path/sub /other [\"+^/path\", \"-^/path/sub2\"] /path , /path/sub1 /path/sub2","title":"Permissions Format/Example"},{"location":"ru/reference/config-file/#httpdigestauth-object","text":"Introduced in 0.7.0 Last updated in 0.9.0 Key Value Type Default Value enable bool false enable_rule str `` disable_rule str neon/ When enable is true , the disable_rule is valid When enable is false , the enable_rule is valid","title":"HTTPDigestAuth Object"},{"location":"ru/reference/config-file/#for-url-mapping","text":"","title":"for URL Mapping"},{"location":"ru/reference/config-file/#provider-object","text":"Introduced in 0.1 Last updated in 0.3.1 Key Value Type Default Value prefix str - uri str - home_dir bool false","title":"Provider Object"},{"location":"ru/reference/config-file/#home-directory","text":"When home_dir is true , it is the home directory. The prefix recommends using /~ or /home . When home_dir is true and prefix is /~ and uri is file:///data/homes and username is user_x ; http://webdav.host/~/path will map to file:///data/homes/user_x/path .","title":"Home Directory"},{"location":"ru/reference/config-file/#for-rules-process","text":"","title":"for Rules Process"},{"location":"ru/reference/config-file/#hidefileindir-object","text":"Introduced in 1.0 Last updated in 1.0 Key Value Type Default Value Example enable bool true - enable_default_rules bool true - user_rules dict {} like default","title":"HideFileInDir Object"},{"location":"ru/reference/config-file/#guesstypeextension-object","text":"Introduced in 0.4 Last updated in 0.4 Key Value Type Default Value Example enable bool true - enable_default_mapping bool true - filename_mapping dict[str, str] {} {\"README\": \"text/plain\"} suffix_mapping dict[str, str] {} {\".md\": \"text/plain\"}","title":"GuessTypeExtension Object"},{"location":"ru/reference/config-file/#textfilecharsetdetect-object","text":"Introduced in 0.5 Last updated in 0.5 Key Value Type Default Value enable bool false default str \"utf-8\"","title":"TextFileCharsetDetect Object"},{"location":"ru/reference/config-file/#for-response","text":"","title":"for Response"},{"location":"ru/reference/config-file/#compression-object","text":"Introduced in 0.5 Last updated in 1.2 Key Value Type Default Value Example enable_gzip bool true - enable_brotli bool true - level DAVCompressLevel \"recommend\" \"best\" content_type_user_rule str \"\" \"^application/xml$|^text/\"","title":"Compression Object"},{"location":"ru/reference/config-file/#compresslevel-object","text":"Introduced in 0.5 Last updated in 0.5 DAVCompressLevel Gzip Level Brotli Level fast 1 1 recommend 4 4 best 9 11","title":"CompressLevel Object"},{"location":"ru/reference/config-file/#cors-object","text":"Introduced in 1.1 Last updated in 1.1 Key Value Type Default Value Example enable bool false - allow_url_regex str None ^/cors/path allow_origins list[str] [] [\"*\"] or [\"https://example.com\",\"http://localhost\"] allow_origin_regex str None ^https://.*\\.example\\.com$ allow_methods list[str] [\"GET\"] - allow_headers list[str] [] [\"*\"] or [\"I-Am-Example-Header,\"Me-Too\"] allow_credentials bool false - expose_headers list[str] [] - preflight_max_age int 600 -","title":"CORS Object"},{"location":"ru/reference/config/","text":"Configuration Config Value Priority Command Line Interface Args > Environment Variable > Configuration File > Default Value","title":"Configuration"},{"location":"ru/reference/config/#configuration","text":"","title":"Configuration"},{"location":"ru/reference/config/#config-value-priority","text":"Command Line Interface Args > Environment Variable > Configuration File > Default Value","title":"Config Value Priority"},{"location":"ru/reference/env-value/","text":"Environment Variables Name Default Value Config Object WEBDAV_LOGGING_LEVEL INFO Config.logging_level WEBDAV_USERNAME username Config.account_mapping WEBDAV_PASSWORD password Config.account_mapping","title":"Environment Variables"},{"location":"ru/reference/env-value/#environment-variables","text":"Name Default Value Config Object WEBDAV_LOGGING_LEVEL INFO Config.logging_level WEBDAV_USERNAME username Config.account_mapping WEBDAV_PASSWORD password Config.account_mapping","title":"Environment Variables"},{"location":"ru/reference/misc/","text":"Miscellaneous DAVProvider DAVProvider URI FileProvider file:///your/path data is stored in the file system MemoryProvider memory:/// data is stored in the memory Web dir browser Default enabled","title":"Miscellaneous"},{"location":"ru/reference/misc/#miscellaneous","text":"","title":"Miscellaneous"},{"location":"ru/reference/misc/#davprovider","text":"DAVProvider URI FileProvider file:///your/path data is stored in the file system MemoryProvider memory:/// data is stored in the memory","title":"DAVProvider"},{"location":"ru/reference/misc/#web-dir-browser","text":"Default enabled","title":"Web dir browser"},{"location":"zh/changelog/","text":"Changelog 1.2.0 - ? Broken change Change Config.compression.user_content_type_rule to Config.compression.content_type_user_rule Add more support for HTTP header: Range Fix HTTP Digest rules checker Add a new property DAVResponse.content_type_user_rule 1.1.0 - 2022-06-05 Add new feature: CORS Reduce Docker image size 1.0.0 - 2022-03-09 Broken change Remove feature: DirBrowserIgnore Change docker base image from slim -> alpine, Add non-root support in docker container Add new feature: hide file in directory Add hashlib mode for stored password Add HTTP Digest mode for stored password Add LDAP mode for stored password 0.9.1 - 2021-08-02 Fix bug 0.9.0 - 2021-08-02 Add Config.http_digest_auth.enable_rule 0.8.1 - 2021-07-30 Fix Dockerfile 0.8.0 - 2021-07-30 Real client ip address CLI support Release Windows/macOS package 0.7.0 - 2021-07-03 Add logging page: /_/admin/logging Disable Digest auth in default Support header Accept-Ranges/Range/Content-Range (Incomplete implementation) Fix bug: can't access home dir when it can't access share dir 0.6.1 - 2021-06-23 Compatible with Window10 Explorer(Microsoft-WebDAV-MiniRedir/10.0.19043) 0.6.0 - 2021-06-22 Support HTTP Digest authentication Code optimization 0.5.0 - 2021-05-14 Text file charset detect Support gzip/brotli in response Fix bug: Content-Encoding 0.4.0 - 2021-05-10 Support ignore rules in web dir browser Configurable guess_type() 0.3.1 - 2021-05-06 Broken change: Config.username/password => Config.account_mapping Environment Variable Name Add multi-account support Add permission support Add home_dir support 0.2.1 - 2021-04-27 Add web dir browser 0.1.1 - 2021-03-26 Fix bug 0.1.0 - 2021-03-25 first release","title":"Changelog"},{"location":"zh/changelog/#changelog","text":"","title":"Changelog"},{"location":"zh/changelog/#120-","text":"Broken change Change Config.compression.user_content_type_rule to Config.compression.content_type_user_rule Add more support for HTTP header: Range Fix HTTP Digest rules checker Add a new property DAVResponse.content_type_user_rule","title":"1.2.0 - ?"},{"location":"zh/changelog/#110-2022-06-05","text":"Add new feature: CORS Reduce Docker image size","title":"1.1.0 - 2022-06-05"},{"location":"zh/changelog/#100-2022-03-09","text":"Broken change Remove feature: DirBrowserIgnore Change docker base image from slim -> alpine, Add non-root support in docker container Add new feature: hide file in directory Add hashlib mode for stored password Add HTTP Digest mode for stored password Add LDAP mode for stored password","title":"1.0.0 - 2022-03-09"},{"location":"zh/changelog/#091-2021-08-02","text":"Fix bug","title":"0.9.1 - 2021-08-02"},{"location":"zh/changelog/#090-2021-08-02","text":"Add Config.http_digest_auth.enable_rule","title":"0.9.0 - 2021-08-02"},{"location":"zh/changelog/#081-2021-07-30","text":"Fix Dockerfile","title":"0.8.1 - 2021-07-30"},{"location":"zh/changelog/#080-2021-07-30","text":"Real client ip address CLI support Release Windows/macOS package","title":"0.8.0 - 2021-07-30"},{"location":"zh/changelog/#070-2021-07-03","text":"Add logging page: /_/admin/logging Disable Digest auth in default Support header Accept-Ranges/Range/Content-Range (Incomplete implementation) Fix bug: can't access home dir when it can't access share dir","title":"0.7.0 - 2021-07-03"},{"location":"zh/changelog/#061-2021-06-23","text":"Compatible with Window10 Explorer(Microsoft-WebDAV-MiniRedir/10.0.19043)","title":"0.6.1 - 2021-06-23"},{"location":"zh/changelog/#060-2021-06-22","text":"Support HTTP Digest authentication Code optimization","title":"0.6.0 - 2021-06-22"},{"location":"zh/changelog/#050-2021-05-14","text":"Text file charset detect Support gzip/brotli in response Fix bug: Content-Encoding","title":"0.5.0 - 2021-05-14"},{"location":"zh/changelog/#040-2021-05-10","text":"Support ignore rules in web dir browser Configurable guess_type()","title":"0.4.0 - 2021-05-10"},{"location":"zh/changelog/#031-2021-05-06","text":"Broken change: Config.username/password => Config.account_mapping Environment Variable Name Add multi-account support Add permission support Add home_dir support","title":"0.3.1 - 2021-05-06"},{"location":"zh/changelog/#021-2021-04-27","text":"Add web dir browser","title":"0.2.1 - 2021-04-27"},{"location":"zh/changelog/#011-2021-03-26","text":"Fix bug","title":"0.1.1 - 2021-03-26"},{"location":"zh/changelog/#010-2021-03-25","text":"first release","title":"0.1.0 - 2021-03-25"},{"location":"zh/compatibility/","text":"Compatibility Compatible Clients Client First tested version Remarks Firefox/Chrome/Safari 0.1.0 - macOS finder(WebDAVFS/3.0.0) 0.1.0 - Window10 Explorer(Microsoft-WebDAV-MiniRedir/10.0.19043) 0.6.1 Basic auth only support HTTPS, HTTP please enable Digest Joplin(Joplin/1.0) 0.1.0 - OmniFocus(OmniFocus-Mac/149.14.0/v3.11.7) 0.1.0 - WinSCP(WinSCP/5.19.1 neon/0.31.2) 0.7.0 Only support Basic auth Compatibility Test Results Test in litmus(0.13) , Agent name is litmus/0.13 neon/0.31.2 Version string: neon 0.30.2: Library build, IPv6, libxml 2.9.4, zlib 1.2.11, GNU TLS 3.6.6. python3 -m asgi_webdav --litmus litmus http://192.168.200.198:8000/provider/fs username password # or litmus http://192.168.200.198:8000/provider/memory username password ASGI WebDAV Version: 0.3.1 -> running `basic': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. put_get............... pass 4. put_get_utf8_segment.. pass 5. put_no_parent......... pass 6. mkcol_over_plain...... pass 7. delete................ pass 8. delete_null........... pass 9. delete_fragment....... pass 10. mkcol................. pass 11. mkcol_again........... pass 12. delete_coll........... pass 13. mkcol_no_parent....... pass 14. mkcol_with_body....... pass 15. finish................ pass <- summary for `basic': of 16 tests run: 16 passed, 0 failed. 100.0% -> running `copymove': 0. init.................. pass 1. begin................. pass 2. copy_init............. pass 3. copy_simple........... pass 4. copy_overwrite........ pass 5. copy_nodestcoll....... pass 6. copy_cleanup.......... pass 7. copy_coll............. pass 8. copy_shallow.......... pass 9. move.................. pass 10. move_coll............. pass 11. move_cleanup.......... pass 12. finish................ pass <- summary for `copymove': of 13 tests run: 13 passed, 0 failed. 100.0% -> running `props': 0. init.................. pass 1. begin................. pass 2. propfind_invalid...... pass 3. propfind_invalid2..... pass 4. propfind_d0........... pass 5. propinit.............. pass 6. propset............... pass 7. propget............... pass 8. propextended.......... pass 9. propmove.............. pass 10. propget............... pass 11. propdeletes........... pass 12. propget............... pass 13. propreplace........... pass 14. propget............... pass 15. propnullns............ pass 16. propget............... pass 17. prophighunicode....... pass 18. propget............... pass 19. propremoveset......... pass 20. propget............... pass 21. propsetremove......... pass 22. propget............... pass 23. propvalnspace......... pass 24. propwformed........... pass 25. propinit.............. pass 26. propmanyns............ pass 27. propget............... pass 28. propcleanup........... pass 29. finish................ pass <- summary for `props': of 30 tests run: 30 passed, 0 failed. 100.0% -> running `locks': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. precond............... pass 4. init_locks............ pass 5. put................... pass 6. lock_excl............. pass 7. discover.............. pass 8. refresh............... pass 9. notowner_modify....... pass 10. notowner_lock......... pass 11. owner_modify.......... pass 12. notowner_modify....... pass 13. notowner_lock......... pass 14. copy.................. pass 15. cond_put.............. pass 16. fail_cond_put......... pass 17. cond_put_with_not..... pass 18. cond_put_corrupt_token WARNING: PUT failed with 412 not 423 ...................... pass (with 1 warning) 19. complex_cond_put...... pass 20. fail_complex_cond_put. pass 21. unlock................ pass 22. fail_cond_put_unlocked pass 23. lock_shared........... pass 24. notowner_modify....... pass 25. notowner_lock......... pass 26. owner_modify.......... pass 27. double_sharedlock..... pass 28. notowner_modify....... pass 29. notowner_lock......... pass 30. unlock................ pass 31. prep_collection....... pass 32. lock_collection....... pass 33. owner_modify.......... pass 34. notowner_modify....... pass 35. refresh............... pass 36. indirect_refresh...... pass 37. unlock................ pass 38. unmapped_lock......... WARNING: LOCK on unmapped url returned 200 not 201 (RFC4918:S7.3) ...................... pass (with 1 warning) 39. unlock................ pass 40. finish................ pass <- summary for `locks': of 41 tests run: 41 passed, 0 failed. 100.0% -> 2 warnings were issued. -> running `http': 0. init.................. pass 1. begin................. pass 2. expect100............. pass 3. finish................ pass <- summary for `http': of 4 tests run: 4 passed, 0 failed. 100.0% Apache mod_webdav in Docker From: bytemark/webdav Version: 2.4 Digest: c124350447bb Build Time: 2018-12-14 docker pull bytemark/webdav docker run --restart always \\ -e AUTH_TYPE = Digest -e USERNAME = username -e PASSWORD = password \\ --publish 8000 :80 -d bytemark/webdav -> running `basic': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. put_get............... pass 4. put_get_utf8_segment.. pass 5. put_no_parent......... pass 6. mkcol_over_plain...... pass 7. delete................ pass 8. delete_null........... pass 9. delete_fragment....... pass 10. mkcol................. pass 11. mkcol_again........... pass 12. delete_coll........... pass 13. mkcol_no_parent....... pass 14. mkcol_with_body....... pass 15. finish................ pass <- summary for `basic': of 16 tests run: 16 passed, 0 failed. 100.0% -> running `copymove': 0. init.................. pass 1. begin................. pass 2. copy_init............. pass 3. copy_simple........... pass 4. copy_overwrite........ pass 5. copy_nodestcoll....... pass 6. copy_cleanup.......... pass 7. copy_coll............. pass 8. copy_shallow.......... pass 9. move.................. pass 10. move_coll............. pass 11. move_cleanup.......... pass 12. finish................ pass <- summary for `copymove': of 13 tests run: 13 passed, 0 failed. 100.0% -> running `props': 0. init.................. pass 1. begin................. pass 2. propfind_invalid...... pass 3. propfind_invalid2..... pass 4. propfind_d0........... pass 5. propinit.............. pass 6. propset............... pass 7. propget............... pass 8. propextended.......... pass 9. propmove.............. pass 10. propget............... pass 11. propdeletes........... pass 12. propget............... pass 13. propreplace........... pass 14. propget............... pass 15. propnullns............ pass 16. propget............... pass 17. prophighunicode....... pass 18. propget............... pass 19. propremoveset......... pass 20. propget............... pass 21. propsetremove......... pass 22. propget............... pass 23. propvalnspace......... pass 24. propwformed........... pass 25. propinit.............. pass 26. propmanyns............ pass 27. propget............... pass 28. propcleanup........... pass 29. finish................ pass <- summary for `props': of 30 tests run: 30 passed, 0 failed. 100.0% -> running `locks': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. precond............... pass 4. init_locks............ pass 5. put................... pass 6. lock_excl............. pass 7. discover.............. pass 8. refresh............... pass 9. notowner_modify....... pass 10. notowner_lock......... pass 11. owner_modify.......... pass 12. notowner_modify....... pass 13. notowner_lock......... pass 14. copy.................. pass 15. cond_put.............. pass 16. fail_cond_put......... pass 17. cond_put_with_not..... pass 18. cond_put_corrupt_token WARNING: PUT failed with 400 not 423 ...................... pass (with 1 warning) 19. complex_cond_put...... pass 20. fail_complex_cond_put. pass 21. unlock................ pass 22. fail_cond_put_unlocked pass 23. lock_shared........... pass 24. notowner_modify....... pass 25. notowner_lock......... pass 26. owner_modify.......... pass 27. double_sharedlock..... pass 28. notowner_modify....... pass 29. notowner_lock......... pass 30. unlock................ pass 31. prep_collection....... pass 32. lock_collection....... pass 33. owner_modify.......... pass 34. notowner_modify....... pass 35. refresh............... pass 36. indirect_refresh...... pass 37. unlock................ pass 38. unmapped_lock......... WARNING: LOCK on unmapped url returned 200 not 201 (RFC4918:S7.3) ...................... pass (with 1 warning) 39. unlock................ pass 40. finish................ pass <- summary for `locks': of 41 tests run: 41 passed, 0 failed. 100.0% -> 2 warnings were issued. -> running `http': 0. init.................. pass 1. begin................. pass 2. expect100............. pass 3. finish................ pass <- summary for `http': of 4 tests run: 4 passed, 0 failed. 100.0% Nginx in Docker From: ugeek/webdav Digest: b5e54f00265e Build Time: 2021-02-09 docker pull ugeek/webdav:latest docker run --name webdav \\ --restart = unless-stopped \\ -p 8000 :80 \\ -e USERNAME = username \\ -e PASSWORD = password \\ -e TZ = Europe/Madrid \\ -e UDI = 1000 \\ -e GID = 1000 \\ -d ugeek/webdav:amd64 -> running `basic': 0. init.................. pass 1. begin................. pass 2. options............... WARNING: server does not claim Class 2 compliance ...................... pass (with 1 warning) 3. put_get............... pass 4. put_get_utf8_segment.. pass 5. put_no_parent......... pass 6. mkcol_over_plain...... pass 7. delete................ pass 8. delete_null........... pass 9. delete_fragment....... WARNING: DELETE removed collection resource with Request-URI including fragment; unsafe ...................... pass (with 1 warning) 10. mkcol................. pass 11. mkcol_again........... pass 12. delete_coll........... pass 13. mkcol_no_parent....... pass 14. mkcol_with_body....... pass 15. finish................ pass <- summary for `basic': of 16 tests run: 16 passed, 0 failed. 100.0% -> 2 warnings were issued. -> running `copymove': 0. init.................. pass 1. begin................. pass 2. copy_init............. pass 3. copy_simple........... WARNING: COPY to new resource should give 201 (RFC2518:S8.8.5) ...................... pass (with 1 warning) 4. copy_overwrite........ FAIL (COPY overwrites collection: 409 Conflict) 5. copy_nodestcoll....... WARNING: COPY to non-existant collection '/litmus/nonesuch' gave '500 Internal Server Error' not 409 (RFC2518:S8.8.5) ...................... pass (with 1 warning) 6. copy_cleanup.......... pass 7. copy_coll............. pass 8. copy_shallow.......... pass 9. move.................. WARNING: MOVE to new resource didn't give 201 ...................... FAIL (MOVE overwrites collection `/litmus/movecoll/' to `/litmus/movedest': 409 Conflict) 10. move_coll............. FAIL (MOVE collection `/litmus/mvdest2/' over non-collection `/litmus/mvnoncoll' with overwrite: 409 Conflict) 11. move_cleanup.......... pass 12. finish................ pass <- summary for `copymove': of 13 tests run: 10 passed, 3 failed. 76.9% -> 3 warnings were issued. See debug.log for network/debug traces. Summary basic copymove props locks http ASGI WebDAV pass pass pass 2 warnings pass Apache mod_webdav in docker pass pass pass 2 warnings pass Nginx in Docker 2 warnings 3 warnings skip skip skip","title":"Compatibility"},{"location":"zh/compatibility/#compatibility","text":"","title":"Compatibility"},{"location":"zh/compatibility/#compatible-clients","text":"Client First tested version Remarks Firefox/Chrome/Safari 0.1.0 - macOS finder(WebDAVFS/3.0.0) 0.1.0 - Window10 Explorer(Microsoft-WebDAV-MiniRedir/10.0.19043) 0.6.1 Basic auth only support HTTPS, HTTP please enable Digest Joplin(Joplin/1.0) 0.1.0 - OmniFocus(OmniFocus-Mac/149.14.0/v3.11.7) 0.1.0 - WinSCP(WinSCP/5.19.1 neon/0.31.2) 0.7.0 Only support Basic auth","title":"Compatible Clients"},{"location":"zh/compatibility/#compatibility-test-results","text":"Test in litmus(0.13) , Agent name is litmus/0.13 neon/0.31.2 Version string: neon 0.30.2: Library build, IPv6, libxml 2.9.4, zlib 1.2.11, GNU TLS 3.6.6. python3 -m asgi_webdav --litmus litmus http://192.168.200.198:8000/provider/fs username password # or litmus http://192.168.200.198:8000/provider/memory username password","title":"Compatibility Test Results"},{"location":"zh/compatibility/#asgi-webdav","text":"Version: 0.3.1 -> running `basic': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. put_get............... pass 4. put_get_utf8_segment.. pass 5. put_no_parent......... pass 6. mkcol_over_plain...... pass 7. delete................ pass 8. delete_null........... pass 9. delete_fragment....... pass 10. mkcol................. pass 11. mkcol_again........... pass 12. delete_coll........... pass 13. mkcol_no_parent....... pass 14. mkcol_with_body....... pass 15. finish................ pass <- summary for `basic': of 16 tests run: 16 passed, 0 failed. 100.0% -> running `copymove': 0. init.................. pass 1. begin................. pass 2. copy_init............. pass 3. copy_simple........... pass 4. copy_overwrite........ pass 5. copy_nodestcoll....... pass 6. copy_cleanup.......... pass 7. copy_coll............. pass 8. copy_shallow.......... pass 9. move.................. pass 10. move_coll............. pass 11. move_cleanup.......... pass 12. finish................ pass <- summary for `copymove': of 13 tests run: 13 passed, 0 failed. 100.0% -> running `props': 0. init.................. pass 1. begin................. pass 2. propfind_invalid...... pass 3. propfind_invalid2..... pass 4. propfind_d0........... pass 5. propinit.............. pass 6. propset............... pass 7. propget............... pass 8. propextended.......... pass 9. propmove.............. pass 10. propget............... pass 11. propdeletes........... pass 12. propget............... pass 13. propreplace........... pass 14. propget............... pass 15. propnullns............ pass 16. propget............... pass 17. prophighunicode....... pass 18. propget............... pass 19. propremoveset......... pass 20. propget............... pass 21. propsetremove......... pass 22. propget............... pass 23. propvalnspace......... pass 24. propwformed........... pass 25. propinit.............. pass 26. propmanyns............ pass 27. propget............... pass 28. propcleanup........... pass 29. finish................ pass <- summary for `props': of 30 tests run: 30 passed, 0 failed. 100.0% -> running `locks': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. precond............... pass 4. init_locks............ pass 5. put................... pass 6. lock_excl............. pass 7. discover.............. pass 8. refresh............... pass 9. notowner_modify....... pass 10. notowner_lock......... pass 11. owner_modify.......... pass 12. notowner_modify....... pass 13. notowner_lock......... pass 14. copy.................. pass 15. cond_put.............. pass 16. fail_cond_put......... pass 17. cond_put_with_not..... pass 18. cond_put_corrupt_token WARNING: PUT failed with 412 not 423 ...................... pass (with 1 warning) 19. complex_cond_put...... pass 20. fail_complex_cond_put. pass 21. unlock................ pass 22. fail_cond_put_unlocked pass 23. lock_shared........... pass 24. notowner_modify....... pass 25. notowner_lock......... pass 26. owner_modify.......... pass 27. double_sharedlock..... pass 28. notowner_modify....... pass 29. notowner_lock......... pass 30. unlock................ pass 31. prep_collection....... pass 32. lock_collection....... pass 33. owner_modify.......... pass 34. notowner_modify....... pass 35. refresh............... pass 36. indirect_refresh...... pass 37. unlock................ pass 38. unmapped_lock......... WARNING: LOCK on unmapped url returned 200 not 201 (RFC4918:S7.3) ...................... pass (with 1 warning) 39. unlock................ pass 40. finish................ pass <- summary for `locks': of 41 tests run: 41 passed, 0 failed. 100.0% -> 2 warnings were issued. -> running `http': 0. init.................. pass 1. begin................. pass 2. expect100............. pass 3. finish................ pass <- summary for `http': of 4 tests run: 4 passed, 0 failed. 100.0%","title":"ASGI WebDAV"},{"location":"zh/compatibility/#apache-mod_webdav-in-docker","text":"From: bytemark/webdav Version: 2.4 Digest: c124350447bb Build Time: 2018-12-14 docker pull bytemark/webdav docker run --restart always \\ -e AUTH_TYPE = Digest -e USERNAME = username -e PASSWORD = password \\ --publish 8000 :80 -d bytemark/webdav -> running `basic': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. put_get............... pass 4. put_get_utf8_segment.. pass 5. put_no_parent......... pass 6. mkcol_over_plain...... pass 7. delete................ pass 8. delete_null........... pass 9. delete_fragment....... pass 10. mkcol................. pass 11. mkcol_again........... pass 12. delete_coll........... pass 13. mkcol_no_parent....... pass 14. mkcol_with_body....... pass 15. finish................ pass <- summary for `basic': of 16 tests run: 16 passed, 0 failed. 100.0% -> running `copymove': 0. init.................. pass 1. begin................. pass 2. copy_init............. pass 3. copy_simple........... pass 4. copy_overwrite........ pass 5. copy_nodestcoll....... pass 6. copy_cleanup.......... pass 7. copy_coll............. pass 8. copy_shallow.......... pass 9. move.................. pass 10. move_coll............. pass 11. move_cleanup.......... pass 12. finish................ pass <- summary for `copymove': of 13 tests run: 13 passed, 0 failed. 100.0% -> running `props': 0. init.................. pass 1. begin................. pass 2. propfind_invalid...... pass 3. propfind_invalid2..... pass 4. propfind_d0........... pass 5. propinit.............. pass 6. propset............... pass 7. propget............... pass 8. propextended.......... pass 9. propmove.............. pass 10. propget............... pass 11. propdeletes........... pass 12. propget............... pass 13. propreplace........... pass 14. propget............... pass 15. propnullns............ pass 16. propget............... pass 17. prophighunicode....... pass 18. propget............... pass 19. propremoveset......... pass 20. propget............... pass 21. propsetremove......... pass 22. propget............... pass 23. propvalnspace......... pass 24. propwformed........... pass 25. propinit.............. pass 26. propmanyns............ pass 27. propget............... pass 28. propcleanup........... pass 29. finish................ pass <- summary for `props': of 30 tests run: 30 passed, 0 failed. 100.0% -> running `locks': 0. init.................. pass 1. begin................. pass 2. options............... pass 3. precond............... pass 4. init_locks............ pass 5. put................... pass 6. lock_excl............. pass 7. discover.............. pass 8. refresh............... pass 9. notowner_modify....... pass 10. notowner_lock......... pass 11. owner_modify.......... pass 12. notowner_modify....... pass 13. notowner_lock......... pass 14. copy.................. pass 15. cond_put.............. pass 16. fail_cond_put......... pass 17. cond_put_with_not..... pass 18. cond_put_corrupt_token WARNING: PUT failed with 400 not 423 ...................... pass (with 1 warning) 19. complex_cond_put...... pass 20. fail_complex_cond_put. pass 21. unlock................ pass 22. fail_cond_put_unlocked pass 23. lock_shared........... pass 24. notowner_modify....... pass 25. notowner_lock......... pass 26. owner_modify.......... pass 27. double_sharedlock..... pass 28. notowner_modify....... pass 29. notowner_lock......... pass 30. unlock................ pass 31. prep_collection....... pass 32. lock_collection....... pass 33. owner_modify.......... pass 34. notowner_modify....... pass 35. refresh............... pass 36. indirect_refresh...... pass 37. unlock................ pass 38. unmapped_lock......... WARNING: LOCK on unmapped url returned 200 not 201 (RFC4918:S7.3) ...................... pass (with 1 warning) 39. unlock................ pass 40. finish................ pass <- summary for `locks': of 41 tests run: 41 passed, 0 failed. 100.0% -> 2 warnings were issued. -> running `http': 0. init.................. pass 1. begin................. pass 2. expect100............. pass 3. finish................ pass <- summary for `http': of 4 tests run: 4 passed, 0 failed. 100.0%","title":"Apache mod_webdav in Docker"},{"location":"zh/compatibility/#nginx-in-docker","text":"From: ugeek/webdav Digest: b5e54f00265e Build Time: 2021-02-09 docker pull ugeek/webdav:latest docker run --name webdav \\ --restart = unless-stopped \\ -p 8000 :80 \\ -e USERNAME = username \\ -e PASSWORD = password \\ -e TZ = Europe/Madrid \\ -e UDI = 1000 \\ -e GID = 1000 \\ -d ugeek/webdav:amd64 -> running `basic': 0. init.................. pass 1. begin................. pass 2. options............... WARNING: server does not claim Class 2 compliance ...................... pass (with 1 warning) 3. put_get............... pass 4. put_get_utf8_segment.. pass 5. put_no_parent......... pass 6. mkcol_over_plain...... pass 7. delete................ pass 8. delete_null........... pass 9. delete_fragment....... WARNING: DELETE removed collection resource with Request-URI including fragment; unsafe ...................... pass (with 1 warning) 10. mkcol................. pass 11. mkcol_again........... pass 12. delete_coll........... pass 13. mkcol_no_parent....... pass 14. mkcol_with_body....... pass 15. finish................ pass <- summary for `basic': of 16 tests run: 16 passed, 0 failed. 100.0% -> 2 warnings were issued. -> running `copymove': 0. init.................. pass 1. begin................. pass 2. copy_init............. pass 3. copy_simple........... WARNING: COPY to new resource should give 201 (RFC2518:S8.8.5) ...................... pass (with 1 warning) 4. copy_overwrite........ FAIL (COPY overwrites collection: 409 Conflict) 5. copy_nodestcoll....... WARNING: COPY to non-existant collection '/litmus/nonesuch' gave '500 Internal Server Error' not 409 (RFC2518:S8.8.5) ...................... pass (with 1 warning) 6. copy_cleanup.......... pass 7. copy_coll............. pass 8. copy_shallow.......... pass 9. move.................. WARNING: MOVE to new resource didn't give 201 ...................... FAIL (MOVE overwrites collection `/litmus/movecoll/' to `/litmus/movedest': 409 Conflict) 10. move_coll............. FAIL (MOVE collection `/litmus/mvdest2/' over non-collection `/litmus/mvnoncoll' with overwrite: 409 Conflict) 11. move_cleanup.......... pass 12. finish................ pass <- summary for `copymove': of 13 tests run: 10 passed, 3 failed. 76.9% -> 3 warnings were issued. See debug.log for network/debug traces.","title":"Nginx in Docker"},{"location":"zh/compatibility/#summary","text":"basic copymove props locks http ASGI WebDAV pass pass pass 2 warnings pass Apache mod_webdav in docker pass pass pass 2 warnings pass Nginx in Docker 2 warnings 3 warnings skip skip skip","title":"Summary"},{"location":"zh/contributing/","text":"Contributing New feature, bug fix, new language, new howto, typo fix; everything is fine. Note issue -> discuss -> fork -> PR Code Prepare git clone https://github.com/rexzhang/asgi-webdav.git cd asgi-webdav pip install -U -r requirements/dev.txt Run Dev Server python -m asgi_webdev --dev Documentation Create a new language translation Example cp docs/index.en.md docs/index.ru.md Update MkDocs's config file mkdocs.txt example languages : en : English ru : \u0440\u0443\u0441\u0441\u043a\u0438\u0439 zh : \u4e2d\u6587 nav_translations : zh : Home : \u9996\u9875 Setup : \u914d\u7f6e Reference : \u8d44\u6599 Trouble Shooting : \u6545\u969c\u5904\u7406 Ref ISO 639-1 language code MkDocs's i18n plugin Create a new howto nano docs/howto/howto-this-is-a-new-howto.en.md Preview pip install -U -r requirements/mkdocs.txt mkdocs serve","title":"Contributing"},{"location":"zh/contributing/#contributing","text":"New feature, bug fix, new language, new howto, typo fix; everything is fine. Note issue -> discuss -> fork -> PR","title":"Contributing"},{"location":"zh/contributing/#code","text":"","title":"Code"},{"location":"zh/contributing/#prepare","text":"git clone https://github.com/rexzhang/asgi-webdav.git cd asgi-webdav pip install -U -r requirements/dev.txt","title":"Prepare"},{"location":"zh/contributing/#run-dev-server","text":"python -m asgi_webdev --dev","title":"Run Dev Server"},{"location":"zh/contributing/#documentation","text":"","title":"Documentation"},{"location":"zh/contributing/#create-a-new-language-translation","text":"","title":"Create a new language translation"},{"location":"zh/contributing/#example","text":"cp docs/index.en.md docs/index.ru.md","title":"Example"},{"location":"zh/contributing/#update-mkdocss-config-file","text":"mkdocs.txt example languages : en : English ru : \u0440\u0443\u0441\u0441\u043a\u0438\u0439 zh : \u4e2d\u6587 nav_translations : zh : Home : \u9996\u9875 Setup : \u914d\u7f6e Reference : \u8d44\u6599 Trouble Shooting : \u6545\u969c\u5904\u7406","title":"Update MkDocs's config file"},{"location":"zh/contributing/#ref","text":"ISO 639-1 language code MkDocs's i18n plugin","title":"Ref"},{"location":"zh/contributing/#create-a-new-howto","text":"nano docs/howto/howto-this-is-a-new-howto.en.md","title":"Create a new howto"},{"location":"zh/contributing/#preview","text":"pip install -U -r requirements/mkdocs.txt mkdocs serve","title":"Preview"},{"location":"zh/","text":"\u6982\u89c8 \u4e00\u4e2a\u57fa\u4e8e Python asyncio \u7684\u5f02\u6b65 WebDAV \u670d\u52a1\u7aef\u5b9e\u73b0\uff1b\u652f\u6301\u591a\u6765\u6e90\u3001\u591a\u8d26\u53f7\u548c\u6743\u9650\u63a7\u5236\u7b49 \u7279\u6027 \u7b26\u5408 ASGI \u6807\u51c6 \u7b26\u5408 WebDAV \u6807\u51c6: RFC4918 \u652f\u6301\u591a\u6765\u6e90: FileProvider, MemoryProvider \u652f\u6301\u591a\u8d26\u53f7\u4ee5\u53ca\u6743\u9650\u63a7\u5236 \u652f\u6301\u53ef\u9009\u7684\u5bb6\u76ee\u5f55 \u652f\u6301\u5c06\u5bc6\u7801\u4ee5 \u539f\u59cb/hashlib/LDAP(\u8bd5\u9a8c\u6027\u7279\u6027) \u65b9\u5f0f\u5b58\u50a8 \u5b8c\u6574\u7684\u5f02\u6b65\u6587\u4ef6 IO \u901a\u8fc7 WebDAV \u5b98\u65b9\u7684 litmus(0.13) \u6d4b\u8bd5, \u4ec5\u6709\u4e24\u4e2a\u8b66\u544a \u53ef\u5728\u6d4f\u89c8\u5668\u4e2d\u6d4f\u89c8\u6587\u4ef6\u76ee\u5f55 \u652f\u6301 HTTP Basic/Digest \u8ba4\u8bc1 \u652f\u6301 Gzip/Brotli \u538b\u7f29 \u517c\u5bb9 macOS \u8bbf\u8fbe/ Window10 Explorer \u7b49\u5ba2\u6237\u7aef \u7b80\u5355\u5c1d\u8bd5 docker pull ray1ex/asgi-webdav docker run --restart always -p 0 .0.0.0:8000:8000 \\ -v /your/data:/data \\ -e UID = 1000 -e GID = 1000 \\ --name asgi-webdav ray1ex/asgi-webdav \u9ed8\u8ba4\u8d26\u53f7 \u503c \u8bf4\u660e \u7528\u6237\u540d username - \u5bc6\u7801 password - \u6743\u9650 [\"+\"] \u5141\u8bb8\u8bbf\u95ee\u6240\u6709\u76ee\u5f55 \u5728\u6d4f\u89c8\u5668\u5217\u51fa\u6587\u4ef6\u76ee\u5f55","title":"\u6982\u89c8"},{"location":"zh/#_1","text":"\u4e00\u4e2a\u57fa\u4e8e Python asyncio \u7684\u5f02\u6b65 WebDAV \u670d\u52a1\u7aef\u5b9e\u73b0\uff1b\u652f\u6301\u591a\u6765\u6e90\u3001\u591a\u8d26\u53f7\u548c\u6743\u9650\u63a7\u5236\u7b49","title":"\u6982\u89c8"},{"location":"zh/#_2","text":"\u7b26\u5408 ASGI \u6807\u51c6 \u7b26\u5408 WebDAV \u6807\u51c6: RFC4918 \u652f\u6301\u591a\u6765\u6e90: FileProvider, MemoryProvider \u652f\u6301\u591a\u8d26\u53f7\u4ee5\u53ca\u6743\u9650\u63a7\u5236 \u652f\u6301\u53ef\u9009\u7684\u5bb6\u76ee\u5f55 \u652f\u6301\u5c06\u5bc6\u7801\u4ee5 \u539f\u59cb/hashlib/LDAP(\u8bd5\u9a8c\u6027\u7279\u6027) \u65b9\u5f0f\u5b58\u50a8 \u5b8c\u6574\u7684\u5f02\u6b65\u6587\u4ef6 IO \u901a\u8fc7 WebDAV \u5b98\u65b9\u7684 litmus(0.13) \u6d4b\u8bd5, \u4ec5\u6709\u4e24\u4e2a\u8b66\u544a \u53ef\u5728\u6d4f\u89c8\u5668\u4e2d\u6d4f\u89c8\u6587\u4ef6\u76ee\u5f55 \u652f\u6301 HTTP Basic/Digest \u8ba4\u8bc1 \u652f\u6301 Gzip/Brotli \u538b\u7f29 \u517c\u5bb9 macOS \u8bbf\u8fbe/ Window10 Explorer \u7b49\u5ba2\u6237\u7aef","title":"\u7279\u6027"},{"location":"zh/#_3","text":"docker pull ray1ex/asgi-webdav docker run --restart always -p 0 .0.0.0:8000:8000 \\ -v /your/data:/data \\ -e UID = 1000 -e GID = 1000 \\ --name asgi-webdav ray1ex/asgi-webdav","title":"\u7b80\u5355\u5c1d\u8bd5"},{"location":"zh/#_4","text":"\u503c \u8bf4\u660e \u7528\u6237\u540d username - \u5bc6\u7801 password - \u6743\u9650 [\"+\"] \u5141\u8bb8\u8bbf\u95ee\u6240\u6709\u76ee\u5f55","title":"\u9ed8\u8ba4\u8d26\u53f7"},{"location":"zh/#_5","text":"","title":"\u5728\u6d4f\u89c8\u5668\u5217\u51fa\u6587\u4ef6\u76ee\u5f55"},{"location":"zh/install/","text":"Installation Docker Install docker pull ray1ex/asgi-webdav:latest Startup server docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data \\ -e UID=1000 -e GID=1000 \\ --name asgi-webdav ray1ex/asgi-webdav WARNING: load config value from file[/data/webdav.json] failed, [Errno 2] No such file or directory: '/data/webdav.json' INFO: [asgi_webdav.webdav] ASGI WebDAV(v0.3.1) starting... INFO: [asgi_webdav.distributor] Mapping Prefix: / => file:///data INFO: [asgi_webdav.auth] Register Account: username, allow:[''], deny:[] INFO: [uvicorn] Started server process [7] INFO: [uvicorn] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit) Default value username is username , password is password , map /your/data to http://localhost:8000 Python Module Install git pull https://github.com/rexzhang/asgi-webdav.git pip install -U -r requirements/base.txt Startup server Quick start Run it with config file python -m asgi_webdav --root-path . python -m asgi_webdav --config /your/webdav.json Output example 2022-03-22 16:06:49,363 INFO: [asgi_webdav.server] ASGI WebDAV Server(v1.0.0) starting... 2022-03-22 16:06:49,364 INFO: [asgi_webdav.auth] Register User: username, allow:[''], deny:[] 2022-03-22 16:06:49,364 INFO: [asgi_webdav.web_dav] Mapping Prefix: / => file://. 2022-03-22 16:06:49,844 INFO: [asgi_webdav.server] ASGI WebDAV Server running on http://127.0.0.1:8000 (Press CTRL+C to quit) Default value(quick start) username is username , password is password , mapping current path . to http://localhost:8000 Standalone Application Install macOS Windows wget https://github.com/rexzhang/asgi-webdav/releases/download/v0.9.1/asgi-webdav-macos.zip unzip asgi-webdav-macos.zip dl https://github.com/rexzhang/asgi-webdav/releases/download/v0.9.1/asgi-webdav.exe For other platforms or versions, please visit GitHub Release Startup server macOS macOS with config file Windows ./asgi_webdav -r . 2022-03-22 16:19:45,259 INFO: [asgi_webdav.server] ASGI WebDAV Server(v0.9.1) starting... 2022-03-22 16:19:45,259 INFO: [asgi_webdav.auth] Register User: username, allow:[''], deny:[] 2022-03-22 16:19:45,260 INFO: [asgi_webdav.web_dav] Mapping Prefix: / => file://. 2022-03-22 16:19:45,374 INFO: [asgi_webdav.server] ASGI WebDAV Server running on http://127.0.0.1:8000 (Press CTRL+C to quit) ./asgi-webdav --config /tmp/webdav.json INFO: [asgi_webdav.config] Load config value from config file:/tmp/webdav.json 2022-03-22 16:16:58,853 INFO: [asgi_webdav.server] ASGI WebDAV Server(v0.9.1) starting... 2022-03-22 16:16:58,853 INFO: [asgi_webdav.auth] Register User: rex-hashlib, allow:['^/$'], deny:[] 2022-03-22 16:16:58,853 INFO: [asgi_webdav.auth] Register User: rex, allow:[''], deny:[] 2022-03-22 16:16:58,853 INFO: [asgi_webdav.auth] Register User: user-ldap, allow:['^/$'], deny:[] 2022-03-22 16:16:58,854 INFO: [asgi_webdav.web_dav] Mapping Prefix: / => file:///tmp/root 2022-03-22 16:16:58,854 INFO: [asgi_webdav.web_dav] Mapping Prefix: /home => file:///tmp/homes/{user name} 2022-03-22 16:16:58,925 INFO: [asgi_webdav.server] ASGI WebDAV Server running on http://127.0.0.1:8000 (Press CTRL+C to quit) asgi_webdav --config c:/your/webdav.json","title":"Installation"},{"location":"zh/install/#installation","text":"","title":"Installation"},{"location":"zh/install/#docker","text":"","title":"Docker"},{"location":"zh/install/#install","text":"docker pull ray1ex/asgi-webdav:latest","title":"Install"},{"location":"zh/install/#startup-server","text":"docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data \\ -e UID=1000 -e GID=1000 \\ --name asgi-webdav ray1ex/asgi-webdav WARNING: load config value from file[/data/webdav.json] failed, [Errno 2] No such file or directory: '/data/webdav.json' INFO: [asgi_webdav.webdav] ASGI WebDAV(v0.3.1) starting... INFO: [asgi_webdav.distributor] Mapping Prefix: / => file:///data INFO: [asgi_webdav.auth] Register Account: username, allow:[''], deny:[] INFO: [uvicorn] Started server process [7] INFO: [uvicorn] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)","title":"Startup server"},{"location":"zh/install/#default-value","text":"username is username , password is password , map /your/data to http://localhost:8000","title":"Default value"},{"location":"zh/install/#python-module","text":"","title":"Python Module"},{"location":"zh/install/#install_1","text":"git pull https://github.com/rexzhang/asgi-webdav.git pip install -U -r requirements/base.txt","title":"Install"},{"location":"zh/install/#startup-server_1","text":"Quick start Run it with config file python -m asgi_webdav --root-path . python -m asgi_webdav --config /your/webdav.json","title":"Startup server"},{"location":"zh/install/#output-example","text":"2022-03-22 16:06:49,363 INFO: [asgi_webdav.server] ASGI WebDAV Server(v1.0.0) starting... 2022-03-22 16:06:49,364 INFO: [asgi_webdav.auth] Register User: username, allow:[''], deny:[] 2022-03-22 16:06:49,364 INFO: [asgi_webdav.web_dav] Mapping Prefix: / => file://. 2022-03-22 16:06:49,844 INFO: [asgi_webdav.server] ASGI WebDAV Server running on http://127.0.0.1:8000 (Press CTRL+C to quit)","title":"Output example"},{"location":"zh/install/#default-valuequick-start","text":"username is username , password is password , mapping current path . to http://localhost:8000","title":"Default value(quick start)"},{"location":"zh/install/#standalone-application","text":"","title":"Standalone Application"},{"location":"zh/install/#install_2","text":"macOS Windows wget https://github.com/rexzhang/asgi-webdav/releases/download/v0.9.1/asgi-webdav-macos.zip unzip asgi-webdav-macos.zip dl https://github.com/rexzhang/asgi-webdav/releases/download/v0.9.1/asgi-webdav.exe For other platforms or versions, please visit GitHub Release","title":"Install"},{"location":"zh/install/#startup-server_2","text":"macOS macOS with config file Windows ./asgi_webdav -r . 2022-03-22 16:19:45,259 INFO: [asgi_webdav.server] ASGI WebDAV Server(v0.9.1) starting... 2022-03-22 16:19:45,259 INFO: [asgi_webdav.auth] Register User: username, allow:[''], deny:[] 2022-03-22 16:19:45,260 INFO: [asgi_webdav.web_dav] Mapping Prefix: / => file://. 2022-03-22 16:19:45,374 INFO: [asgi_webdav.server] ASGI WebDAV Server running on http://127.0.0.1:8000 (Press CTRL+C to quit) ./asgi-webdav --config /tmp/webdav.json INFO: [asgi_webdav.config] Load config value from config file:/tmp/webdav.json 2022-03-22 16:16:58,853 INFO: [asgi_webdav.server] ASGI WebDAV Server(v0.9.1) starting... 2022-03-22 16:16:58,853 INFO: [asgi_webdav.auth] Register User: rex-hashlib, allow:['^/$'], deny:[] 2022-03-22 16:16:58,853 INFO: [asgi_webdav.auth] Register User: rex, allow:[''], deny:[] 2022-03-22 16:16:58,853 INFO: [asgi_webdav.auth] Register User: user-ldap, allow:['^/$'], deny:[] 2022-03-22 16:16:58,854 INFO: [asgi_webdav.web_dav] Mapping Prefix: / => file:///tmp/root 2022-03-22 16:16:58,854 INFO: [asgi_webdav.web_dav] Mapping Prefix: /home => file:///tmp/homes/{user name} 2022-03-22 16:16:58,925 INFO: [asgi_webdav.server] ASGI WebDAV Server running on http://127.0.0.1:8000 (Press CTRL+C to quit) asgi_webdav --config c:/your/webdav.json","title":"Startup server"},{"location":"zh/known-issues/","text":"Known Issues Can not open .DMG file in macOS finder The type of the MemoryProvider's directory is displayed incorrectly","title":"Known Issues"},{"location":"zh/known-issues/#known-issues","text":"Can not open .DMG file in macOS finder The type of the MemoryProvider's directory is displayed incorrectly","title":"Known Issues"},{"location":"zh/quick-start-in-docker/","text":"Docker \u73af\u5883\u7b80\u660e\u624b\u518c \u4e0b\u8f7d Docker \u955c\u50cf docker pull ray1ex/asgi-webdav:latest \u96f6\u914d\u7f6e\u4f53\u9a8c\uff0c\u5168\u9ed8\u8ba4\u914d\u7f6e\u542f\u52a8 \u521b\u5efa\u5e76\u542f\u52a8\u5bb9\u5668 docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data \\ --name asgi-webdav ray1ex/asgi-webdav \u914d\u7f6e\u8bf4\u660e \u56e0\u4e3a\u5728 /your/data \u4e0b\u6ca1\u6709 webdav.json \u6587\u4ef6\uff0c\u6240\u4ee5\u4f1a\u4ee5\u5168\u9ed8\u8ba4\u914d\u7f6e\u542f\u52a8\u3002\u6839\u76ee\u5f55\u5bf9\u5e94 /your/data \uff1b\u53ea\u6709\u4e00\u4e2a\u8d26\u53f7\uff0c\u7528\u6237\u540d username \uff0c\u5bc6\u7801 password \uff0c\u6743\u9650\u65e0\u9650\u5236\u3002 \u81ea\u5b9a\u4e49/\u591a\u8d26\u53f7 \u521b\u5efa\u914d\u7f6e\u6587\u4ef6 \u521b\u5efa\u6587\u4ef6 /your/data/webdav.json \uff0c\u4fee\u6539\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b { \"account_mapping\" : [ { \"username\" : \"user_all\" , \"password\" : \"pw1\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"user_litmus\" , \"password\" : \"pw2\" , \"permissions\" : [ \"+^/$\" , \"+^/litmus\" , \"-^/litmus/other\" ] }, { \"username\" : \"guest\" , \"password\" : \"pw3\" , \"permissions\" : [] } ] } \u6587\u4ef6\u683c\u5f0f\u4e3a JSON\uff1b\u5728\u6700\u540e\u4e00\u4e2a\u5927\u62ec\u5f27\u548c\u65b9\u62ec\u5f27\u540e\u9762\u4e0d\u80fd\u6709\u9017\u53f7\uff1b \u5176\u4e2d permissions \u5217\u8868\u5185\u7684\u683c\u5f0f\u4e3a\u6b63\u5219\u8868\u8fbe\u5f0f \u914d\u7f6e\u8bf4\u660e \u91cd\u542f docker \u5bb9\u5668\u540e\u751f\u6548\uff0c\u91cd\u542f\u540e\u751f\u6548\u4e09\u4e2a\u8d26\u53f7\uff1a user_all \u7684\u5bc6\u7801\u4e3a pw1 \uff0c\u6743\u9650\u4e3a\u5141\u8bb8\u8bbf\u95ee\u6240\u6709 URL user_litmus \u7684\u5bc6\u7801\u4e3a pw2 \u5141\u8bb8\u8bbf\u95ee URL / URL /litmus \u4ee5\u53ca\u5176\u5b50\u76ee\u5f55 \u7981\u6b62\u8bbf\u95ee URL /litmus/other \u4ee5\u53ca\u5176\u5b50\u76ee\u5f55 guest \u7684\u5bc6\u7801\u4e3a pw3 \uff0c\u65e0\u4efb\u4f55 URL \u8bbf\u95ee\u6743\u9650 \u6743\u9650\u89c4\u5219\u4e0d\u5206\u8bfb\u5199\uff1b\u5bf9\u67d0\u4e2a URL \u6709\u6743\u9650\uff0c\u65e2\u8868\u793a\u5bf9\u6b64 URL \u4e0b\u7684\u6587\u4ef6\u548c\u5b50\u8def\u5f84\u5747\u6709\u8bfb\u5199\u6743\u9650\uff0c\u5e76\u53ef\u5217\u51fa\u6b64\u8def\u5f84\u4e0b\u6240\u6709\u6210\u5458 \u66f4\u590d\u6742\u7684\u5171\u4eab\u76ee\u5f55\u8bbe\u7f6e/\u6620\u5c04 \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 \u6587\u4ef6 /your/data/webdav.json \u5185\u5bb9\u5982\u4e0b { \"account_mapping\" : [ { \"username\" : \"username\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/litmus\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/litmus/fs\" , \"uri\" : \"file:///data/other\" }, { \"prefix\" : \"/litmus/memory\" , \"uri\" : \"memory:///\" } ] } \u521b\u5efa\u5e76\u542f\u52a8\u5bb9\u5668 docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data -v /your/data/other:/data/other \\ --name asgi-webdav ray1ex/asgi-webdav \u914d\u7f6e\u8bf4\u660e \u5171\u4eab\u76ee\u5f55\u8def\u5f84\u5bf9\u5e94\u8868 HTTP \u8def\u5f84 Docker \u5bb9\u5668\u5185\u8def\u5f84 \u5bbf\u4e3b\u673a\u5668\u8def\u5f84 / /data/root /your/data/root /litmus \u5185\u5b58\u533a\u57dfA /litmus/fs /data/other /your/data/other /litmus/memory \u5185\u5b58\u533a\u57dfB \u5982\u679c\u4e0d\u5728\u5bbf\u4e3b\u673a\u4e0a\u521b\u5efa /your/data/root \u8fd9\u4e2a\u8def\u5f84\uff0c\u7cfb\u7edf\u4e5f\u53ef\u4ee5\u5de5\u4f5c\uff1b\u4f46\u8bbf\u95ee / \u8fd9\u4e2a URL \u53ea\u4f1a\u5f97\u5230\u4e00\u4e2a 404 \u9519\u8bef \u5bb6\u76ee\u5f55 \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 { \"account_mapping\" : [ { \"username\" : \"user_a\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"user_b\" , \"password\" : \"password\" , \"permissions\" : [] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/~\" , \"uri\" : \"file:///data/homes\" , \"home_dir\" : true } ] } \u521b\u5efa\u5e76\u542f\u52a8\u5bb9\u5668 docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data -v /your/data/homes:/data/homes \\ --name asgi-webdav ray1ex/asgi-webdav \u914d\u7f6e\u8bf4\u660e \u5bb6\u76ee\u5f55\u8def\u5f84\u5bf9\u5e94\u8868 \u7528\u6237 URL Docker \u5bb9\u5668\u5185\u8def\u5f84 \u5bbf\u4e3b\u673a\u5668\u8def\u5f84 user_a /~ /data/homes/user_a /your/data/homes/user_a user_a /~/sub /data/homes/user_a/sub /your/data/homes/user_a/sub user_b /~ /data/homes/user_b /your/data/homes/user_b user_b /~/sub /data/homes/user_b/sub /your/data/homes/user_b/sub \u5982\u679c\u7528\u6237\u5bf9\u5e94\u7684\u540c\u540d\u5b50\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u4f1a\u5bfc\u81f4\u8bf7\u6c42\u5bb6\u76ee\u5f55\u65f6\u5931\u8d25\u3002\u8bf7\u81ea\u884c\u5728\u5bbf\u4e3b\u673a\u4e0a\u521b\u5efa /your/data/homes/user_a \u7b49\u8def\u5f84 \u5373\u4fbf\u4e00\u4e2a\u7528\u6237\u6ca1\u6709\u4efb\u4f55\u5171\u4eab\u76ee\u5f55\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u4e5f\u6709\u6743\u8bbf\u95ee\u81ea\u5df1\u7684\u6240\u6709\u5bb6\u76ee\u5f55 \u7cfb\u7edf\u5141\u8bb8\u591a\u4e2a\u5bb6\u76ee\u5f55\u540c\u65f6\u5b58\u5728\uff0c\u6bd4\u5982\uff1a /~ /home \u94fe\u63a5\u5ba2\u6237\u7aef \u4ee5\u4e0b\u4ee5\u670d\u52a1\u7aef\u7f51\u5740\u4e3a https://your.domain.com \u4e3a\u4f8b\uff1b\u5b9e\u9645\u66f4\u5e38\u89c1\u7684\u7f51\u5740\u4e00\u822c\u4e3a https://your.domain.com/my/dav/sub/dir/path \u5982\u679c\u4f60\u7684 WebDAV \u6839\u8def\u5f84\u4e3a https://domain \u5728 WebDAV \u6839\u76ee\u5f55\u4e0b\u5206\u522b\u6709 /path1 /path1/sub1 /path2 \u8fd9\u51e0\u4e2a\u5b50\u76ee\u5f55\uff1b\u90a3\u4e48\u94fe\u63a5\u7684\u65f6\u5019\u5206\u522b\u4f7f\u7528 https://domain https://domain/path1 https://domain/path1/sub1 https://domain/path2 \u90fd\u662f\u53ef\u4ee5\u7684 macOS \u5728 \u8bbf\u8fbe/Finder \u7684\u83dc\u5355 \u524d\u5f80 - \u8fde\u63a5\u670d\u52a1\u5668... \uff1b\u7136\u540e\u5728\u5f39\u51fa\u7a97\u53e3\u4e2d\u8f93\u5165 https://your.domain.com/any/webdav/path \uff1b\u7136\u540e\u70b9\u51fb \u8fde\u63a5 \uff1b\u8f93\u5165\u7528\u6237\u540d/\u5bc6\u7801\u5373\u53ef Windows \u5728 \u6587\u4ef6\u7ba1\u7406\u5668 \u5de6\u680f \u7f51\u7edc \u5904\u70b9\u51fb\u9f20\u6807 \u53f3\u952e \uff1b\u9009\u62e9 \u6620\u5c04\u7f51\u7edc\u9a71\u52a8\u5668 \uff1b\u5728 \u6587\u4ef6\u5939 \u680f\u76ee\u8f93\u5165 https://your.domain.com \uff1b\u7136\u540e\u70b9\u51fb \u5b8c\u6210 \uff1b\u8f93\u5165\u7528\u6237\u540d/\u5bc6\u7801\u5373\u53ef \u6742\u6280 Window \u8d44\u6e90\u7ba1\u7406\u5668\"\u6620\u5c04\u7f51\u7edc\u9a71\u52a8\u5668\" \u5f53\u8d44\u6e90\u7ba1\u7406\u5668\u6620\u4f7f\u7528 WebDAV \u5c04\u7f51\u7edc\u78c1\u76d8\u7684\u65f6\u5019\uff0c\u5982\u679c\u670d\u52a1\u7aef\u63d0\u4f9b\u7684\u662f HTTP \u94fe\u63a5\u800c\u975e HTTPS \u94fe\u63a5\uff0c\u540c\u65f6\u670d\u52a1\u7aef\u4e0d\u4e3b\u52a8\u63d0\u4f9b Digest \u8ba4\u8bc1\u7684\u60c5\u51b5\u4e0b\u4f1a\u5bfc\u81f4\u6620\u5c04\u5931\u8d25(HTTPS \u73af\u5883\u652f\u6301 Basic \u8ba4\u8bc1\u65b9\u5f0f) \u914d\u7f6e\u6587\u4ef6\u4fee\u6539\u65b9\u6cd5\u5982\u4e0b: { \"http_digest_auth\" : { \"enable\" : false , \"enable_rule\" : \"Microsoft-WebDAV-MiniRedir|\u5176\u4ed6\u5ba2\u6237\u7aefUserAgent\" } }","title":"Docker \u73af\u5883\u7b80\u660e\u624b\u518c"},{"location":"zh/quick-start-in-docker/#docker","text":"","title":"Docker \u73af\u5883\u7b80\u660e\u624b\u518c"},{"location":"zh/quick-start-in-docker/#docker_1","text":"docker pull ray1ex/asgi-webdav:latest","title":"\u4e0b\u8f7d Docker \u955c\u50cf"},{"location":"zh/quick-start-in-docker/#_1","text":"","title":"\u96f6\u914d\u7f6e\u4f53\u9a8c\uff0c\u5168\u9ed8\u8ba4\u914d\u7f6e\u542f\u52a8"},{"location":"zh/quick-start-in-docker/#_2","text":"docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data \\ --name asgi-webdav ray1ex/asgi-webdav","title":"\u521b\u5efa\u5e76\u542f\u52a8\u5bb9\u5668"},{"location":"zh/quick-start-in-docker/#_3","text":"\u56e0\u4e3a\u5728 /your/data \u4e0b\u6ca1\u6709 webdav.json \u6587\u4ef6\uff0c\u6240\u4ee5\u4f1a\u4ee5\u5168\u9ed8\u8ba4\u914d\u7f6e\u542f\u52a8\u3002\u6839\u76ee\u5f55\u5bf9\u5e94 /your/data \uff1b\u53ea\u6709\u4e00\u4e2a\u8d26\u53f7\uff0c\u7528\u6237\u540d username \uff0c\u5bc6\u7801 password \uff0c\u6743\u9650\u65e0\u9650\u5236\u3002","title":"\u914d\u7f6e\u8bf4\u660e"},{"location":"zh/quick-start-in-docker/#_4","text":"","title":"\u81ea\u5b9a\u4e49/\u591a\u8d26\u53f7"},{"location":"zh/quick-start-in-docker/#_5","text":"\u521b\u5efa\u6587\u4ef6 /your/data/webdav.json \uff0c\u4fee\u6539\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b { \"account_mapping\" : [ { \"username\" : \"user_all\" , \"password\" : \"pw1\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"user_litmus\" , \"password\" : \"pw2\" , \"permissions\" : [ \"+^/$\" , \"+^/litmus\" , \"-^/litmus/other\" ] }, { \"username\" : \"guest\" , \"password\" : \"pw3\" , \"permissions\" : [] } ] } \u6587\u4ef6\u683c\u5f0f\u4e3a JSON\uff1b\u5728\u6700\u540e\u4e00\u4e2a\u5927\u62ec\u5f27\u548c\u65b9\u62ec\u5f27\u540e\u9762\u4e0d\u80fd\u6709\u9017\u53f7\uff1b \u5176\u4e2d permissions \u5217\u8868\u5185\u7684\u683c\u5f0f\u4e3a\u6b63\u5219\u8868\u8fbe\u5f0f","title":"\u521b\u5efa\u914d\u7f6e\u6587\u4ef6"},{"location":"zh/quick-start-in-docker/#_6","text":"\u91cd\u542f docker \u5bb9\u5668\u540e\u751f\u6548\uff0c\u91cd\u542f\u540e\u751f\u6548\u4e09\u4e2a\u8d26\u53f7\uff1a user_all \u7684\u5bc6\u7801\u4e3a pw1 \uff0c\u6743\u9650\u4e3a\u5141\u8bb8\u8bbf\u95ee\u6240\u6709 URL user_litmus \u7684\u5bc6\u7801\u4e3a pw2 \u5141\u8bb8\u8bbf\u95ee URL / URL /litmus \u4ee5\u53ca\u5176\u5b50\u76ee\u5f55 \u7981\u6b62\u8bbf\u95ee URL /litmus/other \u4ee5\u53ca\u5176\u5b50\u76ee\u5f55 guest \u7684\u5bc6\u7801\u4e3a pw3 \uff0c\u65e0\u4efb\u4f55 URL \u8bbf\u95ee\u6743\u9650 \u6743\u9650\u89c4\u5219\u4e0d\u5206\u8bfb\u5199\uff1b\u5bf9\u67d0\u4e2a URL \u6709\u6743\u9650\uff0c\u65e2\u8868\u793a\u5bf9\u6b64 URL \u4e0b\u7684\u6587\u4ef6\u548c\u5b50\u8def\u5f84\u5747\u6709\u8bfb\u5199\u6743\u9650\uff0c\u5e76\u53ef\u5217\u51fa\u6b64\u8def\u5f84\u4e0b\u6240\u6709\u6210\u5458","title":"\u914d\u7f6e\u8bf4\u660e"},{"location":"zh/quick-start-in-docker/#_7","text":"","title":"\u66f4\u590d\u6742\u7684\u5171\u4eab\u76ee\u5f55\u8bbe\u7f6e/\u6620\u5c04"},{"location":"zh/quick-start-in-docker/#_8","text":"\u6587\u4ef6 /your/data/webdav.json \u5185\u5bb9\u5982\u4e0b { \"account_mapping\" : [ { \"username\" : \"username\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/litmus\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/litmus/fs\" , \"uri\" : \"file:///data/other\" }, { \"prefix\" : \"/litmus/memory\" , \"uri\" : \"memory:///\" } ] }","title":"\u4fee\u6539\u914d\u7f6e\u6587\u4ef6"},{"location":"zh/quick-start-in-docker/#_9","text":"docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data -v /your/data/other:/data/other \\ --name asgi-webdav ray1ex/asgi-webdav","title":"\u521b\u5efa\u5e76\u542f\u52a8\u5bb9\u5668"},{"location":"zh/quick-start-in-docker/#_10","text":"\u5171\u4eab\u76ee\u5f55\u8def\u5f84\u5bf9\u5e94\u8868 HTTP \u8def\u5f84 Docker \u5bb9\u5668\u5185\u8def\u5f84 \u5bbf\u4e3b\u673a\u5668\u8def\u5f84 / /data/root /your/data/root /litmus \u5185\u5b58\u533a\u57dfA /litmus/fs /data/other /your/data/other /litmus/memory \u5185\u5b58\u533a\u57dfB \u5982\u679c\u4e0d\u5728\u5bbf\u4e3b\u673a\u4e0a\u521b\u5efa /your/data/root \u8fd9\u4e2a\u8def\u5f84\uff0c\u7cfb\u7edf\u4e5f\u53ef\u4ee5\u5de5\u4f5c\uff1b\u4f46\u8bbf\u95ee / \u8fd9\u4e2a URL \u53ea\u4f1a\u5f97\u5230\u4e00\u4e2a 404 \u9519\u8bef","title":"\u914d\u7f6e\u8bf4\u660e"},{"location":"zh/quick-start-in-docker/#_11","text":"","title":"\u5bb6\u76ee\u5f55"},{"location":"zh/quick-start-in-docker/#_12","text":"{ \"account_mapping\" : [ { \"username\" : \"user_a\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"user_b\" , \"password\" : \"password\" , \"permissions\" : [] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/~\" , \"uri\" : \"file:///data/homes\" , \"home_dir\" : true } ] }","title":"\u4fee\u6539\u914d\u7f6e\u6587\u4ef6"},{"location":"zh/quick-start-in-docker/#_13","text":"docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data -v /your/data/homes:/data/homes \\ --name asgi-webdav ray1ex/asgi-webdav","title":"\u521b\u5efa\u5e76\u542f\u52a8\u5bb9\u5668"},{"location":"zh/quick-start-in-docker/#_14","text":"\u5bb6\u76ee\u5f55\u8def\u5f84\u5bf9\u5e94\u8868 \u7528\u6237 URL Docker \u5bb9\u5668\u5185\u8def\u5f84 \u5bbf\u4e3b\u673a\u5668\u8def\u5f84 user_a /~ /data/homes/user_a /your/data/homes/user_a user_a /~/sub /data/homes/user_a/sub /your/data/homes/user_a/sub user_b /~ /data/homes/user_b /your/data/homes/user_b user_b /~/sub /data/homes/user_b/sub /your/data/homes/user_b/sub \u5982\u679c\u7528\u6237\u5bf9\u5e94\u7684\u540c\u540d\u5b50\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u4f1a\u5bfc\u81f4\u8bf7\u6c42\u5bb6\u76ee\u5f55\u65f6\u5931\u8d25\u3002\u8bf7\u81ea\u884c\u5728\u5bbf\u4e3b\u673a\u4e0a\u521b\u5efa /your/data/homes/user_a \u7b49\u8def\u5f84 \u5373\u4fbf\u4e00\u4e2a\u7528\u6237\u6ca1\u6709\u4efb\u4f55\u5171\u4eab\u76ee\u5f55\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u4e5f\u6709\u6743\u8bbf\u95ee\u81ea\u5df1\u7684\u6240\u6709\u5bb6\u76ee\u5f55 \u7cfb\u7edf\u5141\u8bb8\u591a\u4e2a\u5bb6\u76ee\u5f55\u540c\u65f6\u5b58\u5728\uff0c\u6bd4\u5982\uff1a /~ /home","title":"\u914d\u7f6e\u8bf4\u660e"},{"location":"zh/quick-start-in-docker/#_15","text":"\u4ee5\u4e0b\u4ee5\u670d\u52a1\u7aef\u7f51\u5740\u4e3a https://your.domain.com \u4e3a\u4f8b\uff1b\u5b9e\u9645\u66f4\u5e38\u89c1\u7684\u7f51\u5740\u4e00\u822c\u4e3a https://your.domain.com/my/dav/sub/dir/path \u5982\u679c\u4f60\u7684 WebDAV \u6839\u8def\u5f84\u4e3a https://domain \u5728 WebDAV \u6839\u76ee\u5f55\u4e0b\u5206\u522b\u6709 /path1 /path1/sub1 /path2 \u8fd9\u51e0\u4e2a\u5b50\u76ee\u5f55\uff1b\u90a3\u4e48\u94fe\u63a5\u7684\u65f6\u5019\u5206\u522b\u4f7f\u7528 https://domain https://domain/path1 https://domain/path1/sub1 https://domain/path2 \u90fd\u662f\u53ef\u4ee5\u7684","title":"\u94fe\u63a5\u5ba2\u6237\u7aef"},{"location":"zh/quick-start-in-docker/#macos","text":"\u5728 \u8bbf\u8fbe/Finder \u7684\u83dc\u5355 \u524d\u5f80 - \u8fde\u63a5\u670d\u52a1\u5668... \uff1b\u7136\u540e\u5728\u5f39\u51fa\u7a97\u53e3\u4e2d\u8f93\u5165 https://your.domain.com/any/webdav/path \uff1b\u7136\u540e\u70b9\u51fb \u8fde\u63a5 \uff1b\u8f93\u5165\u7528\u6237\u540d/\u5bc6\u7801\u5373\u53ef","title":"macOS"},{"location":"zh/quick-start-in-docker/#windows","text":"\u5728 \u6587\u4ef6\u7ba1\u7406\u5668 \u5de6\u680f \u7f51\u7edc \u5904\u70b9\u51fb\u9f20\u6807 \u53f3\u952e \uff1b\u9009\u62e9 \u6620\u5c04\u7f51\u7edc\u9a71\u52a8\u5668 \uff1b\u5728 \u6587\u4ef6\u5939 \u680f\u76ee\u8f93\u5165 https://your.domain.com \uff1b\u7136\u540e\u70b9\u51fb \u5b8c\u6210 \uff1b\u8f93\u5165\u7528\u6237\u540d/\u5bc6\u7801\u5373\u53ef","title":"Windows"},{"location":"zh/quick-start-in-docker/#_16","text":"","title":"\u6742\u6280"},{"location":"zh/quick-start-in-docker/#window","text":"\u5f53\u8d44\u6e90\u7ba1\u7406\u5668\u6620\u4f7f\u7528 WebDAV \u5c04\u7f51\u7edc\u78c1\u76d8\u7684\u65f6\u5019\uff0c\u5982\u679c\u670d\u52a1\u7aef\u63d0\u4f9b\u7684\u662f HTTP \u94fe\u63a5\u800c\u975e HTTPS \u94fe\u63a5\uff0c\u540c\u65f6\u670d\u52a1\u7aef\u4e0d\u4e3b\u52a8\u63d0\u4f9b Digest \u8ba4\u8bc1\u7684\u60c5\u51b5\u4e0b\u4f1a\u5bfc\u81f4\u6620\u5c04\u5931\u8d25(HTTPS \u73af\u5883\u652f\u6301 Basic \u8ba4\u8bc1\u65b9\u5f0f) \u914d\u7f6e\u6587\u4ef6\u4fee\u6539\u65b9\u6cd5\u5982\u4e0b: { \"http_digest_auth\" : { \"enable\" : false , \"enable_rule\" : \"Microsoft-WebDAV-MiniRedir|\u5176\u4ed6\u5ba2\u6237\u7aefUserAgent\" } }","title":"Window \u8d44\u6e90\u7ba1\u7406\u5668\"\u6620\u5c04\u7f51\u7edc\u9a71\u52a8\u5668\""},{"location":"zh/trouble-shooting/","text":"Trouble Shooting Upgrade to 1.x.x with watchtower or portainer Please delete and re-install container.","title":"\u95ee\u9898\u5904\u7406"},{"location":"zh/trouble-shooting/#trouble-shooting","text":"","title":"Trouble Shooting"},{"location":"zh/trouble-shooting/#upgrade-to-1xx-with-watchtower-or-portainer","text":"Please delete and re-install container.","title":"Upgrade to 1.x.x with watchtower or portainer"},{"location":"zh/guide/cors/","text":"\u8de8\u6e90\u8d44\u6e90\u5171\u4eab (CORS) \u6253\u5f00 CORS \u652f\u6301, \u5e76\u5141\u8bb8\u4efb\u610f Origin { \"cors\" : { \"enable\" : true , \"allow_origins\" : [ \"*\" ] } } \u5141\u8bb8\u591a\u4e2a Origin { \"cors\" : { \"enable\" : true , \"allow_origins\" : [ \"https://i.am.origin.com\" , \"https://me.too.com\" ] } } \u57fa\u4e8e\u6b63\u5219\u8868\u8fbe\u5f0f\u5141\u8bb8\u7684 Origin { \"cors\" : { \"enable\" : true , \"allow_origin_regex\" : \"^https://cors.*\" } } \u57fa\u4e8e\u6b63\u5219\u8868\u8fbe\u5f0f\u5141\u8bb8\u7684 URL \u8303\u56f4 { \"cors\" : { \"enable\" : true , \"allow_url_regex\" : \"^/cors/path.*\" , \"allow_origins\" : [ \"*\" ] } } \u5141\u8bb8\u7684 HTTP \u65b9\u6cd5 { \"cors\" : { \"enable\" : true , \"allow_origins\" : [ \"*\" ], \"allow_methods\" : [ \"GET\" , \"HEAD\" , \"POST\" ] } }","title":"\u8de8\u6e90\u8d44\u6e90\u5171\u4eab (CORS)"},{"location":"zh/guide/cors/#cors","text":"","title":"\u8de8\u6e90\u8d44\u6e90\u5171\u4eab (CORS)"},{"location":"zh/guide/cors/#cors-origin","text":"{ \"cors\" : { \"enable\" : true , \"allow_origins\" : [ \"*\" ] } }","title":"\u6253\u5f00 CORS \u652f\u6301, \u5e76\u5141\u8bb8\u4efb\u610f Origin"},{"location":"zh/guide/cors/#origin","text":"{ \"cors\" : { \"enable\" : true , \"allow_origins\" : [ \"https://i.am.origin.com\" , \"https://me.too.com\" ] } }","title":"\u5141\u8bb8\u591a\u4e2a Origin"},{"location":"zh/guide/cors/#origin_1","text":"{ \"cors\" : { \"enable\" : true , \"allow_origin_regex\" : \"^https://cors.*\" } }","title":"\u57fa\u4e8e\u6b63\u5219\u8868\u8fbe\u5f0f\u5141\u8bb8\u7684 Origin"},{"location":"zh/guide/cors/#url","text":"{ \"cors\" : { \"enable\" : true , \"allow_url_regex\" : \"^/cors/path.*\" , \"allow_origins\" : [ \"*\" ] } }","title":"\u57fa\u4e8e\u6b63\u5219\u8868\u8fbe\u5f0f\u5141\u8bb8\u7684 URL \u8303\u56f4"},{"location":"zh/guide/cors/#http","text":"{ \"cors\" : { \"enable\" : true , \"allow_origins\" : [ \"*\" ], \"allow_methods\" : [ \"GET\" , \"HEAD\" , \"POST\" ] } }","title":"\u5141\u8bb8\u7684 HTTP \u65b9\u6cd5"},{"location":"zh/guide/multi-account/","text":"Multi-Account and Home Directory config file /your/data/webdav.json { \"account_mapping\" : [ { \"username\" : \"user_all\" , \"password\" : \"pw1\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"user_a\" , \"password\" : \"pw2\" , \"permissions\" : [ \"+^/$\" , \"+^/share\" , \"-^/share/no_a\" ] }, { \"username\" : \"user_b\" , \"password\" : \"pw3\" , \"permissions\" : [ \"+^/$\" , \"+^/share\" , \"-^/share/no_b\" ] }, { \"username\" : \"guest\" , \"password\" : \"pw4\" , \"permissions\" : [] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/temp1\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/temp2\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/~\" , \"uri\" : \"file:///data/homes\" , \"home_dir\" : true } ] } docker command docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data -v /your/data/homes:/data/homes \\ --name asgi-webdav ray1ex/asgi-webdav URL/path mapping table user URL path in docker container path in host All / /data/root /your/data/root All /share /data/root/share /your/data/root/share All /temp1 memory area #1 All /temp2 memory area #2 user_a /~ /data/homes/user_a /your/data/homes/user_a user_a /~/sub /data/homes/user_a/sub /your/data/homes/user_a/sub user_b /~ /data/homes/user_b /your/data/homes/user_b user_b /~/sub /data/homes/user_b/sub /your/data/homes/user_b/sub account permission username user_all user_a user_b guest password pw1 pw2 pw3 pw4 URL /~ Allow Allow Allow Allow URL / Allow Allow Allow Deny URL /share Allow Allow Allow Deny URL /share/no_a Allow Deny Allow Deny URL /share/no_b Allow Allow Deny Deny other URL Allow Deny Deny Deny","title":"Multi-Account and Home Directory"},{"location":"zh/guide/multi-account/#multi-account-and-home-directory","text":"","title":"Multi-Account and Home Directory"},{"location":"zh/guide/multi-account/#config-file","text":"/your/data/webdav.json { \"account_mapping\" : [ { \"username\" : \"user_all\" , \"password\" : \"pw1\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"user_a\" , \"password\" : \"pw2\" , \"permissions\" : [ \"+^/$\" , \"+^/share\" , \"-^/share/no_a\" ] }, { \"username\" : \"user_b\" , \"password\" : \"pw3\" , \"permissions\" : [ \"+^/$\" , \"+^/share\" , \"-^/share/no_b\" ] }, { \"username\" : \"guest\" , \"password\" : \"pw4\" , \"permissions\" : [] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/temp1\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/temp2\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/~\" , \"uri\" : \"file:///data/homes\" , \"home_dir\" : true } ] }","title":"config file"},{"location":"zh/guide/multi-account/#docker-command","text":"docker run --restart always -p 0.0.0.0:8000:8000 \\ -v /your/data:/data -v /your/data/homes:/data/homes \\ --name asgi-webdav ray1ex/asgi-webdav","title":"docker command"},{"location":"zh/guide/multi-account/#urlpath-mapping-table","text":"user URL path in docker container path in host All / /data/root /your/data/root All /share /data/root/share /your/data/root/share All /temp1 memory area #1 All /temp2 memory area #2 user_a /~ /data/homes/user_a /your/data/homes/user_a user_a /~/sub /data/homes/user_a/sub /your/data/homes/user_a/sub user_b /~ /data/homes/user_b /your/data/homes/user_b user_b /~/sub /data/homes/user_b/sub /your/data/homes/user_b/sub","title":"URL/path mapping table"},{"location":"zh/guide/multi-account/#account-permission","text":"username user_all user_a user_b guest password pw1 pw2 pw3 pw4 URL /~ Allow Allow Allow Allow URL / Allow Allow Allow Deny URL /share Allow Allow Allow Deny URL /share/no_a Allow Deny Allow Deny URL /share/no_b Allow Allow Deny Deny other URL Allow Deny Deny Deny","title":"account permission"},{"location":"zh/guide/protect-your-password-in-the-config/","text":"Protect your password in the configuration file { \"account_mapping\" : [ { \"username\" : \"user-raw\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ]}, { \"username\" : \"user-hashlib\" , \"password\" : \"<hashlib>:sha256:salt:291e247d155354e48fec2b579637782446821935fc96a5a08a0b7885179c408b\" , \"permissions\" : [ \"+^/$\" ] }, { \"username\" : \"user-digest\" , \"password\" : \"<digest>:ASGI-WebDAV:c1d34f1e0f457c4de05b7468d5165567\" , \"permissions\" : [ \"+^/$\" ] }, { \"username\" : \"user-ldap\" , \"password\" : \"<ldap>#1#ldaps://your.ldap.server.com#SIMPLE#uid=user-ldap,cn=users,dc=your.ldap.server.com\" , \"permissions\" : [ \"+^/$\" ] } ] } Raw Mode user user-raw 's password is real password hashlib Mode password 's format is \"<hashlib>:{algorithm}:{salt}:{hashed-password}\" {algorithm} A list of supported {algorithms} can be found at Python's docs The commonly used algorithms: sha256 sha384 sha512 blake2b (optimized for 64-bit platforms) blake2s (optimized for 8- to 32-bit platforms) {salt} {salt} can be any string {hashed-password} {hashed-password} 's format is ALGORITHM(bytes(\"{salt}:{password}\")).hexdigest() example: {algorithm}: sha256 {salt}: salt {password}: password >>> import hashlib >>> hashlib.new(\"sha256\", \"{}:{}\".format(\"salt\", \"password\").encode(\"utf-8\")).hexdigest() '291e247d155354e48fec2b579637782446821935fc96a5a08a0b7885179c408b' Ref https://en.wikipedia.org/wiki/Comparison_of_cryptographic_hash_functions HTTP Digest Mode password 's format is <digest>:{realm}:{HA1} {realm} ASGI-WebDAV {HA1} {HA1} 's format is md5(bytes(\"{username}:{realm}:{password}\")).hexdigest() example: {username}: user-digest {realm}: ASGI-WebDAV {password}: password >>> import hashlib >>> hashlib.new(\"md5\", \"{}:{}:{}\".format(\"user-digest\", \"ASGI-WebDAV\", \"password\").encode(\"utf-8\")).hexdigest() 'c1d34f1e0f457c4de05b7468d5165567' Ref RFC2617 LDAP Mode (experimental) password 's format is \"<ldap>#1#{ldap-uri}#{mechanism}#{ldap-user}\" {ldap-uri} Example: ldap://your.ldap.server.com ldaps://your.tls.ldap.server.com Ref Official Website RFC4516 {mechanism} Example: SIMPLE ... {ldap-user} Example: uid=you-name,cn=users,dc=ldap,dc=server,dc=com Compatibility HTTP Basic auth HTTP Digest auth Raw Mode Y Y hashlib Mode Y N HTTP Digest Mode Y Y LDAP Mode Y N","title":"Protect your password in the configuration file"},{"location":"zh/guide/protect-your-password-in-the-config/#protect-your-password-in-the-configuration-file","text":"{ \"account_mapping\" : [ { \"username\" : \"user-raw\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ]}, { \"username\" : \"user-hashlib\" , \"password\" : \"<hashlib>:sha256:salt:291e247d155354e48fec2b579637782446821935fc96a5a08a0b7885179c408b\" , \"permissions\" : [ \"+^/$\" ] }, { \"username\" : \"user-digest\" , \"password\" : \"<digest>:ASGI-WebDAV:c1d34f1e0f457c4de05b7468d5165567\" , \"permissions\" : [ \"+^/$\" ] }, { \"username\" : \"user-ldap\" , \"password\" : \"<ldap>#1#ldaps://your.ldap.server.com#SIMPLE#uid=user-ldap,cn=users,dc=your.ldap.server.com\" , \"permissions\" : [ \"+^/$\" ] } ] }","title":"Protect your password in the configuration file"},{"location":"zh/guide/protect-your-password-in-the-config/#raw-mode","text":"user user-raw 's password is real password","title":"Raw Mode"},{"location":"zh/guide/protect-your-password-in-the-config/#hashlib-mode","text":"password 's format is \"<hashlib>:{algorithm}:{salt}:{hashed-password}\"","title":"hashlib Mode"},{"location":"zh/guide/protect-your-password-in-the-config/#algorithm","text":"A list of supported {algorithms} can be found at Python's docs The commonly used algorithms: sha256 sha384 sha512 blake2b (optimized for 64-bit platforms) blake2s (optimized for 8- to 32-bit platforms)","title":"{algorithm}"},{"location":"zh/guide/protect-your-password-in-the-config/#salt","text":"{salt} can be any string","title":"{salt}"},{"location":"zh/guide/protect-your-password-in-the-config/#hashed-password","text":"{hashed-password} 's format is ALGORITHM(bytes(\"{salt}:{password}\")).hexdigest() example: {algorithm}: sha256 {salt}: salt {password}: password >>> import hashlib >>> hashlib.new(\"sha256\", \"{}:{}\".format(\"salt\", \"password\").encode(\"utf-8\")).hexdigest() '291e247d155354e48fec2b579637782446821935fc96a5a08a0b7885179c408b'","title":"{hashed-password}"},{"location":"zh/guide/protect-your-password-in-the-config/#ref","text":"https://en.wikipedia.org/wiki/Comparison_of_cryptographic_hash_functions","title":"Ref"},{"location":"zh/guide/protect-your-password-in-the-config/#http-digest-mode","text":"password 's format is <digest>:{realm}:{HA1}","title":"HTTP Digest Mode"},{"location":"zh/guide/protect-your-password-in-the-config/#realm","text":"ASGI-WebDAV","title":"{realm}"},{"location":"zh/guide/protect-your-password-in-the-config/#ha1","text":"{HA1} 's format is md5(bytes(\"{username}:{realm}:{password}\")).hexdigest() example: {username}: user-digest {realm}: ASGI-WebDAV {password}: password >>> import hashlib >>> hashlib.new(\"md5\", \"{}:{}:{}\".format(\"user-digest\", \"ASGI-WebDAV\", \"password\").encode(\"utf-8\")).hexdigest() 'c1d34f1e0f457c4de05b7468d5165567'","title":"{HA1}"},{"location":"zh/guide/protect-your-password-in-the-config/#ref_1","text":"RFC2617","title":"Ref"},{"location":"zh/guide/protect-your-password-in-the-config/#ldap-mode-experimental","text":"password 's format is \"<ldap>#1#{ldap-uri}#{mechanism}#{ldap-user}\"","title":"LDAP Mode (experimental)"},{"location":"zh/guide/protect-your-password-in-the-config/#ldap-uri","text":"Example: ldap://your.ldap.server.com ldaps://your.tls.ldap.server.com","title":"{ldap-uri}"},{"location":"zh/guide/protect-your-password-in-the-config/#ref_2","text":"Official Website RFC4516","title":"Ref"},{"location":"zh/guide/protect-your-password-in-the-config/#mechanism","text":"Example: SIMPLE ...","title":"{mechanism}"},{"location":"zh/guide/protect-your-password-in-the-config/#ldap-user","text":"Example: uid=you-name,cn=users,dc=ldap,dc=server,dc=com","title":"{ldap-user}"},{"location":"zh/guide/protect-your-password-in-the-config/#compatibility","text":"HTTP Basic auth HTTP Digest auth Raw Mode Y Y hashlib Mode Y N HTTP Digest Mode Y Y LDAP Mode Y N","title":"Compatibility"},{"location":"zh/howto/howto-hide-files-in-dir-with-the-specified-client/","text":"How to hide files in directory with the specified client Hide *.do-not-display-at-every in all client { \"hide_file_in_dir\" : { \"user_rules\" : { \"\" : \".+\\\\.do-not-display-at-every$\" } } } Hide hide.* and *.hide in macOS finder { \"hide_file_in_dir\" : { \"user_rules\" : { \"WebDAVFS\" : \"^hide\\\\.|.+\\\\.hide$\" } } }","title":"How to hide files in directory with the specified client"},{"location":"zh/howto/howto-hide-files-in-dir-with-the-specified-client/#how-to-hide-files-in-directory-with-the-specified-client","text":"","title":"How to hide files in directory with the specified client"},{"location":"zh/howto/howto-hide-files-in-dir-with-the-specified-client/#hide-do-not-display-at-every-in-all-client","text":"{ \"hide_file_in_dir\" : { \"user_rules\" : { \"\" : \".+\\\\.do-not-display-at-every$\" } } }","title":"Hide *.do-not-display-at-every in all client"},{"location":"zh/howto/howto-hide-files-in-dir-with-the-specified-client/#hide-hide-and-hide-in-macos-finder","text":"{ \"hide_file_in_dir\" : { \"user_rules\" : { \"WebDAVFS\" : \"^hide\\\\.|.+\\\\.hide$\" } } }","title":"Hide hide.* and *.hide in macOS finder"},{"location":"zh/howto/howto-specify-type-for-specific-file-extentions/","text":"How to Specify Type for specific file extentions change your webdav.json like blow: { \"guess_type_extension\" : { \"filename_mapping\" : { \".bashrc\" : \"text/plain\" }, \"suffix_mapping\" : { \".py\" : \"text/plain\" } } } default value DEFAULT_FILENAME_CONTENT_TYPE_MAPPING and DEFAULT_SUFFIX_CONTENT_TYPE_MAPPING defined in file constants.py .","title":"How to Specify Type for specific file extentions"},{"location":"zh/howto/howto-specify-type-for-specific-file-extentions/#how-to-specify-type-for-specific-file-extentions","text":"change your webdav.json like blow: { \"guess_type_extension\" : { \"filename_mapping\" : { \".bashrc\" : \"text/plain\" }, \"suffix_mapping\" : { \".py\" : \"text/plain\" } } } default value DEFAULT_FILENAME_CONTENT_TYPE_MAPPING and DEFAULT_SUFFIX_CONTENT_TYPE_MAPPING defined in file constants.py .","title":"How to Specify Type for specific file extentions"},{"location":"zh/reference/cli/","text":"Command Line Interface Command Line Interface Args Introduced in 0.8 Last updated in 1.0 python -m asgi_webdav --help Usage: python -m asgi_webdav [ OPTIONS ] Run ASGI WebDAV server Options: -V, --version Print version info and exit. -H, --host TEXT Bind socket to this host. [ default: 127 .0.0.1 ] -P, --port INTEGER Bind socket to this port. [ default: 8000 ] -c, --config TEXT Load configuration from file. [ default: None ] -u, --user <TEXT TEXT>... Administrator username/password. [ default: username password ] -r, --root-path TEXT Mapping provider URI to path '/' . [ default: None ] --dev Enter Development mode, DON ' T use it in production! --help Show this message and exit. Example python -m asgi_webdav --root-path . 2022 -02-26 16 :48:41,857 INFO: [ asgi_webdav.server ] ASGI WebDAV Server ( v0.9.1 ) starting... 2022 -02-26 16 :48:41,857 INFO: [ asgi_webdav.auth ] Register User: username, allow: [ '' ] , deny: [] 2022 -02-26 16 :48:41,857 INFO: [ asgi_webdav.web_dav ] Mapping Prefix: / = > file://. 2022 -02-26 16 :48:42,272 INFO: [ asgi_webdav.server ] ASGI WebDAV Server running on http://127.0.0.1:8000 ( Press CTRL+C to quit ) username is username , password is password , map . to http://localhost:8000","title":"Command Line Interface"},{"location":"zh/reference/cli/#command-line-interface","text":"","title":"Command Line Interface"},{"location":"zh/reference/cli/#command-line-interface-args","text":"Introduced in 0.8 Last updated in 1.0 python -m asgi_webdav --help Usage: python -m asgi_webdav [ OPTIONS ] Run ASGI WebDAV server Options: -V, --version Print version info and exit. -H, --host TEXT Bind socket to this host. [ default: 127 .0.0.1 ] -P, --port INTEGER Bind socket to this port. [ default: 8000 ] -c, --config TEXT Load configuration from file. [ default: None ] -u, --user <TEXT TEXT>... Administrator username/password. [ default: username password ] -r, --root-path TEXT Mapping provider URI to path '/' . [ default: None ] --dev Enter Development mode, DON ' T use it in production! --help Show this message and exit.","title":"Command Line Interface Args"},{"location":"zh/reference/cli/#example","text":"python -m asgi_webdav --root-path . 2022 -02-26 16 :48:41,857 INFO: [ asgi_webdav.server ] ASGI WebDAV Server ( v0.9.1 ) starting... 2022 -02-26 16 :48:41,857 INFO: [ asgi_webdav.auth ] Register User: username, allow: [ '' ] , deny: [] 2022 -02-26 16 :48:41,857 INFO: [ asgi_webdav.web_dav ] Mapping Prefix: / = > file://. 2022 -02-26 16 :48:42,272 INFO: [ asgi_webdav.server ] ASGI WebDAV Server running on http://127.0.0.1:8000 ( Press CTRL+C to quit ) username is username , password is password , map . to http://localhost:8000","title":"Example"},{"location":"zh/reference/config-file/","text":"Config File webdav.json file When the file does not exist When the file /data/webdav.json does not exist, http://127.0.0.1/ will map to the /data directory. logging output WARNING: load config value from file[/data/webdav.json] failed, [Errno 2] No such file or directory: '/data/webdav.json' INFO: [asgi_webdav.webdav] ASGI WebDAV(v0.3.1) starting... INFO: [asgi_webdav.distributor] Mapping Prefix: / => file:///data INFO: [asgi_webdav.auth] Register Account: username, allow:[''], deny:[] INFO: [uvicorn] Started server process [7] INFO: [uvicorn] Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit) When the file exists When the file exists, the mapping relationship is defined by the file content. Sample { \"account_mapping\" : [ { \"username\" : \"username\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"litmus\" , \"password\" : \"password\" , \"permissions\" : [ \"+^/$\" , \"+^/litmus\" , \"-^/litmus/other\" ] }, { \"username\" : \"guest\" , \"password\" : \"password\" , \"permissions\" : [] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/litmus\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/litmus/fs\" , \"uri\" : \"file:///data/litmus\" }, { \"prefix\" : \"/litmus/memory\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/litmus/other\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/~\" , \"uri\" : \"file:///data/home\" , \"home_dir\" : true } ], \"logging_level\" : \"INFO\" } logging output INFO: [asgi_webdav.webdav] ASGI WebDAV(v0.3.1) starting... INFO: [asgi_webdav.distributor] Mapping Prefix: / => file:///data/root INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus => memory:/// INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus/fs => file:///data/litmus INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus/memory => memory:/// INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus/other => memory:/// INFO: [asgi_webdav.distributor] Mapping Prefix: /~ => file:///data/home/{user name} INFO: [asgi_webdav.auth] Register Account: username, allow:[''], deny:[] INFO: [asgi_webdav.auth] Register Account: litmus, allow:['^/$', '^/litmus'], deny:['^/litmus/other'] INFO: [asgi_webdav.auth] Register Account: guest, allow:[], deny:[] INFO: [uvicorn] Started server process [9] INFO: [uvicorn] Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit) Config Object root object Introduced in 0.1 Last updated in 1.1 Key Use For Value Type Default Value account_mapping auth list[User] [] http_digest_auth auth HTTPDigestAuth HTTPDigestAuth() provider_mapping mapping list[Provider] [] hide_file_in_dir rules HideFileInDir HideFileInDir() guess_type_extension rules GuessTypeExtension GuessTypeExtension() text_file_charset_detect rules TextFileCharsetDetect TextFileCharsetDetect() compression response Compression Compression() cors response CORS CORS() logging_level other str \"INFO\" Example { \"account_mapping\": [...], \"http_digest_auth\": {...}, \"provider_mapping\": [...], \"hide_file_in_dir\": {...}, \"guess_type_extension\": {...}, \"text_file_charset_detect\": {...}, \"compression\": {...}, \"cors\": {...}, \"logging_level\": \"INFO\" } for Authentication User Object Introduced in 0.3.1 Last updated in 0.7.0 Key Value Type Default Value username str - password str - permissions list[str] [] admin bool false When the value of admin is true , the user can access the web page /_/admin/xxx Permissions Format/Example Introduced in 0.3.1 Last updated in 0.3.1 Value Allow Deny [\"+\"] Any - [\"-\"] - Any [\"+^/$\"] / /path [\"+^/path\"] /path , /path/sub /other [\"+^/path\", \"-^/path/sub2\"] /path , /path/sub1 /path/sub2 HTTPDigestAuth Object Introduced in 0.7.0 Last updated in 0.9.0 Key Value Type Default Value enable bool false enable_rule str `` disable_rule str neon/ When enable is true , the disable_rule is valid When enable is false , the enable_rule is valid for URL Mapping Provider Object Introduced in 0.1 Last updated in 0.3.1 Key Value Type Default Value prefix str - uri str - home_dir bool false Home Directory When home_dir is true , it is the home directory. The prefix recommends using /~ or /home . When home_dir is true and prefix is /~ and uri is file:///data/homes and username is user_x ; http://webdav.host/~/path will map to file:///data/homes/user_x/path . for Rules Process HideFileInDir Object Introduced in 1.0 Last updated in 1.0 Key Value Type Default Value Example enable bool true - enable_default_rules bool true - user_rules dict {} like default GuessTypeExtension Object Introduced in 0.4 Last updated in 0.4 Key Value Type Default Value Example enable bool true - enable_default_mapping bool true - filename_mapping dict[str, str] {} {\"README\": \"text/plain\"} suffix_mapping dict[str, str] {} {\".md\": \"text/plain\"} TextFileCharsetDetect Object Introduced in 0.5 Last updated in 0.5 Key Value Type Default Value enable bool false default str \"utf-8\" for Response Compression Object Introduced in 0.5 Last updated in 1.2 Key Value Type Default Value Example enable_gzip bool true - enable_brotli bool true - level DAVCompressLevel \"recommend\" \"best\" content_type_user_rule str \"\" \"^application/xml$|^text/\" CompressLevel Object Introduced in 0.5 Last updated in 0.5 DAVCompressLevel Gzip Level Brotli Level fast 1 1 recommend 4 4 best 9 11 CORS Object Introduced in 1.1 Last updated in 1.1 Key Value Type Default Value Example enable bool false - allow_url_regex str None ^/cors/path allow_origins list[str] [] [\"*\"] or [\"https://example.com\",\"http://localhost\"] allow_origin_regex str None ^https://.*\\.example\\.com$ allow_methods list[str] [\"GET\"] - allow_headers list[str] [] [\"*\"] or [\"I-Am-Example-Header,\"Me-Too\"] allow_credentials bool false - expose_headers list[str] [] - preflight_max_age int 600 -","title":"Config File"},{"location":"zh/reference/config-file/#config-file","text":"","title":"Config File"},{"location":"zh/reference/config-file/#webdavjson-file","text":"","title":"webdav.json file"},{"location":"zh/reference/config-file/#when-the-file-does-not-exist","text":"When the file /data/webdav.json does not exist, http://127.0.0.1/ will map to the /data directory.","title":"When the file does not exist"},{"location":"zh/reference/config-file/#logging-output","text":"WARNING: load config value from file[/data/webdav.json] failed, [Errno 2] No such file or directory: '/data/webdav.json' INFO: [asgi_webdav.webdav] ASGI WebDAV(v0.3.1) starting... INFO: [asgi_webdav.distributor] Mapping Prefix: / => file:///data INFO: [asgi_webdav.auth] Register Account: username, allow:[''], deny:[] INFO: [uvicorn] Started server process [7] INFO: [uvicorn] Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit)","title":"logging output"},{"location":"zh/reference/config-file/#when-the-file-exists","text":"When the file exists, the mapping relationship is defined by the file content.","title":"When the file exists"},{"location":"zh/reference/config-file/#sample","text":"{ \"account_mapping\" : [ { \"username\" : \"username\" , \"password\" : \"password\" , \"permissions\" : [ \"+\" ] }, { \"username\" : \"litmus\" , \"password\" : \"password\" , \"permissions\" : [ \"+^/$\" , \"+^/litmus\" , \"-^/litmus/other\" ] }, { \"username\" : \"guest\" , \"password\" : \"password\" , \"permissions\" : [] } ], \"provider_mapping\" : [ { \"prefix\" : \"/\" , \"uri\" : \"file:///data/root\" }, { \"prefix\" : \"/litmus\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/litmus/fs\" , \"uri\" : \"file:///data/litmus\" }, { \"prefix\" : \"/litmus/memory\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/litmus/other\" , \"uri\" : \"memory:///\" }, { \"prefix\" : \"/~\" , \"uri\" : \"file:///data/home\" , \"home_dir\" : true } ], \"logging_level\" : \"INFO\" }","title":"Sample"},{"location":"zh/reference/config-file/#logging-output_1","text":"INFO: [asgi_webdav.webdav] ASGI WebDAV(v0.3.1) starting... INFO: [asgi_webdav.distributor] Mapping Prefix: / => file:///data/root INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus => memory:/// INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus/fs => file:///data/litmus INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus/memory => memory:/// INFO: [asgi_webdav.distributor] Mapping Prefix: /litmus/other => memory:/// INFO: [asgi_webdav.distributor] Mapping Prefix: /~ => file:///data/home/{user name} INFO: [asgi_webdav.auth] Register Account: username, allow:[''], deny:[] INFO: [asgi_webdav.auth] Register Account: litmus, allow:['^/$', '^/litmus'], deny:['^/litmus/other'] INFO: [asgi_webdav.auth] Register Account: guest, allow:[], deny:[] INFO: [uvicorn] Started server process [9] INFO: [uvicorn] Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit)","title":"logging output"},{"location":"zh/reference/config-file/#config-object","text":"root object Introduced in 0.1 Last updated in 1.1 Key Use For Value Type Default Value account_mapping auth list[User] [] http_digest_auth auth HTTPDigestAuth HTTPDigestAuth() provider_mapping mapping list[Provider] [] hide_file_in_dir rules HideFileInDir HideFileInDir() guess_type_extension rules GuessTypeExtension GuessTypeExtension() text_file_charset_detect rules TextFileCharsetDetect TextFileCharsetDetect() compression response Compression Compression() cors response CORS CORS() logging_level other str \"INFO\" Example { \"account_mapping\": [...], \"http_digest_auth\": {...}, \"provider_mapping\": [...], \"hide_file_in_dir\": {...}, \"guess_type_extension\": {...}, \"text_file_charset_detect\": {...}, \"compression\": {...}, \"cors\": {...}, \"logging_level\": \"INFO\" }","title":"Config Object"},{"location":"zh/reference/config-file/#for-authentication","text":"","title":"for Authentication"},{"location":"zh/reference/config-file/#user-object","text":"Introduced in 0.3.1 Last updated in 0.7.0 Key Value Type Default Value username str - password str - permissions list[str] [] admin bool false When the value of admin is true , the user can access the web page /_/admin/xxx","title":"User Object"},{"location":"zh/reference/config-file/#permissions-formatexample","text":"Introduced in 0.3.1 Last updated in 0.3.1 Value Allow Deny [\"+\"] Any - [\"-\"] - Any [\"+^/$\"] / /path [\"+^/path\"] /path , /path/sub /other [\"+^/path\", \"-^/path/sub2\"] /path , /path/sub1 /path/sub2","title":"Permissions Format/Example"},{"location":"zh/reference/config-file/#httpdigestauth-object","text":"Introduced in 0.7.0 Last updated in 0.9.0 Key Value Type Default Value enable bool false enable_rule str `` disable_rule str neon/ When enable is true , the disable_rule is valid When enable is false , the enable_rule is valid","title":"HTTPDigestAuth Object"},{"location":"zh/reference/config-file/#for-url-mapping","text":"","title":"for URL Mapping"},{"location":"zh/reference/config-file/#provider-object","text":"Introduced in 0.1 Last updated in 0.3.1 Key Value Type Default Value prefix str - uri str - home_dir bool false","title":"Provider Object"},{"location":"zh/reference/config-file/#home-directory","text":"When home_dir is true , it is the home directory. The prefix recommends using /~ or /home . When home_dir is true and prefix is /~ and uri is file:///data/homes and username is user_x ; http://webdav.host/~/path will map to file:///data/homes/user_x/path .","title":"Home Directory"},{"location":"zh/reference/config-file/#for-rules-process","text":"","title":"for Rules Process"},{"location":"zh/reference/config-file/#hidefileindir-object","text":"Introduced in 1.0 Last updated in 1.0 Key Value Type Default Value Example enable bool true - enable_default_rules bool true - user_rules dict {} like default","title":"HideFileInDir Object"},{"location":"zh/reference/config-file/#guesstypeextension-object","text":"Introduced in 0.4 Last updated in 0.4 Key Value Type Default Value Example enable bool true - enable_default_mapping bool true - filename_mapping dict[str, str] {} {\"README\": \"text/plain\"} suffix_mapping dict[str, str] {} {\".md\": \"text/plain\"}","title":"GuessTypeExtension Object"},{"location":"zh/reference/config-file/#textfilecharsetdetect-object","text":"Introduced in 0.5 Last updated in 0.5 Key Value Type Default Value enable bool false default str \"utf-8\"","title":"TextFileCharsetDetect Object"},{"location":"zh/reference/config-file/#for-response","text":"","title":"for Response"},{"location":"zh/reference/config-file/#compression-object","text":"Introduced in 0.5 Last updated in 1.2 Key Value Type Default Value Example enable_gzip bool true - enable_brotli bool true - level DAVCompressLevel \"recommend\" \"best\" content_type_user_rule str \"\" \"^application/xml$|^text/\"","title":"Compression Object"},{"location":"zh/reference/config-file/#compresslevel-object","text":"Introduced in 0.5 Last updated in 0.5 DAVCompressLevel Gzip Level Brotli Level fast 1 1 recommend 4 4 best 9 11","title":"CompressLevel Object"},{"location":"zh/reference/config-file/#cors-object","text":"Introduced in 1.1 Last updated in 1.1 Key Value Type Default Value Example enable bool false - allow_url_regex str None ^/cors/path allow_origins list[str] [] [\"*\"] or [\"https://example.com\",\"http://localhost\"] allow_origin_regex str None ^https://.*\\.example\\.com$ allow_methods list[str] [\"GET\"] - allow_headers list[str] [] [\"*\"] or [\"I-Am-Example-Header,\"Me-Too\"] allow_credentials bool false - expose_headers list[str] [] - preflight_max_age int 600 -","title":"CORS Object"},{"location":"zh/reference/config/","text":"Configuration Config Value Priority Command Line Interface Args > Environment Variable > Configuration File > Default Value","title":"Configuration"},{"location":"zh/reference/config/#configuration","text":"","title":"Configuration"},{"location":"zh/reference/config/#config-value-priority","text":"Command Line Interface Args > Environment Variable > Configuration File > Default Value","title":"Config Value Priority"},{"location":"zh/reference/env-value/","text":"Environment Variables Name Default Value Config Object WEBDAV_LOGGING_LEVEL INFO Config.logging_level WEBDAV_USERNAME username Config.account_mapping WEBDAV_PASSWORD password Config.account_mapping","title":"Environment Variables"},{"location":"zh/reference/env-value/#environment-variables","text":"Name Default Value Config Object WEBDAV_LOGGING_LEVEL INFO Config.logging_level WEBDAV_USERNAME username Config.account_mapping WEBDAV_PASSWORD password Config.account_mapping","title":"Environment Variables"},{"location":"zh/reference/misc/","text":"Miscellaneous DAVProvider DAVProvider URI FileProvider file:///your/path data is stored in the file system MemoryProvider memory:/// data is stored in the memory Web dir browser Default enabled","title":"Miscellaneous"},{"location":"zh/reference/misc/#miscellaneous","text":"","title":"Miscellaneous"},{"location":"zh/reference/misc/#davprovider","text":"DAVProvider URI FileProvider file:///your/path data is stored in the file system MemoryProvider memory:/// data is stored in the memory","title":"DAVProvider"},{"location":"zh/reference/misc/#web-dir-browser","text":"Default enabled","title":"Web dir browser"}]}